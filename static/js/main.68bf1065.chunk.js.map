{"version":3,"sources":["i18next.js","context/AuthContext.js","utils/useLocalStorage.js","context/StyleContext.js","context/DateContext.js","context/DataStoreContext.js","utils/DateUtils.js","utils/AppBar.js","utils/restful.js","routes/login.js","utils/deepComparison.js","utils/OuterLayout.js","utils/DayListItem.js","routes/day.js","utils/MonthListItem.js","routes/month.js","utils/YearListItem.js","routes/year.js","routes/setting.js","App.js","serviceWorker.js","index.js"],"names":["i18n","use","initReactI18next","init","resources","en","translation","zh","lng","supportedLngs","load","keySeparator","interpolation","escapeValue","AuthContext","createContext","AuthProvider","props","useState","loggedin","setLoggedIn","user_id","setUserId","loginToken","setLoginToken","Provider","value","children","useLocalStorage","key","defaultVal","item","window","localStorage","getItem","JSON","parse","setLocalStorage","val","setItem","stringify","StyleContext","StyleProvider","appBarTitleColor","pickedStyle","setPickedStyle","darkMode","setDarkMode","muiTheme","createMuiTheme","palette","type","primary","main","colorSet","colorError","DateContext","DateProvider","day","setDay","month","setMonth","year","setYear","changeDate","console","log","DataStoreContext","DataStoreProvider","lastUpdate","setLastUpdate","edited","makeChange","data","setData","data_copy","setDataCopy","DateUtils","weekdays","months","isLeap","daysInMonth","getWeekDay","Date","getDay","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","saveButton","marginLeft","title","boxContainer","color","textTransform","backdrop","zIndex","appBar","frontdrop","drawer","CalenAppBar","menubgImgStyle","history","useHistory","useContext","classes","useTranslation","t","openWarning","setOpenWarning","openMenu","setOpenMenu","smUp","useMediaQuery","breakpoints","up","currentMenuElement","setCurrentMenuElement","menuElements","length","setMenuItem","index","action","closeWarning","useEffect","showBar","warnOnChangeDialog","Dialog","open","onClose","DialogTitle","DialogContent","Grid","container","justify","alignItems","xs","sm","style","padding","Button","fullWidth","variant","onClick","ThemeProvider","className","AppBar","position","Toolbar","IconButton","edge","aria-label","e","getFullYear","push","Typography","toString","padStart","Collapse","in","timeout","unmountOnExit","flex","backgroundImage","align","Backdrop","link","typography","button","backgroundColor","background","paper","Login","username","setUsername","email","setEmail","password","setPassword","errorLogin","setErrorLogin","isRegister","setIsRegister","menubgImgStyle2","toDay","getDate","getMonth","logo","top","left","width","height","backgroundSize","backgroundRepeat","backgroundPosition","showLogin","direction","marginTop","maxWidth","paddingTop","paddingBottom","startIcon","Fade","mountOnEnter","TextField","error","helperText","margin","label","onChange","target","autoComplete","trim","user_name","Promise","resolve","fetch","method","body","headers","then","res","ok","catch","err","register","json","jsonData","token","login","ButtonGroup","Object","keys","store","map","fontSize","changeLanguage","isObject","object","undefined","deepComparison","objectA","objectB","keyA","keyB","allVaild","OuterLayout","viewVariant","total","showItems","addItem","saveChange","CssBaseline","paddingLeft","paddingRight","textAlign","toLowerCase","disabled","inputProps","Divider","paragraph","protoTypes","PropTypes","isRequired","string","number","element","func","bool","DayListItem","items","renameItem","repriceItem","removeItem","passfoucs","ListItem","name","autoFocus","price","onKeyPress","array","arrayOf","Day","setTotal","itemsInit","setItemsInit","setItems","setPassFoucs","newItems","splice","parseFloat","reduce","a","b","isNaN","test","match","params","Paper","maxHeight","overflow","List","i","newData","MonthListItem","weekday","enableEdit","containerStyle","textStyle","Month","offset","offseted","Array","apply","elevation","display","gridTemplateColumns","gridGap","marginBottom","size","YearListItem","toMonth","Year","Setting","openColors","setOpenColors","changeDarkMode","closeColors","colorsDialog","setPicked","Switch","checked","App","createBrowserHistory","addEventListener","go","exact","path","render","Boolean","location","hostname","ReactDOM","Fragment","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.68bf1065.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them)\r\nconst resources = {\r\n  en: {\r\n    translation : {\r\n      \"test\" : \"test 1\",\r\n      \"lang\" : {\r\n        \"en\" : \"English\",\r\n        \"zh\" : \"中文\",\r\n        \"in\" : \"bahasa Indonesia\",\r\n      },\r\n      \"login\" : {\r\n        \"Login\" : \"Login\",\r\n        \"Register\" : \"Register\",\r\n        \"Confirm\" : \"Confirm\",\r\n        \"Email\" : \"Email\",\r\n        \"User Name\" : \"User Name\",\r\n        \"Password\" : \"Password\"\r\n      },\r\n      \"daily\": {\r\n        \"total\": 'Daily Total: ',\r\n        \"add\": 'Add Item',\r\n        \"save\": \"Save\",\r\n        \"item\": \"Item\",\r\n        \"price\": \"Price\",\r\n        \"new\": \"New Item \"\r\n      },\r\n      \"monthly\": {\r\n        'total': 'Monthly Total: '\r\n      },\r\n      \"annual\": {\r\n        'total': 'Annual Total: '\r\n      },\r\n      \"others\": {\r\n        'total': 'Total',\r\n        'dark': 'Dark Mode',\r\n        'color': 'Color Theme'\r\n      },\r\n      \"appBar\": {\r\n        'Day' : 'Day',\r\n        'Month' : 'Month',\r\n        'Year' : 'Year',\r\n        'Setting' : 'Setting',\r\n        'Logout' : 'Logout',\r\n        'change' : 'Changes have been detected. Please save changes first.'\r\n      }\r\n    }\r\n  },\r\n  zh: {\r\n    translation : {\r\n      \"test\" : \"測試 1\",\r\n      \"lang\" : {\r\n        \"en\" : \"English\",\r\n        \"zh\" : \"中文\",\r\n        \"in\" : \"bahasa Indonesia\",\r\n      },\r\n      \"login\" : {\r\n        \"Login\" : \"登入\",\r\n        \"Register\" : \"注冊\",\r\n        \"Confirm\" : \"確認\",\r\n        \"Email\" : \"電郵\",\r\n        \"User Name\" : \"用戶名稱\",\r\n        \"Password\" : \"密碼\"\r\n      },\r\n      \"daily\": {\r\n        \"total\": '每日總計: ',\r\n        \"add\": '新增項目',\r\n        \"save\": \"保存\",\r\n        \"item\": \"項目\",\r\n        \"price\": \"價格\",\r\n        \"new\": \"新項目 \"\r\n      },\r\n      \"monthly\": {\r\n        'total': '每月總計: '\r\n      },\r\n      \"annual\": {\r\n        'total': '年度總計: '\r\n      },\r\n      \"others\": {\r\n        'total': '總計',\r\n        'dark': '夜晚模式',\r\n        'color': '顏色主題'\r\n      },\r\n      \"appBar\": {\r\n        'Day' : '日期模式',\r\n        'Month' : '月份模式',\r\n        'Year' : '年份模式',\r\n        'Setting' : '設定',\r\n        'Logout' : '登出',\r\n        'change' : '已檢測到更改，請先保存更改。'\r\n      }\r\n    }\r\n  },\r\n  // in: {\r\n  //   translation : {\r\n  //     \"test\" : \"uji 1\",\r\n  //     \"lang\" : {\r\n  //       \"en\" : \"English\",\r\n  //       \"zh\" : \"中文\",\r\n  //       \"in\" : \"bahasa Indonesia\",\r\n  //     },\r\n  //     \"login\" : {\r\n  //       \"Login\" : \"Gabung\",\r\n  //       \"Register\" : \"Daftar\",\r\n  //       \"Confirm\" : \"Konfirmasi\",\r\n  //       \"Email\" : \"Email\",\r\n  //       \"User Name\" : \"Nama pengguna\",\r\n  //       \"Password\" : \"Password\"\r\n  //     },\r\n  //     \"appBar\": {\r\n  //       'Day' : 'Hari',\r\n  //       'Month' : 'Bulan',\r\n  //       'Year' : 'Tahun',\r\n  //       'Setting' : 'Pengaturan',\r\n  //       'Logout' : 'Keluar'\r\n  //     }\r\n  //   }\r\n  // }\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: \"zh\",\r\n    supportedLngs: ['en' ,'zh'],\r\n    load: 'languageOnly',\r\n\r\n    keySeparator: '.', // we do not use keys in form messages.welcome\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\n  export default i18n;","import React, {createContext, useState} from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = (props) => {\r\n\r\n\tconst [loggedin, setLoggedIn] = useState(false);\r\n\r\n\tconst [user_id, setUserId] = useState('');\r\n\tconst [loginToken, setLoginToken] = useState('');\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default AuthProvider;","import React, { useState, useEffect } from \"react\";\r\n\r\nconst useLocalStorage = (key, defaultVal) => {\r\n\r\n\tconst [localStorage, setLocalStorage] = useState(\r\n\t\t() => {\r\n\t\t\tconst item = window.localStorage.getItem(key)\r\n\t\t\treturn item ? JSON.parse(item) : defaultVal;\r\n\t\t}\r\n\t)\r\n\r\n\tconst updateLocalStorage = (val) => {\r\n\t\tsetLocalStorage(val)\r\n\t\twindow.localStorage.setItem(key, JSON.stringify(val));\r\n\t}\r\n\r\n\treturn [localStorage, updateLocalStorage]\r\n}\r\n\r\nexport default useLocalStorage;","import React, {createContext, useEffect, useState} from 'react';\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nimport useLocalStorage from '../utils/useLocalStorage.js'\r\n\r\nexport const StyleContext = createContext();\r\n\r\nconst StyleProvider = (props) => {\r\n\r\n\tconst colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF0066', '#E30052', '#C6003D', '#AA0029']]\r\n\tconst appBarTitleColor = ['#3f50b5', '#f50057']\r\n\tconst colorError = \"#f44336\"\r\n\r\n\t// const [pickedStyle, setPickedStyle] = useState(0)\r\n\t// const [darkMode, setDarkMode] = useState(false)\r\n\r\n\tconst [pickedStyle, setPickedStyle] = useLocalStorage('pickedStyle', 0)\r\n\tconst [darkMode, setDarkMode] = useLocalStorage('darkMode', false)\r\n\r\n\tconst muiTheme = createMuiTheme({\r\n\t\tpalette: {\r\n\t\t  type: darkMode ? 'dark' : 'light',\r\n\t\t  primary: {\r\n\t\t\t  main: appBarTitleColor[pickedStyle]\r\n\t\t  },\r\n\t\t},\r\n\t})\r\n\r\n\t// const [muiTheme, setMuiTheme] = useState(createMuiTheme({\r\n\t// \tpalette: {\r\n\t// \t  type: 'light',\r\n\t// \t  primary: {\r\n\t// \t\t  main: appBarTitleColor[0]\r\n\t// \t  },\r\n\t// \t},\r\n\t// }));\r\n\r\n\t// useEffect(() => {\r\n\t// \tconsole.log(darkMode)\r\n\t// \tconsole.log(pickedStyle)\r\n\t// \tsetMuiTheme(createMuiTheme({\r\n\t// \t\tpalette: {\r\n\t// \t\t  type: darkMode ? 'dark' : 'light',\r\n\t// \t\t  primary: {\r\n\t// \t\t\t  main: appBarTitleColor[pickedStyle]\r\n\t// \t\t  },\r\n\t// \t\t},\r\n\t// \t}));\r\n\r\n\t// }, [darkMode, pickedStyle])\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<StyleContext.Provider value={{\r\n\t\t\tcolorSet,\r\n\t\t\tappBarTitleColor,\r\n\t\t\tcolorError,\r\n\t\t\tpickedStyle,\r\n\t\t\tsetPickedStyle,\r\n\t\t\tdarkMode,\r\n\t\t\tsetDarkMode,\r\n\t\t\tmuiTheme\r\n\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</StyleContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default StyleProvider;","import React, {createContext, useState} from 'react';\r\n\r\nexport const DateContext = createContext();\r\n\r\nconst DateProvider = (props) => {\r\n\r\n\tconst [day, setDay] = useState(-1);\r\n\tconst [month, setMonth] = useState(-1);\r\n\tconst [year, setYear] = useState(-1);\r\n\r\n\tconst changeDate = (day, month, year) => {\r\n\t\tsetDay(day)\r\n\t\tsetMonth(month)\r\n\t\tsetYear(year)\r\n\t\tconsole.log(day+'/'+month+'/'+year)\r\n\t}\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<DateContext.Provider value={{day,\r\n\t\t\tmonth,\r\n\t\t\tyear,\r\n\t\t\tchangeDate: (day, month, year) => { changeDate(day, month, year) }}\r\n\t\t}>\r\n\t\t\t{props.children}\r\n\t\t</DateContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default DateProvider;","import React, {createContext, useState} from 'react';\r\n\r\nexport const DataStoreContext = createContext();\r\n\r\nconst DataStoreProvider = (props) => {\r\n\r\n\tconst [lastUpdate, setLastUpdate] = useState(null);\r\n\tconst [edited, makeChange] = useState(false);\r\n\r\n\tconst [data, setData] = useState(null);\r\n\tconst [data_copy, setDataCopy] = useState(null);\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<DataStoreContext.Provider value={{\r\n\t\t\tlastUpdate, edited, data, data_copy,\r\n\t\t\tsetLastUpdate, makeChange, setData, setDataCopy\r\n\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</DataStoreContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default DataStoreProvider;","\r\nconst DateUtils = {\r\n\tweekdays : ['Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat'],\r\n\tmonths : ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n\t\r\n\tisLeap : (year) => {\r\n\t\tif (year % 400 === 0)\r\n\t\t\treturn 1\r\n\t\tif (year % 100 === 0)\r\n\t\t\treturn 0\r\n\t\tif (year % 4 === 0)\r\n\t\t\treturn 1\r\n\t\telse\r\n\t\t\treturn 0\r\n\t},\r\n\t\r\n\tdaysInMonth : (month, year) => {\r\n\t\treturn (month === 2) ? (28 + DateUtils.isLeap(year)) : 31 - (month - 1) % 7 % 2;\r\n\t},\r\n\t\r\n\t// https://stackoverflow.com/questions/17964170/get-the-weekday-from-a-date-object-or-date-string-using-javascript\r\n\tgetWeekDay : (day, month, year) => {\r\n\t\tvar dow = new Date(year + '-' + month + '-' + day).getDay();\r\n\t\t// console.log(dow);\r\n\t\treturn dow;\r\n\t}\r\n\r\n}\r\n\r\nexport default DateUtils;","import React, { useEffect, useState, useContext } from \"react\";\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport DateUtils from './DateUtils.js'\r\n\r\nimport { makeStyles, createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport PdfIcon from '@material-ui/icons/PictureAsPdf';\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// import { renderToString } from \"react-dom/server\";\r\n// import jsPDF from \"jspdf\";\r\n// import 'jspdf-autotable'\r\n\r\n// import PDFGenerator from '../utils/PDFGenerator.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  saveButton: {\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  boxContainer: {\r\n    color: 'white',textTransform: 'none',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.appBar + 1,\r\n    color: '#fff',\r\n  },\r\n  frontdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n}));\r\n\r\nconst CalenAppBar = (props) => {\r\n\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n\r\n  const {colorSet, appBarTitleColor, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const classes = useStyles(muiTheme);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [openWarning, setOpenWarning] = useState(false);\r\n\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n\r\n  // const [day, setDay] = useState(new Date().getDate());\r\n  // const [month, setMonth] = useState(new Date().getMonth() + 1);\r\n  // const [year, setYear] = useState(new Date().getFullYear());\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [currentMenuElement, setCurrentMenuElement] = useState(0);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  const menuElements = [t('appBar.Day'), t('appBar.Month'), t('appBar.Year'), t('appBar.Setting'), t('appBar.Logout'), '']\r\n\r\n  var menubgImgStyle;\r\n\r\n  if(smUp){\r\n    menubgImgStyle = 'radial-gradient(circle at ' + (currentMenuElement + 0.5) / menuElements.length * 100 + '% 50%, ' + colorSet[pickedStyle][0] + ', ' + colorSet[pickedStyle][1] + ', ' + colorSet[pickedStyle][2] + ', ' + colorSet[pickedStyle][3] + ' 20%)'\r\n  }\r\n  else{\r\n    menubgImgStyle = 'radial-gradient(circle at 50% ' + (currentMenuElement + 0.5) / (menuElements.length - 1) * 100 + '%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)'\r\n  }\r\n\r\n  // const isLeap = (year) => {\r\n  //   if (year % 400 === 0)\r\n  //       return 1\r\n  //   if (year % 100 === 0)\r\n  //       return 0\r\n  //   if (year % 4 === 0)\r\n  //       return 1\r\n  //   else\r\n  //       return 0\r\n  // }\r\n\r\n  const toPast = () => {\r\n\r\n    if(edited){\r\n      setOpenWarning(true);\r\n      return;\r\n    }\r\n\r\n    if(month < 0){\r\n      if(year > new Date().getFullYear() - 5){\r\n        changeDate(day, month, year - 1)\r\n        history.push('/year/' + (year - 1));\r\n      }\r\n\r\n    }\r\n    else{\r\n      if(day < 0){\r\n        if(month > 1){\r\n          changeDate(day, month - 1, year)\r\n          history.push('/month/' +(month - 1)+'/'+year);\r\n        }\r\n        else{\r\n          if(year > new Date().getFullYear() - 5){\r\n            changeDate(day, 12, year - 1)\r\n            history.push('/month/' +12+'/'+(year - 1));\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        if(day > 1){\r\n          changeDate(day - 1, month, year)\r\n          history.push('/day/' + (day - 1)+'/'+month+'/'+year);\r\n        }\r\n        else{\r\n          if(month > 1){\r\n            changeDate(31, month - 1, year)\r\n            history.push('/day/' + 31+'/'+(month - 1)+'/'+year);\r\n          }\r\n          else{\r\n            if(year > new Date().getFullYear() - 5){\r\n              changeDate(31, 12, year - 1)\r\n              history.push('/day/' + 31+'/'+12+'/'+(year - 1));\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const toFuture = () => {\r\n\r\n    if(edited){\r\n      setOpenWarning(true);\r\n      return;\r\n    }\r\n\r\n    // console.log(smUp)\r\n\r\n    if(month < 0){\r\n      if(year < new Date().getFullYear() + 5){\r\n        changeDate(day, month, year + 1)\r\n        history.push('/year/' + (year + 1));\r\n      }\r\n\r\n    }\r\n    else{\r\n      if(day < 0){\r\n        if(month < 12){\r\n          changeDate(day, month + 1, year)\r\n          history.push('/month/' +(month + 1)+'/'+year);\r\n        }\r\n        else{\r\n          if(year < new Date().getFullYear() + 5){\r\n            changeDate(day, 1, year + 1)\r\n            history.push('/month/' +1+'/'+(year + 1));\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        // var daysInMonth = (month === 2) ? (28 + isLeap(year)) : 31 - (month - 1) % 7 % 2;\r\n        if(day < DateUtils.daysInMonth(month, year)){\r\n        // if(day < daysInMonth){\r\n          changeDate(day + 1, month, year)\r\n          history.push('/day/' + (day + 1)+'/'+month+'/'+year);\r\n        }\r\n        else{\r\n          if(month < 12){\r\n            changeDate(day, month + 1, year)\r\n            history.push('/day/' +1+'/'+(month + 1)+'/'+year);\r\n          }\r\n          else{\r\n            if(year < new Date().getFullYear() + 5){\r\n              changeDate(day, month, year + 1)\r\n              history.push('/day/' +1+'/'+1+'/'+(year + 1));\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const setMenuItem = (index, action) => {\r\n    if(currentMenuElement === index)\r\n      return;\r\n    setCurrentMenuElement(index)\r\n    action()\r\n  }\r\n\r\n  // const exportResult = () => {\r\n\r\n  //   if(edited){\r\n  //     setOpenWarning(true);\r\n  //     return;\r\n  //   }\r\n\r\n  //   var filename =\r\n  //     (day > 0 ? day.toString().padStart(2, \"0\") + \"-\" : \"\")\r\n  //       + (month > 0 ? month.toString().padStart(2, \"0\") + \"-\" : \"\")\r\n  //       + year + '_report';\r\n\r\n  //   var title = '';\r\n  //   var subTitles = [];\r\n  //   var headers = [];\r\n  //   var details = [];\r\n\r\n  //   if(day > 0 && month > 0){\r\n  //     title = 'daily report';\r\n\r\n  //     let total = 0;\r\n  //     headers.push(['Item', 'Price'])\r\n\r\n  //     console.log(data);\r\n\r\n  //     if(data !== null){\r\n  //       if(data[year] !== undefined){\r\n  //         if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n  //           if(data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] !== undefined){\r\n  //             total = data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].total;\r\n  //             var details_0 = []              \r\n\r\n  //             for(var i = 0; i < data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items.length; i++){\r\n  //               details_0.push([data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items[i].name, data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items[i].price])\r\n  //             }\r\n  \r\n  //             details.push(details_0);\r\n\r\n  //           }\r\n  //         }\r\n  //       }\r\n  //     }\r\n\r\n  //     subTitles.push((day > 0 ? day.toString().padStart(2, \"0\") + \"/\" : \"\")\r\n  //       + (month > 0 ? month.toString().padStart(2, \"0\") + \"/\" : \"\")\r\n  //       + year + ' total: ' + total);\r\n\r\n      \r\n  //   }\r\n  //   else if(month > 0){\r\n  //     title = 'monthly report';\r\n\r\n  //     let total = 0;\r\n  //     headers.push(['Day', 'Price'])\r\n\r\n  //     console.log(data);\r\n\r\n  //     if(data !== null){\r\n  //       if(data[year] !== undefined){\r\n  //         if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n  //           var details_0 = []              \r\n\r\n  //           for(var i = 1; i < DateUtils.daysInMonth(month,year) + 1; i++){\r\n\r\n  //             if(data[year][month.toString().padStart(2, \"0\")][i.toString().padStart(2, \"0\")] === undefined){\r\n  //               details_0.push([DateUtils.getWeekDay(i, month, year) === 0 ? (i + ', ' + DateUtils.weekdays[DateUtils.getWeekDay(i, month, year)]): i, 0])\r\n  //             }\r\n  //             else{\r\n  //               details_0.push([DateUtils.getWeekDay(i, month, year) === 0 ? (i + ', ' +  DateUtils.weekdays[DateUtils.getWeekDay(i, month, year)]): i, data[year][month.toString().padStart(2, \"0\")][i.toString().padStart(2, \"0\")].total])\r\n  //               total += parseFloat(data[year][month.toString().padStart(2, \"0\")][i.toString().padStart(2, \"0\")].total) * 100;\r\n  //             }\r\n  //           }\r\n\r\n  //           // for(var d of Object.keys(data[year][month.toString().padStart(2, \"0\")])){\r\n  //           //   details_0.push([d, data[year][month.toString().padStart(2, \"0\")][d].total])\r\n  //           //   total += data[year][month.toString().padStart(2, \"0\")][d].total;\r\n  //           // }\r\n  //           total /= 100;\r\n  //           details.push(details_0);\r\n\r\n  //         }\r\n  //       }\r\n  //     }\r\n\r\n  //     subTitles.push((month > 0 ? month.toString().padStart(2, \"0\") + \"/\" : \"\")\r\n  //       + year + ' total: ' + total);\r\n  //   }\r\n  //   else{\r\n  //     title = 'annual report';\r\n\r\n  //     let total = 0;\r\n  //     headers.push(['Month', 'Price'])\r\n\r\n  //     console.log(data);\r\n\r\n  //     if(data !== null){\r\n  //       if(data[year] !== undefined){\r\n\r\n  //         var details_0 = []              \r\n\r\n  //         for(var i = 1; i < 13; i++){\r\n  //           if(data[year][i.toString().padStart(2, \"0\")] === undefined){\r\n  //             details_0.push([DateUtils.months[i - 1], 0])\r\n  //           }\r\n  //           else{\r\n  //             let subtotal = 0;\r\n\r\n  //             for(var j = 1; j < DateUtils.daysInMonth(i,year) + 1; j++){\r\n  //               if(data[year][i.toString().padStart(2, \"0\")][j.toString().padStart(2, \"0\")] === undefined)\r\n  //                 continue;\r\n\r\n  //               subtotal += parseFloat(data[year][i.toString().padStart(2, \"0\")][j.toString().padStart(2, \"0\")].total) * 100;\r\n  //             }\r\n\r\n  //             subtotal /= 100;\r\n  //             total += parseFloat(subtotal) * 100;\r\n\r\n  //             details_0.push([DateUtils.months[i - 1], subtotal])\r\n  //           }\r\n  //         }\r\n\r\n  //         // for(var d of Object.keys(data[year][month.toString().padStart(2, \"0\")])){\r\n  //         //   details_0.push([d, data[year][month.toString().padStart(2, \"0\")][d].total])\r\n  //         //   total += data[year][month.toString().padStart(2, \"0\")][d].total;\r\n  //         // }\r\n  //         total /= 100;\r\n  //         details.push(details_0);\r\n  //       }\r\n  //     }\r\n\r\n  //     subTitles.push(year + ' total: ' + total);\r\n  //   }\r\n\r\n  //   PDFGenerator(filename, title, subTitles, headers, details);\r\n\r\n  // }\r\n\r\n  const closeWarning = () => {\r\n    setOpenWarning(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    setOpenMenu(false)\r\n    setMenuItem(month < 0 ? 2 : (day < 0 ? 1 : 0) , () => {})\r\n\r\n  }, [day, month, year])\r\n\r\n  var warnOnChangeDialog = <Dialog open={openWarning} onClose={closeWarning}>\r\n                            <DialogTitle>\r\n                              {t('appBar.change')}\r\n                            </DialogTitle>\r\n                            <DialogContent>\r\n                              <Grid container spacing={0} justify=\"center\" alignItems=\"center\">\r\n                                {/* <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                  <Button fullWidth style={{textTransform: 'none'}} color=\"primary\" variant=\"contained\">Yes</Button>\r\n                                </Grid>\r\n                                <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                  <Button fullWidth style={{textTransform: 'none'}} variant=\"outlined\">No</Button>\r\n                                </Grid>\r\n                                <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                  <Button fullWidth style={{textTransform: 'none'}} variant=\"outlined\" onClick={closeWarning}>Cancel</Button>\r\n                                </Grid> */}\r\n                                <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                  <Button fullWidth style={{textTransform: 'none'}} variant=\"outlined\" onClick={closeWarning}>Ok</Button>\r\n                                </Grid>\r\n                              </Grid>\r\n                            </DialogContent>\r\n                          </Dialog>\r\n\r\n  var showDateBar;\r\n\r\n  var showBar;\r\n\r\n  if(loggedin){\r\n    showBar = <ThemeProvider theme={muiTheme}>\r\n                {warnOnChangeDialog}\r\n                <div className={classes.root}>\r\n                  <AppBar className={classes.frontdrop} position=\"relative\" color='primary'>\r\n                  {/* <AppBar className={classes.frontdrop} position=\"relative\" style={{backgroundColor: `${appBarTitleColor[pickedStyle]}`}}> */}\r\n                    <Toolbar>\r\n                      <IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={(e) => setOpenMenu(!openMenu)}\r\n                      >\r\n                        <MenuIcon/>\r\n                      </IconButton>\r\n                      <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\r\n                        <IconButton color=\"inherit\" onClick={toPast}>\r\n                          <LeftIcon />\r\n                        </IconButton>\r\n\r\n                        <Typography variant=\"h6\">\r\n                          {day > 0 && month > 0\r\n                            ? day.toString().padStart(2, \"0\") +\r\n                              \"/\" +\r\n                              month.toString().padStart(2, \"0\") +\r\n                              \"/\" +\r\n                              year\r\n                            : month > 0\r\n                            ? month.toString().padStart(2, \"0\") + \"/\" + year\r\n                            : year}\r\n                        </Typography>\r\n\r\n                        <IconButton color=\"inherit\" onClick={toFuture}>\r\n                          <RightIcon />\r\n                        </IconButton>\r\n                      </Grid>\r\n                      {/* <IconButton\r\n                        edge=\"end\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={(e) => exportResult()}\r\n                        disabled={currentMenuElement === 3}\r\n                      >\r\n                        <PdfIcon />\r\n                      </IconButton> */}\r\n                    </Toolbar>\r\n                  </AppBar>\r\n                  <Collapse in={openMenu} timeout=\"auto\" unmountOnExit>\r\n                    <Grid container spacing={0} justify=\"center\" alignItems=\"center\" flex={1}>\r\n                      <Grid container spacing={0} justify=\"center\" alignItems=\"center\" flex={1} style={{marginLeft: '5px', marginRight: '5px', backgroundImage: `${menubgImgStyle}`}}>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(0 , () => {\r\n                                changeDate(day === -1 ? 1 : day, month === -1 ? 1 : month, year)\r\n                                history.push('/day/'+ (day === -1 ? 1 : day) +'/'+ (month === -1 ? 1 : month) +'/'+ year);\r\n                              })               \r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[0]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(1, () => {\r\n                                changeDate(-1, month === -1 ? 1 : month, year)\r\n                                history.push('/month/'+ (month === -1 ? 1 : month) +'/'+ year);   \r\n                              })             \r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[1]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(2, () => {\r\n                                changeDate(-1, -1, year)\r\n                                history.push('/year/' + year);  \r\n                              })\r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[2]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(3, () => {\r\n                                history.push('/setting')\r\n                              })\r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[3]}</Button>\r\n                        </Grid>\r\n                        {/* <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setOpenMenu(!openMenu)\r\n                              setMenuItem(4, () => {\r\n                                // props.logout()\r\n                                setUserId('');\r\n                                setLoginToken('');\r\n                                // setData(null)\r\n                                setLoggedIn(false);\r\n                                history.push('/')\r\n                              })\r\n                            }}>{menuElements[4]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Typography> </Typography>\r\n                        </Grid> */}\r\n                      </Grid>                \r\n                    </Grid>                \r\n                  </Collapse>\r\n                  <Backdrop className={classes.backdrop} open={openMenu} onClick={(e) => setOpenMenu(false)} />\r\n                </div>\r\n              </ThemeProvider>\r\n  }\r\n  else\r\n    showBar = null\r\n\r\n\r\n  return (\r\n    <>\r\n      {showBar}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CalenAppBar;","const test_link = 'http://localhost:5000/multi-lang-expenditure-tracker/us-central1/app/';\r\nconst deploy_link = 'https://us-central1-multi-lang-expenditure-tracker.cloudfunctions.net/app/';\r\n\r\nconst link = deploy_link;\r\n// const link = test_link;\r\n\r\nexport default link;","import React, { useEffect, useState, useContext }  from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nimport LoginIcon from '@material-ui/icons/AccountBox';\r\nimport RegIcon from '@material-ui/icons/Create';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport link from '../utils/restful'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    ...theme.typography.button,\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nfunction Login(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n\tconst {day, month, year, changeDate} = useContext(DateContext);\r\n\tconst {colorSet, pickedStyle} = useContext(StyleContext);\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\tconst [username, setUsername] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [errorLogin, setErrorLogin] = useState('')\r\n\r\n\t// const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n\r\n\tvar loginImgStyle = 'linear-gradient(rgba(0,41,132,0.4), rgba(0,61,173,0.65), rgba(0,82,214,0.7), rgba(0,102,255,0.9))';\r\n\tvar menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[0][0] + ' 5%, ' + colorSet[0][1] + ' 15%, ' + colorSet[0][2] + ' 25%, ' + colorSet[0][3] + ' 50%)';\r\n\r\n\tconst [isRegister, setIsRegister] = useState(false);\r\n\r\n\tvar menubgImgStyle2 = 'radial-gradient(circle at ' + (isRegister ? 1.5 : 0.5) / 2 * 100 + '% 50%, ' + colorSet[0][0] + ', ' + colorSet[0][1] + ', ' + colorSet[0][2] + ', ' + colorSet[0][3] + ' 20%)'\r\n\t\r\n\tconst history = useHistory();\r\n\r\n\tconst toDay = () => {\r\n\t\tchangeDate(new Date().getDate(), new Date().getMonth() + 1, new Date().getFullYear())\r\n\t\thistory.push('/day/' + (new Date().getDate()) + '/' + (new Date().getMonth() + 1) + '/' + (new Date().getFullYear()));\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\t// console.log(Object.keys(i18n.store.data))\r\n\r\n\t\t// if(loggedin){\r\n\t\t// \tconsole.log(changeDate);\r\n\t\t\t// changeDate(new Date().getDate(), new Date().getMonth() + 1, new Date().getFullYear())\r\n\t\t\tsetLoggedIn(true)\r\n\t\t\ttoDay();\r\n\t\t// }\r\n\t}, [])\r\n\r\n\tconst register = () => {\r\n\t\tif(username.trim().length < 1 || email.trim().length < 1 || password.trim().length < 1){\r\n\t\t\tsetErrorLogin('User Name/Email/password cannot be empty')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tuser_name: username,\r\n\t\t\temail: email,\r\n\t\t\tpassword: password\r\n\t\t}\r\n\r\n\t\tPromise.resolve(fetch(link + 'api/register',{\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type' : 'application/json'\r\n\t\t\t}\r\n\t\t})).then((res) => {\r\n\t\t\tif(res.ok){\r\n\t\t\t\tsetIsRegister(false);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconsole.log('404')\r\n\t\t\t\tsetErrorLogin('Email is already registered. Please try another one')\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err)\r\n\t\t\tsetErrorLogin('Server error. Please try again later')\r\n\t\t\treturn;\r\n\t\t})\r\n\t}\r\n\r\n\tconst login = () => {\r\n\r\n\t\tif(email.trim().length < 1 || password.trim().length < 1){\r\n\t\t\t// local login\r\n\t\t\tchangeDate(day, month, year);\r\n\t\t\t\t\t\r\n\t\t\tsetUserId('');\r\n\t\t\t// setLoginToken(jsonData.token);\r\n\t\t\tsetLoggedIn(true)\r\n\t\t\t// props.login();\r\n\t\t\ttoDay();\r\n\r\n\t\t\t// setErrorLogin('Email/password cannot be empty')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\temail: email,\r\n\t\t\tpassword: password\r\n\t\t}\r\n\r\n\t\tPromise.resolve(fetch(link + 'api/login',{\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(data),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type' : 'application/json'\r\n\t\t\t}\r\n\t\t})).then((res) => {\r\n\t\t\tif(res.ok){\r\n\t\t\t\tPromise.resolve(res.json()).then((jsonData) => {\r\n\t\t\t\t\tchangeDate(day, month, year);\r\n\t\t\t\t\t\r\n\t\t\t\t\tsetUserId(jsonData.user_id);\r\n\t\t\t\t\tsetLoginToken(jsonData.token);\r\n\t\t\t\t\tsetLoggedIn(true)\r\n\t\t\t\t\t// props.login();\r\n\t\t\t\t\ttoDay();\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tsetErrorLogin('Server error. Please try again later')\r\n\t\t\t\t\treturn;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tconsole.log('404')\r\n\t\t\t\tsetErrorLogin('Email/password is invalid')\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log(err)\r\n\t\t\tsetErrorLogin('Server error. Please try again later')\r\n\t\t\treturn;\r\n\t\t})\r\n\r\n\t\t// props.changeDate(day, month, year)\r\n\t\t// props.login();\r\n\t\t// toDay();\r\n\t}\r\n\r\n\tvar logo = <div style={{position: 'absolute', top: 0, left: 0, width: '100vw', height: '40vh', backgroundImage: 'url(' + 'img/logo.png' +')', backgroundSize: 'contain', backgroundRepeat: 'no-repeat', backgroundPosition: 'center'}} />\r\n\r\n\t// https://stackoverflow.com/questions/55647969/how-to-get-one-elements-to-slide-in-while-the-other-slides-out-using-react-and\r\n\tvar showLogin = <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{marginTop: '45vh'}}>\r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" flex={1} style={{maxWidth: '300px', backgroundImage: `${menubgImgStyle2}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Grid container item xs={6} justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetIsRegister(false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstartIcon={<LoginIcon/>}\r\n\t\t\t\t\t\t\t\t>{t('login.Login')}</Button>\r\n\t\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t\t<Grid container item xs={6} justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetIsRegister(true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstartIcon={<RegIcon/>}\r\n\t\t\t\t\t\t\t\t>{t('login.Register')}</Button>\r\n\t\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{isRegister ?\r\n\t\t\t\t\t\t\t<Fade in={isRegister} mountOnEnter unmountOnExit>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.User Name\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Email\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Password\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Fade>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{isRegister ? null\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Fade in={!isRegister} mountOnEnter unmountOnExit>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Email\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Password\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Fade>\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\tif(isRegister)\r\n\t\t\t\t\t\t\t\t\tregister();\r\n\t\t\t\t\t\t\t\telse\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlogin();\r\n\t\t\t\t\t\t\t}}>{t('login.Confirm')}</Button>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\r\n\t\t\t\t\t\t\t<ButtonGroup variant=\"text\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t{Object.keys(i18n.store.data).map((val) => (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tkey={val}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{fontSize: '12px'}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => i18n.changeLanguage(val)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('lang.' + val)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t</Grid>\r\n\r\n\treturn (\r\n\t\t<div style={{position: 'absolute', top: 0, left: 0, width: '100vw', height: '40vh', backgroundImage: `${loginImgStyle}` + ', url(' + 'img/usd-2874026_1280.jpg' +')', backgroundSize: 'cover', backgroundRepeat: 'no-repeat'}} >\r\n\t\t\t{logo}\r\n\t\t\t{showLogin}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;","const deepComparison = (objectA, objectB) => {\r\n\tconst areObjects = isObject(objectA) && isObject(objectB)\r\n\r\n\tif(areObjects){\r\n\t\tconst keyA = Object.keys(objectA);\r\n\t\tconst keyB = Object.keys(objectB);\r\n\t\r\n\t\tif(keyA.length !== keyB.length)\r\n\t\t\treturn false;\r\n\r\n\t\tif(keyA.length === 0)\r\n\t\t\treturn true;\r\n\r\n\t\tvar allVaild = true;\r\n\r\n\t\tfor(const key of keyA){\r\n\t\t\tallVaild = deepComparison(objectA[key], objectB[key]) && allVaild;\r\n\t\t}\r\n\r\n\t\treturn allVaild;\r\n\t}\r\n\telse{\r\n\t\treturn objectA === objectB;\r\n\t}\r\n\t\r\n}\r\n\r\nconst isObject = (object) => {\r\n\treturn object != undefined && object != null && typeof object === 'object';\r\n}\r\n\r\nexport default deepComparison;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport { Divider, Grid, TextField, Button } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst OuterLayout = ({muiTheme, viewVariant, total, showItems, addItem, edited, saveChange, menubgImgStyle}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n\t\t\t\t<Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n\t\t\t\t\t<Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n\t\t\t\t\t<Typography>{t(`${viewVariant.toLowerCase()}.total`)}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\t\tvalue={total}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t<Typography paragraph/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t{viewVariant === 'Daily' ?\r\n\t\t\t\t\t\t<Grid item xs={12} sm={10}>          \r\n\t\t\t\t\t\t\t{showItems}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tshowItems\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(addItem === null || addItem === undefined) ?\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Typography paragraph/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n\t\t\t\t\t\t\t<div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\taddItem()\r\n\t\t\t\t\t\t\t}}>{t('daily.add')}</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>     \r\n\t\t\t\t\t}         \r\n\t\t\t\t</Grid>     \r\n\t\t\t\t{(saveChange === null || saveChange === undefined) ?\r\n\t\t\t\t\tnull\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n\t\t\t\t\t\t\t<div style={edited ? {backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'} : {backgroundColor: '#AAAAAA', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" disabled={!edited} onClick={() => {\r\n\t\t\t\t\t\t\t\tsaveChange()\r\n\t\t\t\t\t\t\t}}>{t('daily.save')}</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>     \r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t} \r\n\t\t\t</div>\r\n\t\t\t</ThemeProvider>\r\n\t);\r\n\r\n}\r\n\r\nOuterLayout.protoTypes = {\r\n\tmuiTheme: PropTypes.object.isRequired,\r\n\tviewVariant: PropTypes.string.isRequired,\r\n\ttotal: PropTypes.number.isRequired,\r\n\tshowItems: PropTypes.element.isRequired,\r\n\taddItem: PropTypes.func,\r\n\tedited: PropTypes.bool,\r\n\tsaveChange: PropTypes.func,\r\n\tmenubgImgStyle: PropTypes.string,\r\n}\r\n\r\nexport default OuterLayout;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\n\r\nconst DayListItem = ({index, val, items, darkMode, appBarTitleColor, pickedStyle, renameItem, repriceItem, addItem, removeItem, passfoucs}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t<Grid item xs={6} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('daily.item')}\r\n\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t// }}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('daily.price')}\r\n\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\tvalue={val.price}\r\n\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\tif(index === items.length - 1)\r\n\t\t\t\t\t\t\tif(e.key === 'Enter')\r\n\t\t\t\t\t\t\t\taddItem();\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\t// color=\"primary\"\r\n\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItem(index);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RemoveIcon/>\r\n\t\t\t\t</IconButton>                            \r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nDayListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tval: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trenameItem: PropTypes.func.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\taddItem: PropTypes.func.isRequired,\r\n\tremoveItem: PropTypes.func.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default DayListItem;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport deepComparison from '../utils/deepComparison.js'\r\n\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport DayListItem from '../utils/DayListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\nimport link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Day = (props) => {\r\n  const history = useHistory();\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [itemsInit, setItemsInit] = useState(null);\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  \r\n  const saveChange = () => {\r\n    if(edited){\r\n\r\n      for(var i = 0; i < items.length; i++){\r\n        if(items[i].price === '')\r\n          items[i].price = '0'\r\n      }\r\n\r\n      const newData = {...data};\r\n\r\n      if(items === null || items.length < 1){\r\n\r\n        if(newData !== null){\r\n          if(newData[year] !== undefined){\r\n            if(newData[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n              if(newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] !== undefined)\r\n                delete newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")];\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        if(newData === null)\r\n          newData = {}\r\n        \r\n        if(newData[year] === undefined)\r\n          newData[year] = {}\r\n        \r\n        if(newData[year][month.toString().padStart(2, \"0\")] === undefined)\r\n          newData[year][month.toString().padStart(2, \"0\")] = {}\r\n        \r\n        if(newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] === undefined)\r\n          newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] = {}\r\n\r\n        newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items = items;\r\n        newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].total = total;\r\n      }\r\n\r\n      setData(newData);\r\n      setItemsInit({...items});\r\n      makeChange(false)\r\n    }\r\n  }\r\n\r\n  const addItem = () => {\r\n    setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n      newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems.push({ name: t('daily.new') + (newItems.length + 1), price: '' });\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n      newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems.splice(index, 1);\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n    setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    console.log(name)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(index !== newItems.length - 1)\r\n      if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n        newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems[index].name = name;\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    if(isNaN(price)){\r\n      price = 0\r\n      return;\r\n    }\r\n\r\n    if(!/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n      return;\r\n\r\n    const newItems = [...items];\r\n\r\n    if(index !== newItems.length - 1)\r\n      if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n        newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].price = Number(price);\r\n    newItems[index].price = price === '' ? '0' : price;\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n      return;\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    // test data\r\n\r\n    var items = [\r\n      // { name: 'test1', price: 50 },\r\n      // { name: 'test2', price: 20 },\r\n      // { name: 'test21', price: 40 },\r\n      // { name: 'test25', price: 22 },\r\n      // { name: 'test12', price: 27 },\r\n      // { name: 'test112', price: 20 },\r\n      // { name: 'test n', price: 15 }\r\n    ]\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n          if(data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] !== undefined)\r\n            items = data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items;\r\n        }\r\n      }\r\n    }\r\n\r\n    setPassFoucs(false);\r\n\r\n    setItems(items);\r\n    setItemsInit({...items});\r\n    setTotal(items.map(val => val.price * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n\r\n  }, [props.match.params])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    showItems = <Paper style={{maxHeight: '60vh', overflow: 'auto'}}>\r\n                      <List style={{padding: '5px 8px'}}>\r\n                        {items.map((val, index) => \r\n                          <div key={index}>\r\n                            {index === 0 ? null : <Divider/>}\r\n                            <DayListItem\r\n                              index={index}\r\n                              val={val}\r\n                              items={items}\r\n                              darkMode={darkMode}\r\n                              appBarTitleColor={appBarTitleColor}\r\n                              pickedStyle={pickedStyle}\r\n                              renameItem={renameItem}\r\n                              repriceItem={repriceItem}\r\n                              addItem={addItem}\r\n                              removeItem={removeItem}\r\n                              passfoucs={passfoucs}\r\n                              />\r\n                            {/* <ListItem style={{padding: '3px'}}>\r\n                              <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n                                <Grid item xs={6} style={{paddingRight: '15px'}}>\r\n                                  <TextField\r\n                                    fullWidth\r\n                                    color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n                                    color='primary'\r\n                                    variant='outlined'\r\n                                    margin='dense'\r\n                                    label='item'\r\n                                    value={val.name}\r\n                                    onChange={(e) => {renameItem(index, e.target.value)}}\r\n                                    // onKeyPress={(e) => {\r\n                                    //   if(index === items.length - 1)\r\n                                    //     if(e.key === 'Enter')\r\n                                    //       changeFocus();\r\n                                    // }}\r\n                                  />\r\n                                </Grid>\r\n                                <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n                                  <TextField\r\n                                    fullWidth\r\n                                    color='primary'\r\n                                    autoFocus={passfoucs}\r\n                                    variant='outlined'\r\n                                    margin='dense'\r\n                                    label='price'\r\n                                    inputProps={{ style: {textAlign: 'end'} }}\r\n                                    value={val.price}\r\n                                    onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                    onKeyPress={(e) => {\r\n                                      if(index === items.length - 1)\r\n                                        if(e.key === 'Enter')\r\n                                          addItem();\r\n                                    }}\r\n                                  />\r\n                                </Grid>\r\n                                <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n                                  <IconButton\r\n                                    // color=\"primary\"\r\n                                    style={{color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                    onClick={() => {\r\n                                      removeItem(index);\r\n                                    }}\r\n                                    >\r\n                                    <RemoveIcon/>\r\n                                  </IconButton>                            \r\n                                </Grid>\r\n                              </Grid>\r\n                            </ListItem> */}\r\n                          </div>\r\n                        )}\r\n                      </List>\r\n                    </Paper>\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Daily total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       <Grid item xs={12} sm={10}>          \r\n    //         {showItems}\r\n    //       </Grid>     \r\n    //       <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               addItem()\r\n    //           }}>Add item</Button>\r\n    //         </div>\r\n    //       </Grid>     \r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Daily'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={addItem}\r\n      edited={edited}\r\n      saveChange={saveChange}\r\n      menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Day;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst MonthListItem = ({index, weekday, items, darkMode, appBarTitleColor, pickedStyle, repriceItem, enableEdit, passfoucs, toDay, containerStyle, textStyle}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\t\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\"\r\n\t\t\t\tstyle={containerStyle}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t<Grid item xs={6} style={{paddingRight: '50px', textAlign: 'end'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel='item'\r\n\t\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t// color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n\t\t\t\t\t\t//   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n\t\t\t\t\t\t// )}\r\n\t\t\t\t\t\tstyle={textStyle}                                        \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{(index + 1)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={6} style={{paddingRight: '30px', textAlign: 'end'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel='item'\r\n\t\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t// color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n\t\t\t\t\t\t//   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n\t\t\t\t\t\t// )}\r\n\t\t\t\t\t\tstyle={textStyle}        \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{weekday}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t// color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!enableEdit}\r\n\t\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel={t('others.total')}\r\n\t\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\t\tvalue={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n\t\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\t\t// if(index === items.length - 1)\r\n\t\t\t\t\t\t\t//   if(e.key === 'Enter')\r\n\t\t\t\t\t\t\t//     addItem();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t// removeItem(index);\r\n\t\t\t\t\t\t\ttoDay(index + 1)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GotoIcon/>\r\n\t\t\t\t\t</IconButton>                            \r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nMonthListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tweekday: PropTypes.string.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\tenableEdit: PropTypes.bool.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired,\r\n\ttoDay: PropTypes.func.isRequired,\r\n\tcontainerStyle: PropTypes.string.isRequired,\r\n\ttextStyle: PropTypes.string.isRequired\r\n}\r\n\r\nexport default MonthListItem;","\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport DateUtils from '../utils/DateUtils.js'\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport MonthListItem from '../utils/MonthListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\nimport link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Month = (props) => {\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n  \r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, colorError, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n\tconst toDay = (day) => {\r\n\t\tchangeDate(day, month, year)\r\n\t\thistory.push('/day/' + day + '/' + month + '/' + year);\r\n\t}\r\n\r\n  const addItem = () => {\r\n    // setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.push({ name: 'New Item' + (newItems.length + 1), price: '' });\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.splice(index, 1);\r\n\r\n    // setItems(newItems);\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    // console.log(name)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].name = name;\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // if(isNaN(price)){\r\n    //   price = 0\r\n    //   return;\r\n    // }\r\n\r\n    // if(!/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n    //   return;\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // // newItems[index].price = Number(price);\r\n    // newItems[index].price = price === '' ? '0' : price;\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    // setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n      return;\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    var items = {\r\n      // '05': 100,\r\n      // '15': 50,\r\n      // '25': 12,\r\n    }\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n            for(var day of Object.keys(data[year][month.toString().padStart(2, \"0\")])){\r\n              items[day] = data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].total;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    setItems(items)\r\n\r\n    var t = 0;\r\n\r\n    for(var key of Object.keys(items))\r\n      t += parseFloat(items[key]) * 100;\r\n\r\n    setTotal(t / 100)\r\n\r\n  }, [props.match.params])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    if(smUp){\r\n\r\n      var offset = DateUtils.getWeekDay(1, month, year);\r\n      var offseted = Array.apply(null, Array(DateUtils.daysInMonth(month,year) + offset));\r\n\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper elevation={0} style={darkMode ? {maxHeight: '65vh', overflow: 'auto', padding: '5px 5px', backgroundColor: '#303030'} : {maxHeight: '65vh', overflow: 'auto', padding: '5px 5px'}}>\r\n                      <div style={{display: 'grid', gridTemplateColumns: 'auto auto auto auto auto auto auto', gridGap: '2px'}}>\r\n                        {DateUtils.weekdays.map((val, index) => (\r\n                          <Grid container spacing={0} justify=\"center\" alignItems=\"center\" key={val} style={{marginBottom: '5px'}}>\r\n                            <Paper\r\n                              style={index === 0 ?\r\n                                (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)', textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)', textAlign: 'center', padding: '5px 5px', color: colorError, width: '100%', maxWidth: '150px'})\r\n                                  : (index === 6 ?\r\n                                    (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)', textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)', textAlign: 'center', padding: '5px 5px', color: appBarTitleColor[0], width: '100%', maxWidth: '150px'})\r\n                                    : { textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'}\r\n                                  )\r\n                              }\r\n                            >\r\n                              {val}\r\n                            </Paper>\r\n                          </Grid>\r\n                        ))}\r\n                        {offseted.map((val, index) => \r\n                              <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" key={index}>\r\n                                {index + 1 - offset <= 0 ? null :\r\n                                  <Paper style={\r\n                                    DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ?\r\n                                      (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)', padding: '3px', maxWidth: '150px'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)', padding: '3px', maxWidth: '150px'})\r\n                                      : (DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ?\r\n                                        (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)', padding: '3px', maxWidth: '150px'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)', padding: '3px', maxWidth: '150px'})\r\n                                        : {padding: '3px', maxWidth: '150px'})}>\r\n                                    {index + 1 - offset <= 0 ? null :\r\n                                      <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                                        <Grid item xs={12} container spacing={0} justify=\"space-between\" alignItems=\"center\" style={{padding: '0px 10px'}}>\r\n                                          <Grid item xs={6}>\r\n                                              <Typography\r\n                                                // color={DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ? \"error\" : (\r\n                                                // DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ? \"primary\" : \"inherit\"\r\n                                                // )}\r\n                                                style={darkMode ? {} : (DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ? {color: colorError} : (\r\n                                                  DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n                                                ))}\r\n                                                >\r\n                                                {(index + 1 - offset)}\r\n                                              </Typography>\r\n                                          </Grid>\r\n                                          <Grid item xs={6} style={{textAlign: 'end'}}>\r\n                                            <IconButton\r\n                                              style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                              size=\"small\"\r\n                                              onClick={() => {\r\n                                                // removeItem(index);\r\n                                                toDay(index + 1 - offset)\r\n                                              }}\r\n                                              >\r\n                                                <GotoIcon/>\r\n                                            </IconButton>                            \r\n                                          </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} style={{padding: '0px 10px'}}>\r\n                                          <TextField\r\n                                            fullWidth\r\n                                            disabled={!enableEdit}\r\n                                            autoFocus={passfoucs}\r\n                                            variant='outlined'\r\n                                            margin='dense'\r\n                                            label={t('others.total')}\r\n                                            inputProps={{ style: {textAlign: 'end'} }}\r\n                                            value={items[(index + 1 - offset).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1 - offset).toString().padStart(2, \"0\")]}\r\n                                            onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                            onKeyPress={(e) => {\r\n                                              // if(index === items.length - 1)\r\n                                              //   if(e.key === 'Enter')\r\n                                              //     addItem();\r\n                                            }}\r\n                                          />\r\n                                        </Grid>\r\n                                      </Grid>\r\n                                    }\r\n                                  </Paper>\r\n                                }\r\n                              </Grid>\r\n                            )}\r\n                        </div>\r\n                      </Paper>\r\n                    </Grid>\r\n    }\r\n    else{\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper style={{maxHeight: '65vh', overflow: 'auto'}}>\r\n                        <List style={{padding: '5px 8px'}}>\r\n                          {Array.apply(null, Array(DateUtils.daysInMonth(month,year))).map((val, index) => \r\n                            <div key={index}>\r\n                              {index === 0 ? null : <Divider/>}\r\n                              <MonthListItem\r\n                                index={index}\r\n                                weekday={DateUtils.weekdays[DateUtils.getWeekDay(index + 1, month, year)]}\r\n                                items={items}\r\n                                darkMode={darkMode}\r\n                                appBarTitleColor={appBarTitleColor}\r\n                                pickedStyle={pickedStyle}\r\n                                repriceItem={repriceItem}\r\n                                enableEdit={enableEdit}\r\n                                passfoucs={passfoucs}\r\n                                toDay={toDay}\r\n                                containerStyle={\r\n                                  DateUtils.getWeekDay(index + 1, month, year) === 0 ?\r\n                                    (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)'})\r\n                                    : (DateUtils.getWeekDay(index + 1, month, year) === 6 ?\r\n                                      (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)'})\r\n                                      : {})\r\n                                }\r\n                                textStyle={\r\n                                  darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n                                    DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n                                  ))\r\n                                }\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </List>\r\n                      </Paper>\r\n                    </Grid>\r\n                    \r\n      // showItems = <Grid item xs={12}>\r\n      //               <Paper style={{maxHeight: '65vh', overflow: 'auto'}}>\r\n      //                   <List style={{padding: '5px 8px'}}>\r\n      //                     {Array.apply(null, Array(DateUtils.daysInMonth(month,year))).map((val, index) => \r\n      //                       <div key={index}>\r\n      //                         {index === 0 ? null : <Divider/>}\r\n      //                         <ListItem style={{padding: '3px'}}>\r\n      //                         <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\"\r\n      //                           style={\r\n      //                             DateUtils.getWeekDay(index + 1, month, year) === 0 ?\r\n      //                               (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)'})\r\n      //                               : (DateUtils.getWeekDay(index + 1, month, year) === 6 ?\r\n      //                                 (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)'})\r\n      //                                 : {})}\r\n      //                           >\r\n      //                           <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\">\r\n      //                             <Grid item xs={6} style={{paddingRight: '50px', textAlign: 'end'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography\r\n      //                                 // color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n      //                                 //   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n      //                                 // )}\r\n      //                                 style={darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n      //                                   DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n      //                                 ))}                                        \r\n      //                                 >\r\n      //                                 {(index + 1)}\r\n      //                               </Typography>\r\n      //                             </Grid>\r\n      //                             <Grid item xs={6} style={{paddingRight: '30px', textAlign: 'end'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography\r\n      //                                 // color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n      //                                 //   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n      //                                 // )}\r\n      //                                 style={darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n      //                                   DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n      //                                 ))}        \r\n      //                                 >\r\n      //                                 {DateUtils.weekdays[DateUtils.getWeekDay(index + 1, month, year)]}\r\n      //                               </Typography>\r\n      //                             </Grid>\r\n      //                           </Grid>\r\n      //                           <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n      //                             <TextField\r\n      //                               fullWidth\r\n      //                               // color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n      //                               color='primary'\r\n      //                               disabled={!enableEdit}\r\n      //                               autoFocus={passfoucs}\r\n      //                               variant='outlined'\r\n      //                               margin='dense'\r\n      //                               label='total'\r\n      //                               inputProps={{ style: {textAlign: 'end'} }}\r\n      //                               value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n      //                               onChange={(e) => {repriceItem(index, e.target.value)}}\r\n      //                               onKeyPress={(e) => {\r\n      //                                 // if(index === items.length - 1)\r\n      //                                 //   if(e.key === 'Enter')\r\n      //                                 //     addItem();\r\n      //                               }}\r\n      //                             />\r\n      //                           </Grid>\r\n      //                           <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n      //                             <IconButton\r\n      //                               style={{color: `${appBarTitleColor[pickedStyle]}`}}\r\n      //                               onClick={() => {\r\n      //                                 // removeItem(index);\r\n      //                               }}\r\n      //                               >\r\n      //                                 <GotoIcon/>\r\n      //                             </IconButton>                            \r\n      //                           </Grid>\r\n      //                         </Grid>\r\n      //                         </ListItem>\r\n      //                       </div>\r\n      //                     )}\r\n      //                   </List>\r\n      //                 </Paper>\r\n      //               </Grid>\r\n    }\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Monthly total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       {/* <Grid item xs={12} sm={8}>           */}\r\n    //         {showItems}\r\n    //       {/* </Grid>      */}\r\n    //       {/* <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               // addItem()\r\n    //               setEnableEdit(true)\r\n    //           }}>Edit (Replace daily item information)</Button>\r\n    //         </div>\r\n    //       </Grid>      */}\r\n    //       <Grid item>\r\n    //         <Typography paragraph/>\r\n    //       </Grid>\r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Monthly'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={null}\r\n      // menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Month;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst YearListItem = ({index, month, items, darkMode, appBarTitleColor, pickedStyle, repriceItem, enableEdit, passfoucs, toMonth}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t{/* <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\"> */}\r\n\t\t\t\t<Grid item xs={6} style={{paddingLeft: '30px', textAlign: 'start'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel='item'\r\n\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography>{month}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\tdisabled={!enableEdit}\r\n\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('others.total')}\r\n\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\tvalue={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t// if(index === items.length - 1)\r\n\t\t\t\t\t//   if(e.key === 'Enter')\r\n\t\t\t\t\t//     addItem();\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t// removeItem(index);\r\n\t\t\t\t\t\ttoMonth(index + 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<GotoIcon/>\r\n\t\t\t\t</IconButton>                            \r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nYearListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tmonth: PropTypes.string.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\tenableEdit: PropTypes.bool.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired,\r\n\ttoMonth: PropTypes.func.isRequired\r\n}\r\n\r\nexport default YearListItem;","\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport DateUtils from '../utils/DateUtils.js'\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport YearListItem from '../utils/YearListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\nimport link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Year = (props) => {\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  const toMonth = (month) => {\r\n\t\tchangeDate(-1, month, year)\r\n\t\thistory.push('/month/'+ month +'/'+ year);\r\n\t}\r\n\r\n  const addItem = () => {\r\n    // setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.push({ name: 'New Item' + (newItems.length + 1), price: '' });\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.splice(index, 1);\r\n\r\n    // setItems(newItems);\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    // console.log(name)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].name = name;\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // if(isNaN(price)){\r\n    //   price = 0\r\n    //   return;\r\n    // }\r\n\r\n    // if(!/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n    //   return;\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // // newItems[index].price = Number(price);\r\n    // newItems[index].price = price === '' ? '0' : price;\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    // setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    var items = {\r\n      // '01': 100.4,\r\n      // '07': 500.5,\r\n      // '11': 1240,\r\n    }\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year] !== undefined){\r\n            for(var month of Object.keys(data[year])){\r\n\r\n              items[month.padStart(2, \"0\")] = 0;\r\n\r\n              for(var day of Object.keys(data[year][month])){\r\n                items[month.padStart(2, \"0\")] += parseFloat(data[year][month][day].total) * 100;\r\n              }\r\n\r\n              items[month.padStart(2, \"0\")] /= 100;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(items)\r\n\r\n    setItems(items)\r\n\r\n    var t = 0;\r\n\r\n    for(var key of Object.keys(items))\r\n      t += parseFloat(items[key]) * 100;\r\n\r\n    setTotal(t/ 100)\r\n\r\n  }, [props.match.params])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    if(smUp){\r\n\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper elevation={0} style={darkMode ? {maxHeight: '65vh', overflow: 'auto', padding: '5px 5px', backgroundColor: '#303030'} : {maxHeight: '65vh', overflow: 'auto', padding: '5px 5px'}}>\r\n                      <div style={{display: 'grid', gridTemplateColumns: 'auto auto auto auto', gridGap: '2px'}}>\r\n                        {Array.apply(null, Array(12)).map((val, index) => \r\n                              <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" key={index}>\r\n                                <Paper style={{padding: '3px', maxWidth: '150px'}}>\r\n                                    <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                                      <Grid item xs={12} container spacing={0} justify=\"space-between\" alignItems=\"center\" style={{padding: '0px 10px'}}>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography>\r\n                                              {DateUtils.months[(index)]}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} style={{textAlign: 'end'}}>\r\n                                          <IconButton\r\n                                            style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                            size=\"small\"\r\n                                            onClick={() => {\r\n                                              // removeItem(index);\r\n                                              toMonth(index + 1)\r\n                                            }}\r\n                                            >\r\n                                              <GotoIcon/>\r\n                                          </IconButton>                            \r\n                                        </Grid>\r\n                                      </Grid>\r\n                                      <Grid item xs={12} style={{padding: '0px 10px'}}>\r\n                                        <TextField\r\n                                          fullWidth\r\n                                          disabled={!enableEdit}\r\n                                          autoFocus={passfoucs}\r\n                                          variant='outlined'\r\n                                          margin='dense'\r\n                                          label={t('others.total')}\r\n                                          inputProps={{ style: {textAlign: 'end'} }}\r\n                                          value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n                                          onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                          onKeyPress={(e) => {\r\n                                            // if(index === items.length - 1)\r\n                                            //   if(e.key === 'Enter')\r\n                                            //     addItem();\r\n                                          }}\r\n                                        />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Paper>\r\n                              </Grid>\r\n                            )}\r\n                        </div>\r\n                      </Paper>\r\n                    </Grid>\r\n    }\r\n    else{\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper style={{maxHeight: '65vh', overflow: 'auto'}}>\r\n                        <List style={{padding: '5px 8px'}}>\r\n                          {Array.apply(null, Array(12)).map((val, index) => \r\n                            <div key={index}>\r\n                              {index === 0 ? null : <Divider/>}\r\n                              <YearListItem\r\n                                index={index}\r\n                                month={DateUtils.months[index]}\r\n                                items={items}\r\n                                darkMode={darkMode}\r\n                                appBarTitleColor={appBarTitleColor}\r\n                                pickedStyle={pickedStyle}\r\n                                repriceItem={repriceItem}\r\n                                enableEdit={enableEdit}\r\n                                passfoucs={passfoucs}\r\n                                toMonth={toMonth}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </List>\r\n                      </Paper>\r\n                    </Grid>\r\n                    \r\n      // showItems = <Grid item xs={12}>\r\n      //               <Paper style={{maxHeight: '65vh', overflow: 'auto'}}>\r\n      //                   <List style={{padding: '5px 8px'}}>\r\n      //                     {Array.apply(null, Array(12)).map((val, index) => \r\n      //                       <div key={index}>\r\n      //                         {index === 0 ? null : <Divider/>}\r\n      //                         <ListItem style={{padding: '3px'}}>\r\n      //                         <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n      //                           {/* <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\"> */}\r\n      //                             <Grid item xs={6} style={{paddingLeft: '30px', textAlign: 'start'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography>{DateUtils.months[(index)]}</Typography>\r\n      //                             </Grid>\r\n      //                           {/* </Grid> */}\r\n      //                           <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n      //                             <TextField\r\n      //                               fullWidth\r\n      //                               color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n      //                               disabled={!enableEdit}\r\n      //                               autoFocus={passfoucs}\r\n      //                               variant='outlined'\r\n      //                               margin='dense'\r\n      //                               label='total'\r\n      //                               inputProps={{ style: {textAlign: 'end'} }}\r\n      //                               value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n      //                               onChange={(e) => {repriceItem(index, e.target.value)}}\r\n      //                               onKeyPress={(e) => {\r\n      //                                 // if(index === items.length - 1)\r\n      //                                 //   if(e.key === 'Enter')\r\n      //                                 //     addItem();\r\n      //                               }}\r\n      //                             />\r\n      //                           </Grid>\r\n      //                           <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n      //                             <IconButton\r\n      //                               style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n      //                               onClick={() => {\r\n      //                                 // removeItem(index);\r\n      //                               }}\r\n      //                               >\r\n      //                                 <GotoIcon/>\r\n      //                             </IconButton>                            \r\n      //                           </Grid>\r\n      //                         </Grid>\r\n      //                         </ListItem>\r\n      //                       </div>\r\n      //                     )}\r\n      //                   </List>\r\n      //                 </Paper>\r\n      //               </Grid>\r\n    }\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Annual total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       {/* <Grid item xs={12} sm={8}>           */}\r\n    //         {showItems}\r\n    //       {/* </Grid>      */}\r\n    //       {/* <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               // addItem()\r\n    //               setEnableEdit(true)\r\n    //           }}>Edit (Replace monthly information)</Button>\r\n    //         </div>\r\n    //       </Grid> */}\r\n    //       <Grid item>\r\n    //         <Typography paragraph/>\r\n    //       </Grid>     \r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Annual'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={null}\r\n      // menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Year;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport { DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\nimport link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Setting = (props) => {\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, pickedStyle, setPickedStyle, darkMode, setDarkMode, muiTheme} = useContext(StyleContext);\r\n\r\n  const [openColors, setOpenColors] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  const changeDarkMode = () => {\r\n\t// makeChange(true);\r\n\tsetDarkMode(!darkMode);\r\n  }\r\n\r\n  const closeColors = () => {\r\n    setOpenColors(false)\r\n  }\r\n\r\n  const clickOpenColors = () => {\r\n    setOpenColors(true)\r\n  }\r\n\r\n  const setPicked = (index) => {\r\n\t// makeChange(true);\r\n    setPickedStyle(index)\r\n  }\r\n\r\n  var colorsDialog = <Dialog open={openColors} onClose={closeColors}>\r\n\t\t\t\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t\t\t\tSelect Theme\r\n\t\t\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t\t\t<DialogContent style={{display: 'flex'}}>\r\n\t\t\t\t\t\t\t\t\t{appBarTitleColor.map((value, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Paper key={index} onClick={() => {setPicked(index); closeColors()}} style={{width: '50px', height: '50px', backgroundColor: value, margin: '10px'}}/>))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t</Dialog>\r\n\r\n  useEffect(() => {\r\n\r\n    if(!loggedin){\r\n\t\ttoHome();\r\n  \r\n\t  }\r\n\r\n  }, [])\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t{colorsDialog}\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t<Grid item xs={12}>          \r\n\t\t\t\t\t<Paper elevation={0} style={darkMode ? {maxHeight: '65vh', overflow: 'auto', backgroundColor: '#303030'} : {maxHeight: '65vh', overflow: 'auto'}}>\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<ListItem onClick={changeDarkMode}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={10} style={{paddingLeft: '15px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>{t('others.dark')}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} style={{textAlign: 'end'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={darkMode}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={changeDarkMode}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>                            \r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<ListItem onClick={clickOpenColors}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={10} style={{paddingLeft: '15px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>{t('others.color')}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} style={{textAlign: 'end'}}>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton style={{color: `${appBarTitleColor[pickedStyle]}`}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<OpenInNewIcon/>\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>    \r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>    \r\n\t\t\t\t</Grid>     \r\n\t\t\t</div>\r\n\t\t</ThemeProvider>\r\n\t);\r\n}\r\n\r\nexport default Setting;","import React, { useEffect, useState } from 'react';\n// import logo from './logo.svg';\n// import './App.css';\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n\nimport AuthProvider from './context/AuthContext.js'\nimport StyleProvider from './context/StyleContext.js'\nimport DateProvider from './context/DateContext.js'\nimport DataStoreProvider from './context/DataStoreContext.js'\n\nimport { useTranslation } from 'react-i18next';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\nimport CalenAppBar from './utils/AppBar.js';\n\nimport Login from './routes/login.js';\nimport Day from './routes/day.js';\nimport Month from './routes/month.js';\nimport Year from './routes/year.js';\nimport Setting from './routes/setting.js';\n\nimport {Route, Switch, BrowserRouter} from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nfunction App() {\n\n  const history = createBrowserHistory();\n\n\tconst { t, i18n } = useTranslation();\n\n  const preventDefault = (e) => {\n    history.go(1)\n  }\n\n  useEffect(() => {\n    window.addEventListener('popstate', (e) => preventDefault(e));\n  },[])\n\n  return(\n      <AuthProvider>\n        <DateProvider>\n          <DataStoreProvider>\n            <StyleProvider>\n              <BrowserRouter history={history}>\n                {/* {showLogin} */}\n                {/* {showCalenAppBar} */}\n                <CalenAppBar/>\n                <Switch>\n                  <Route exact path='/' render={(props) => <Login {...props} />} />\n                  <Route path='/year/:year' render={(props) => <Year {...props} />} />\n                  <Route path='/month/:month/:year' render={(props) => <Month {...props} />}/>\n                  <Route path='/day/:day/:month/:year' render={(props) => <Day {...props} />}/>\n                  <Route path='/setting' render={(props) => <Setting {...props} />} />\n                </Switch>\n                <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{marginTop: '1vh'}}>\n                  <Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\n                    <ButtonGroup variant=\"text\" color=\"primary\">\n                      {Object.keys(i18n.store.data).map((val) => (\n                        <Button\n                          key={val}\n                          style={{fontSize: '12px'}}\n                          onClick={() => i18n.changeLanguage(val)}\n                        >\n                          {t('lang.' + val)}\n                        </Button>\n                      ))}\n                    </ButtonGroup>\n                  </Grid>\n                </Grid>\n              </BrowserRouter>\n            </StyleProvider>\n          </DataStoreProvider>\n        </DateProvider>\n      </AuthProvider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport './i18next.js'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}