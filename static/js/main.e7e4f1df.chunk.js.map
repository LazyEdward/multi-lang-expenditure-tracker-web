{"version":3,"sources":["i18next.js","context/AuthContext.js","utils/useLocalStorage.js","context/StyleContext.js","context/DateContext.js","context/DataStoreContext.js","utils/DateUtils.js","utils/AppBar.js","routes/login.js","utils/deepComparison.js","utils/OuterLayout.js","utils/DayListItem.js","routes/day.js","utils/MonthListItem.js","routes/month.js","utils/YearListItem.js","routes/year.js","routes/setting.js","App.js","serviceWorker.js","index.js"],"names":["i18n","use","initReactI18next","init","resources","en","translation","zh","lng","supportedLngs","load","keySeparator","interpolation","escapeValue","AuthContext","createContext","AuthProvider","props","useState","loggedin","setLoggedIn","user_id","setUserId","loginToken","setLoginToken","Provider","value","children","useLocalStorage","key","defaultVal","item","window","localStorage","getItem","JSON","parse","setLocalStorage","val","setItem","stringify","StyleContext","StyleProvider","appBarTitleColor","pickedStyle","setPickedStyle","darkMode","setDarkMode","muiTheme","createMuiTheme","palette","type","primary","main","colorSet","colorError","DateContext","DateProvider","day","setDay","month","setMonth","year","setYear","changeDate","console","log","DataStoreContext","DataStoreProvider","lastUpdate","setLastUpdate","edited","makeChange","data","setData","data_copy","setDataCopy","DateUtils","weekdays","months","isLeap","daysInMonth","getWeekDay","Date","getDay","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","saveButton","marginLeft","title","boxContainer","color","textTransform","backdrop","zIndex","appBar","frontdrop","drawer","CalenAppBar","menubgImgStyle","fileUploadRef","useRef","history","useHistory","useContext","classes","useTranslation","t","openWarning","setOpenWarning","openWarnOverWrite","setOpenWarnOverWrite","openMenu","setOpenMenu","smUp","useMediaQuery","breakpoints","up","currentMenuElement","setCurrentMenuElement","menuElements","length","setMenuItem","index","action","closeWarning","closeWarnOverWrite","useEffect","showBar","warnOnChangeDialog","Dialog","open","onClose","DialogTitle","DialogContent","Grid","container","justify","alignItems","xs","sm","style","padding","Button","fullWidth","variant","onClick","warnOverWriteDialog","e","current","click","ThemeProvider","className","AppBar","position","Toolbar","IconButton","edge","aria-label","getFullYear","push","Typography","toString","padStart","fileName","getMonth","getDate","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","remove","exportResult","ref","accept","onChange","target","files","fileReader","FileReader","readAsText","onload","d","result","overWriteData","display","Collapse","in","timeout","unmountOnExit","flex","backgroundImage","align","Backdrop","typography","button","backgroundColor","background","paper","Login","username","setUsername","email","setEmail","password","setPassword","errorLogin","setErrorLogin","isRegister","setIsRegister","menubgImgStyle2","toDay","logo","top","left","width","height","backgroundSize","backgroundRepeat","backgroundPosition","showLogin","direction","marginTop","maxWidth","paddingTop","paddingBottom","startIcon","Fade","mountOnEnter","TextField","error","helperText","margin","label","autoComplete","trim","login","ButtonGroup","Object","keys","store","map","fontSize","changeLanguage","isObject","object","undefined","deepComparison","objectA","objectB","keyA","keyB","allVaild","OuterLayout","viewVariant","total","showItems","addItem","saveChange","CssBaseline","paddingLeft","paddingRight","textAlign","toLowerCase","disabled","inputProps","Divider","paragraph","protoTypes","PropTypes","isRequired","string","number","element","func","bool","DayListItem","items","renameItem","repriceItem","removeItem","passfoucs","ListItem","name","autoFocus","price","onFocus","select","onKeyPress","array","arrayOf","Day","setTotal","itemsInit","setItemsInit","setItems","setPassFoucs","newItems","splice","parseFloat","reduce","b","test","isNaN","match","params","Paper","maxHeight","overflow","List","i","newData","MonthListItem","weekday","enableEdit","containerStyle","textStyle","Month","offset","offseted","Array","apply","elevation","gridTemplateColumns","gridGap","marginBottom","size","YearListItem","toMonth","Year","Setting","openColors","setOpenColors","changeDarkMode","closeColors","colorsDialog","setPicked","Switch","checked","App","createBrowserHistory","addEventListener","go","basename","process","exact","path","render","Boolean","location","hostname","ReactDOM","Fragment","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"8LA+HAA,IACGC,IAAIC,KACJC,KAAK,CACJC,UA7Hc,CAChBC,GAAI,CACFC,YAAc,CACZ,KAAS,SACT,KAAS,CACP,GAAO,UACP,GAAO,eACP,GAAO,oBAET,MAAU,CACR,MAAU,QACV,SAAa,WACb,QAAY,UACZ,MAAU,QACV,YAAc,YACd,SAAa,YAEf,MAAS,CACP,MAAS,gBACT,IAAO,WACP,KAAQ,OACR,KAAQ,OACR,MAAS,QACT,IAAO,aAET,QAAW,CACT,MAAS,mBAEX,OAAU,CACR,MAAS,kBAEX,OAAU,CACR,MAAS,QACT,KAAQ,YACR,MAAS,eAEX,OAAU,CACR,IAAQ,MACR,MAAU,QACV,KAAS,OACT,QAAY,UACZ,OAAW,SACX,OAAW,yDACX,UAAc,qDACd,OAAW,YAIjBC,GAAI,CACFD,YAAc,CACZ,KAAS,iBACT,KAAS,CACP,GAAO,UACP,GAAO,eACP,GAAO,oBAET,MAAU,CACR,MAAU,eACV,SAAa,eACb,QAAY,eACZ,MAAU,eACV,YAAc,2BACd,SAAa,gBAEf,MAAS,CACP,MAAS,6BACT,IAAO,2BACP,KAAQ,eACR,KAAQ,eACR,MAAS,eACT,IAAO,uBAET,QAAW,CACT,MAAS,8BAEX,OAAU,CACR,MAAS,8BAEX,OAAU,CACR,MAAS,eACT,KAAQ,2BACR,MAAS,4BAEX,OAAU,CACR,IAAQ,2BACR,MAAU,2BACV,KAAS,2BACT,QAAY,eACZ,OAAW,eACX,OAAW,uFACX,UAAc,uFACd,OAAW,mBAmCfE,IAAK,KACLC,cAAe,CAAC,KAAM,MACtBC,KAAM,eAENC,aAAc,IAEdC,cAAe,CACbC,aAAa,KAIFb,EAAf,EAAeA,I,iCC5IJc,EAAcC,0BAiBZC,EAfM,SAACC,GAAW,IAAD,EAECC,oBAAS,GAFV,mBAExBC,EAFwB,KAEdC,EAFc,OAIFF,mBAAS,IAJP,mBAIxBG,EAJwB,KAIfC,EAJe,OAKKJ,mBAAS,IALd,mBAKxBK,EALwB,KAKZC,EALY,KAO/B,OAEC,aADA,CACCV,EAAYW,SAAb,CAAsBC,MAAO,CAACP,WAAUE,UAASE,aAAYH,cAAaE,YAAWE,iBAArF,SACEP,EAAMU,Y,QCKKC,EAjBS,SAACC,EAAKC,GAAgB,IAAD,EAEJZ,oBACvC,WACC,IAAMa,EAAOC,OAAOC,aAAaC,QAAQL,GACzC,OAAOE,EAAOI,KAAKC,MAAML,GAAQD,KALS,mBAErCG,EAFqC,KAEvBI,EAFuB,KAc5C,MAAO,CAACJ,EALmB,SAACK,GAC3BD,EAAgBC,GAChBN,OAAOC,aAAaM,QAAQV,EAAKM,KAAKK,UAAUF,OCRrCG,EAAe1B,0BA+Db2B,EA7DO,SAACzB,GAEtB,IACM0B,EAAmB,CAAC,UAAW,WAHL,EASMf,EAAgB,cAAe,GATrC,mBASzBgB,EATyB,KASZC,EATY,OAUAjB,EAAgB,YAAY,GAV5B,mBAUzBkB,EAVyB,KAUfC,EAVe,KAY1BC,EAAWC,YAAe,CAC/BC,QAAS,CACPC,KAAML,EAAW,OAAS,QAC1BM,QAAS,CACRC,KAAMV,EAAiBC,OA4B3B,OAEC,aADA,CACCH,EAAahB,SAAd,CAAuBC,MAAO,CAC7B4B,SA7Ce,CAAC,CAAC,UAAW,UAAW,UAAW,WAAY,CAAC,UAAW,UAAW,UAAW,YA8ChGX,mBACAY,WA7CiB,UA8CjBX,cACAC,iBACAC,WACAC,cACAC,YARD,SAUE/B,EAAMU,YC7DG6B,EAAczC,0BA2BZ0C,EAzBM,SAACxC,GAAW,IAAD,EAETC,oBAAU,GAFD,mBAExBwC,EAFwB,KAEnBC,EAFmB,OAGLzC,oBAAU,GAHL,mBAGxB0C,EAHwB,KAGjBC,EAHiB,OAIP3C,oBAAU,GAJH,mBAIxB4C,EAJwB,KAIlBC,EAJkB,KAa/B,OAEC,aADA,CACCP,EAAY/B,SAAb,CAAsBC,MAAO,CAACgC,MAC7BE,QACAE,OACAE,WAAY,SAACN,EAAKE,EAAOE,IAZR,SAACJ,EAAKE,EAAOE,GAC/BH,EAAOD,GACPG,EAASD,GACTG,EAAQD,GACRG,QAAQC,IAAIR,EAAI,IAAIE,EAAM,IAAIE,GAQOE,CAAWN,EAAKE,EAAOE,KAH5D,SAKE7C,EAAMU,YCrBGwC,EAAmBpD,0BAqBjBqD,EAnBW,SAACnD,GAAW,IAAD,EAEAC,mBAAS,MAFT,mBAE7BmD,EAF6B,KAEjBC,EAFiB,OAGPpD,oBAAS,GAHF,mBAG7BqD,EAH6B,KAGrBC,EAHqB,OAKZ5C,EAAgB,OAAQ,MALZ,mBAK7B6C,EAL6B,KAKvBC,EALuB,OAMHxD,mBAAS,MANN,mBAM7ByD,EAN6B,KAMlBC,EANkB,KAQpC,OAEC,aADA,CACCT,EAAiB1C,SAAlB,CAA2BC,MAAO,CACjC2C,aAAYE,SAAQE,OAAME,YAC1BL,gBAAeE,aAAYE,UAASE,eAFrC,SAIE3D,EAAMU,Y,kBClBJkD,EAAY,CACjBC,SAAW,CAAC,MAAO,MAAO,MAAO,MAAO,OAAQ,MAAO,OACvDC,OAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAEvFC,OAAS,SAAClB,GACT,OAAIA,EAAO,MAAQ,EACX,EACJA,EAAO,MAAQ,EACX,EACJA,EAAO,IAAM,EACT,EAEA,GAGTmB,YAAc,SAACrB,EAAOE,GACrB,OAAkB,IAAVF,EAAgB,GAAKiB,EAAUG,OAAOlB,GAAS,IAAMF,EAAQ,GAAK,EAAI,GAI/EsB,WAAa,SAACxB,EAAKE,EAAOE,GAGzB,OAFU,IAAIqB,KAAKrB,EAAO,IAAMF,EAAQ,IAAMF,GAAK0B,WAOtCP,I,yMCaTQ,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,SAAU,GAEZC,WAAY,CACVC,YAAaJ,EAAMK,QAAQ,IAE7BC,WAAY,CACVC,WAAYP,EAAMK,QAAQ,IAE5BG,MAAO,CACLN,SAAU,GAEZO,aAAc,CACZC,MAAO,QAAQC,cAAe,QAEhCC,SAAU,CACRC,OAAQb,EAAMa,OAAOC,OAAS,EAC9BJ,MAAO,QAETK,UAAW,CACTF,OAAQb,EAAMa,OAAOG,OAAS,OA8ZnBC,EA1ZK,SAACvF,GAEnB,IA6BIwF,EA7BEC,EAAgBC,mBAChBC,EAAUC,cAHa,EAK6BC,qBAAWhG,GAA9DK,EALsB,EAKtBA,SALsB,KAKZC,YALY,EAKCE,UALD,EAKYE,cACFsF,qBAAWtD,IAA3CE,EANsB,EAMtBA,IAAKE,EANiB,EAMjBA,MAAOE,EANU,EAMVA,KAAME,EANI,EAMJA,WANI,EAOkE8C,qBAAW3C,GAAvFI,GAPU,EAOtBF,WAPsB,EAOVE,QAAQE,EAPE,EAOFA,KAA4CC,GAP1C,EAOIC,UAPJ,EAOeL,cAPf,EAO8BE,WAP9B,EAO0CE,SAP1C,KAOmDE,YAEpBkC,qBAAWrE,IAAhEa,EATsB,EAStBA,SAA4BV,GATN,EASZD,iBATY,EASMC,aAAaI,EATnB,EASmBA,SAE1C+D,EAAU1B,EAAUrC,GAXG,EAaTgE,cAAZC,EAbqB,EAarBA,EAbqB,KAalBjH,KAE2BkB,oBAAS,IAflB,mBAetBgG,EAfsB,KAeTC,GAfS,QAgBqBjG,oBAAS,GAhB9B,qBAgBtBkG,GAhBsB,MAgBHC,GAhBG,SAkBGnG,oBAAS,GAlBZ,qBAkBtBoG,GAlBsB,MAkBZC,GAlBY,MAwBvBC,GAAOC,YAAczE,EAAS0E,YAAYC,GAAG,OAxBtB,GA0BuBzG,mBAAS,GA1BhC,qBA0BtB0G,GA1BsB,MA0BFC,GA1BE,MA6BvBC,GAAe,CAACb,EAAE,cAAeA,EAAE,gBAAiBA,EAAE,eAAgBA,EAAE,kBAAmBA,EAAE,iBAAkB,IAKnHR,EADCe,GACgB,8BAAgCI,GAAqB,IAAOE,GAAaC,OAAS,IAAM,UAAYzE,EAASV,GAAa,GAAK,KAAOU,EAASV,GAAa,GAAK,KAAOU,EAASV,GAAa,GAAK,KAAOU,EAASV,GAAa,GAAK,QAGrO,kCAAoCgF,GAAqB,KAAQE,GAAaC,OAAS,GAAK,IAAM,MAAQzE,EAASV,GAAa,GAAK,QAAUU,EAASV,GAAa,GAAK,SAAWU,EAASV,GAAa,GAAK,SAAWU,EAASV,GAAa,GAAK,QAczQ,IAwGMoF,GAAc,SAACC,EAAOC,GACvBN,KAAuBK,IAE1BJ,GAAsBI,GACtBC,MA4CIC,GAAe,WACnBhB,IAAe,IAGXiB,GAAqB,WACzBf,IAAqB,IAGvBgB,qBAAU,WAERd,IAAY,GACZS,GAAYpE,EAAQ,EAAI,EAAKF,EAAM,EAAI,EAAI,GAAK,iBAE/C,CAACA,EAAKE,EAAOE,IAEhB,IA+BIwE,GA/BAC,GAAqB,eAACC,EAAA,EAAD,CAAQC,KAAMvB,EAAawB,QAASP,GAApC,UACC,cAACQ,EAAA,EAAD,UACG1B,EAAE,mBAEL,cAAC2B,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAxD,SACE,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAAC+G,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAASC,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACC,QAAS,YAAtG,SACE,cAACC,EAAA,EAAD,CAAQpD,MAAM,UAAUqD,WAAS,EAACH,MAAO,CAACjD,cAAe,QAASqD,QAAQ,WAAWC,QAASrB,GAA9F,yBAM5BsB,GAAsB,eAACjB,EAAA,EAAD,CAAQC,KAAMrB,GAAmBsB,QAASN,GAA1C,UACE,cAACO,EAAA,EAAD,UACG1B,EAAE,sBAEL,cAAC2B,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAxD,UACE,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAAC+G,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAASC,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACC,QAAS,YAAtG,SACE,cAACC,EAAA,EAAD,CAAQpD,MAAM,UAAUqD,WAAS,EAACH,MAAO,CAACjD,cAAe,QAASqD,QAAQ,YAAYC,QAAS,SAACE,GAAOhD,EAAciD,QAAQC,QAAQxB,MAArI,mBAEF,cAACS,EAAA,EAAD,CAAM9G,MAAI,EAAC+G,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAASC,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACC,QAAS,YAAtG,SACE,cAACC,EAAA,EAAD,CAAQpD,MAAM,UAAUqD,WAAS,EAACH,MAAO,CAACjD,cAAe,QAASqD,QAAQ,WAAWC,QAASpB,GAA9F,8BAkKlC,OAvJEE,GADCnH,EACS,eAAC0I,EAAA,EAAD,CAAetE,MAAOvC,EAAtB,UACGuF,GACAkB,GACD,sBAAKK,UAAW/C,EAAQvB,KAAxB,UACE,cAACuE,EAAA,EAAD,CAAQD,UAAW/C,EAAQT,UAAW0D,SAAS,WAAW/D,MAAM,UAAhE,SAEE,eAACgE,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEC,KAAK,QACLlE,MAAM,UACNmE,aAAW,OACXZ,QAAS,SAACE,GAAD,OAAOnC,IAAaD,KAJ/B,SAME,cAAC,IAAD,MAEF,eAACuB,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAxD,UACE,cAACkB,EAAA,EAAD,CAAYjE,MAAM,UAAUuD,QAzNnC,WAEVjF,EACD4C,IAAe,GAIdvD,EAAQ,EACNE,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAWN,EAAKE,EAAOE,EAAO,GAC9B8C,EAAQ0D,KAAK,UAAYxG,EAAO,KAK/BJ,EAAM,EACJE,EAAQ,GACTI,EAAWN,EAAKE,EAAQ,EAAGE,GAC3B8C,EAAQ0D,KAAK,WAAY1G,EAAQ,GAAG,IAAIE,IAGrCA,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAWN,EAAK,GAAII,EAAO,GAC3B8C,EAAQ0D,KAAK,cAAmBxG,EAAO,KAMxCJ,EAAM,GACPM,EAAWN,EAAM,EAAGE,EAAOE,GAC3B8C,EAAQ0D,KAAK,SAAW5G,EAAM,GAAG,IAAIE,EAAM,IAAIE,IAG5CF,EAAQ,GACTI,EAAW,GAAIJ,EAAQ,EAAGE,GAC1B8C,EAAQ0D,KAAK,YAAkB1G,EAAQ,GAAG,IAAIE,IAG3CA,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAW,GAAI,GAAIF,EAAO,GAC1B8C,EAAQ0D,KAAK,eAAyBxG,EAAO,MAgLnC,SACE,cAAC,IAAD,MAGF,cAACyG,EAAA,EAAD,CAAYhB,QAAQ,KAApB,SACG7F,EAAM,GAAKE,EAAQ,EAChBF,EAAI8G,WAAWC,SAAS,EAAG,KAC3B,IACA7G,EAAM4G,WAAWC,SAAS,EAAG,KAC7B,IACA3G,EACAF,EAAQ,EACRA,EAAM4G,WAAWC,SAAS,EAAG,KAAO,IAAM3G,EAC1CA,IAGN,cAACoG,EAAA,EAAD,CAAYjE,MAAM,UAAUuD,QAvLjC,WAEZjF,EACD4C,IAAe,GAMdvD,EAAQ,EACNE,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAWN,EAAKE,EAAOE,EAAO,GAC9B8C,EAAQ0D,KAAK,UAAYxG,EAAO,KAK/BJ,EAAM,EACJE,EAAQ,IACTI,EAAWN,EAAKE,EAAQ,EAAGE,GAC3B8C,EAAQ0D,KAAK,WAAY1G,EAAQ,GAAG,IAAIE,IAGrCA,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAWN,EAAK,EAAGI,EAAO,GAC1B8C,EAAQ0D,KAAK,aAAkBxG,EAAO,KAOvCJ,EAAMmB,EAAUI,YAAYrB,EAAOE,IAEpCE,EAAWN,EAAM,EAAGE,EAAOE,GAC3B8C,EAAQ0D,KAAK,SAAW5G,EAAM,GAAG,IAAIE,EAAM,IAAIE,IAG5CF,EAAQ,IACTI,EAAWN,EAAKE,EAAQ,EAAGE,GAC3B8C,EAAQ0D,KAAK,WAAgB1G,EAAQ,GAAG,IAAIE,IAGzCA,GAAO,IAAIqB,MAAOkF,cAAgB,IACnCrG,EAAWN,EAAKE,EAAOE,EAAO,GAC9B8C,EAAQ0D,KAAK,aAAsBxG,EAAO,MA0IhC,SACE,cAAC,IAAD,SAGJ,cAACoG,EAAA,EAAD,CACEC,KAAK,MACLlE,MAAM,UACNmE,aAAW,OACXZ,QAAS,SAACE,GAAD,OAlIV,WAEnB,GAAGnF,EACD4C,IAAe,OADjB,CAKAlD,QAAQC,IAAIO,GAEZ,IAAIiG,EAAWzD,EAAE,iBACb,KAAO,IAAI9B,MAAOkF,cAClB,MAAO,IAAIlF,MAAOwF,WAAa,GAAGH,WAAWC,SAAS,EAAG,KACzD,KAAO,IAAItF,MAAOyF,UAAWJ,WAAWC,SAAS,EAAG,KACpD,QAGEI,EAAO,IAAIC,KAAK,CAAC3I,KAAKK,UAAUiC,IAAQ,CAAEtB,KAAM,qBAChD4H,EAAMC,IAAIC,gBAAgBJ,GAE1BK,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAON,EACTG,EAAEI,SAAWZ,GAAY,WACzBQ,EAAEtB,QACFsB,EAAEK,UA2GkCC,IAJlB,SAME,cAAC,IAAD,MAEF,eAACtB,EAAA,EAAD,CACEC,KAAK,MACLlE,MAAM,UACNmE,aAAW,OACXZ,QAAS,SAACE,GAAD,OAAOrC,IAAqB,IAJvC,UAME,uBACEoE,IAAK/E,EACLvD,KAAK,OACLuI,OAAO,mBACPC,SAAU,SAACjC,GAAD,OArHZ,SAACA,GACrB,GAAIA,EAAEkC,OAAOC,MAAb,CAGA,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,WAAWtC,EAAEkC,OAAOC,MAAM,GAAI,SACzCC,EAAWG,OAAS,SAAAvC,GAClB,IAAIwC,EAAI/J,KAAKC,MAAMsH,EAAEkC,OAAOO,QAC5BzH,EAAQwH,IAGVxC,EAAEkC,OAAOlK,MAAQ,MA0GsB0K,CAAc1C,IAC/BP,MAAO,CAACkD,QAAS,UAEnB,cAAC,IAAD,YAIN,cAACC,EAAA,EAAD,CAAUC,GAAIjF,GAAUkF,QAAQ,OAAOC,eAAa,EAApD,SACE,cAAC5D,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAS0D,KAAM,EAAvE,SACE,eAAC7D,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAS0D,KAAM,EAAGvD,MAAO,CAACrD,WAAY,MAAOH,YAAa,MAAOgH,gBAAgB,GAAD,OAAKlG,IAA7I,UACE,cAACoC,EAAA,EAAD,CAAMiB,UAAW/C,EAAQT,UAAWvE,MAAI,EAACkH,GAAI,GAAIC,GAAI,GAAGpB,GAAaC,OAArE,SACI,cAACsB,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACrFjF,EACD4C,IAAe,IAIjBa,GAAY,GAAI,WACdhE,GAAoB,IAATN,EAAa,EAAIA,GAAgB,IAAXE,EAAe,EAAIA,EAAOE,GAC3D8C,EAAQ0D,KAAK,UAAmB,IAAT5G,EAAa,EAAIA,GAAM,MAAiB,IAAXE,EAAe,EAAIA,GAAQ,IAAKE,MAEtFyD,IAAaD,MAVf,SAWIQ,GAAa,OAErB,cAACe,EAAA,EAAD,CAAMiB,UAAW/C,EAAQT,UAAWvE,MAAI,EAACkH,GAAI,GAAIC,GAAI,GAAGpB,GAAaC,OAArE,SACI,cAACsB,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACrFjF,EACD4C,IAAe,IAIjBa,GAAY,GAAG,WACbhE,GAAY,GAAc,IAAXJ,EAAe,EAAIA,EAAOE,GACzC8C,EAAQ0D,KAAK,YAAuB,IAAX1G,EAAe,EAAIA,GAAQ,IAAKE,MAE3DyD,IAAaD,MAVf,SAWIQ,GAAa,OAErB,cAACe,EAAA,EAAD,CAAMiB,UAAW/C,EAAQT,UAAWvE,MAAI,EAACkH,GAAI,GAAIC,GAAI,GAAGpB,GAAaC,OAArE,SACE,cAACsB,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACnFjF,EACD4C,IAAe,IAIjBa,GAAY,GAAG,WACbhE,GAAY,GAAI,EAAGF,GACnB8C,EAAQ0D,KAAK,SAAWxG,MAE1ByD,IAAaD,MAVjB,SAWMQ,GAAa,OAErB,cAACe,EAAA,EAAD,CAAMiB,UAAW/C,EAAQT,UAAWvE,MAAI,EAACkH,GAAI,GAAIC,GAAI,GAAGpB,GAAaC,OAArE,SACI,cAACsB,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACrFjF,EACD4C,IAAe,IAIjBa,GAAY,GAAG,WACbpB,EAAQ0D,KAAK,eAEf/C,IAAaD,MATf,SAUIQ,GAAa,cA0B3B,cAAC+E,EAAA,EAAD,CAAU/C,UAAW/C,EAAQZ,SAAUsC,KAAMnB,GAAUkC,QAAS,SAACE,GAAD,OAAOnC,IAAY,YAKvF,KAIV,mCACGe,M,0DC/bDjD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAK,2BACAD,EAAMuH,WAAWC,QADlB,IAEFC,gBAAiBzH,EAAMrC,QAAQ+J,WAAWC,MAC1C9D,QAAS7D,EAAMK,QAAQ,SA2QZuH,OAvQf,SAAelM,GACEoE,KAAhB,IADqB,EAGqCyB,qBAAWhG,GAApDM,GAHI,EAGdD,SAHc,EAGJC,aAAaE,EAHT,EAGSA,UAHT,KAGoBE,cACFsF,qBAAWtD,IAA3CE,EAJc,EAIdA,IAAKE,EAJS,EAITA,MAAOE,EAJE,EAIFA,KAAME,EAJJ,EAIIA,WAJJ,EAKW8C,qBAAWrE,GAApCa,EALc,EAKdA,SALc,KAKJV,YAEGoE,eAAZC,EAPa,EAObA,EAAGjH,EAPU,EAOVA,KAPU,EASWkB,mBAAS,IATpB,mBASdkM,EATc,KASJC,EATI,OAUKnM,mBAAS,IAVd,mBAUdoM,EAVc,KAUPC,EAVO,OAWWrM,mBAAS,IAXpB,mBAWdsM,EAXc,KAWJC,EAXI,OAYevM,mBAAS,IAZxB,mBAYdwM,EAZc,KAYFC,EAZE,KAiBjBlH,EAAiB,sCAAwCnD,EAAS,GAAG,GAAK,QAAUA,EAAS,GAAG,GAAK,SAAWA,EAAS,GAAG,GAAK,SAAWA,EAAS,GAAG,GAAK,QAjB5I,EAmBepC,oBAAS,GAnBxB,mBAmBd0M,EAnBc,KAmBFC,EAnBE,KAqBjBC,EAAkB,8BAAgCF,EAAa,IAAM,IAAO,EAAI,IAAM,UAAYtK,EAAS,GAAG,GAAK,KAAOA,EAAS,GAAG,GAAK,KAAOA,EAAS,GAAG,GAAK,KAAOA,EAAS,GAAG,GAAK,QAEzLsD,EAAUC,cAEVkH,EAAQ,WACb/J,GAAW,IAAImB,MAAOyF,WAAW,IAAIzF,MAAOwF,WAAa,GAAG,IAAIxF,MAAOkF,eACvEzD,EAAQ0D,KAAK,SAAW,IAAInF,MAAOyF,UAAa,MAAO,IAAIzF,MAAOwF,WAAa,GAAK,KAAO,IAAIxF,MAAOkF,gBAGvGhC,qBAAU,WAORjH,GAAY,GACZ2M,MAEC,IAEH,IA6FIC,EAAO,qBAAK7E,MAAO,CAACa,SAAU,WAAYiE,IAAK,EAAGC,KAAM,EAAGC,MAAO,QAASC,OAAQ,OAAQzB,gBAAiB,oBAA8B0B,eAAgB,UAAWC,iBAAkB,YAAaC,mBAAoB,YAGxNC,EAAY,eAAC3F,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACuF,UAAW,QAAvG,UACX,eAAC7F,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAAS0D,KAAM,EAAGvD,MAAO,CAACwF,SAAU,QAAShC,gBAAgB,GAAD,OAAKmB,GAAmBc,WAAY,MAAOC,cAAe,OAAvK,UACC,cAAChG,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACkH,GAAI,EAAGF,QAAQ,SAASC,WAAW,SAAxD,SACC,cAACK,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACzFqE,GAAc,IAEdiB,UAAW,cAAC,KAAD,IAHZ,SAIE7H,EAAE,mBAEL,cAAC4B,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACkH,GAAI,EAAGF,QAAQ,SAASC,WAAW,SAAxD,SACC,cAACK,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACzFqE,GAAc,IAEfiB,UAAW,cAAC,KAAD,IAHX,SAIE7H,EAAE,yBAGN,cAAC4B,EAAA,EAAD,CAAM9G,MAAI,IAEV,cAAC8G,EAAA,EAAD,CAAM9G,MAAI,IAET6L,EACA,cAACmB,GAAA,EAAD,CAAMxC,GAAIqB,EAAYoB,cAAY,EAACvC,eAAa,EAAhD,SACC,eAAC5D,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACyF,WAAY,MAAOC,cAAe,OAA9H,UACC,cAAChG,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,OAAvH,SACC,cAACI,EAAA,EAAD,CACC3F,WAAS,EACT4F,MAAsB,KAAfxB,EACPyB,WAAYzB,EACZ0B,OAAO,QACPC,MAAOpI,EAAE,mBACTsC,QAAQ,WACRC,QAAS,kBAAMmE,EAAc,KAC7BhC,SAAU,SAACjC,GAAD,OAAO2D,EAAY3D,EAAEkC,OAAOlK,YAGxC,cAACmH,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,OAAvH,SACC,cAACI,EAAA,EAAD,CACC3F,WAAS,EACT4F,MAAsB,KAAfxB,EACPyB,WAAYzB,EACZ0B,OAAO,QACPC,MAAOpI,EAAE,eACTsC,QAAQ,WACRC,QAAS,kBAAMmE,EAAc,KAC7BhC,SAAU,SAACjC,GAAD,OAAO6D,EAAS7D,EAAEkC,OAAOlK,YAGrC,cAACmH,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,OAAvH,SACC,cAACI,EAAA,EAAD,CACC3F,WAAS,EACT8F,OAAO,QACPC,MAAOpI,EAAE,kBACT9D,KAAK,WACLmM,aAAa,mBACb/F,QAAQ,WACRoC,SAAU,SAACjC,GAAD,OAAO+D,EAAY/D,EAAEkC,OAAOlK,iBAM1C,KAEAkM,EAAa,KAEb,cAACmB,GAAA,EAAD,CAAMxC,IAAKqB,EAAYoB,cAAY,EAACvC,eAAa,EAAjD,SACC,eAAC5D,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACyF,WAAY,MAAOC,cAAe,OAA9H,UACC,cAAChG,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,OAAvH,SACC,cAACI,EAAA,EAAD,CACC3F,WAAS,EACT4F,MAAsB,KAAfxB,EACPyB,WAAYzB,EACZ0B,OAAO,QACPC,MAAOpI,EAAE,eACTsC,QAAQ,WACRC,QAAS,kBAAMmE,EAAc,KAC7BhC,SAAU,SAACjC,GAAD,OAAO6D,EAAS7D,EAAEkC,OAAOlK,YAGrC,cAACmH,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,OAAvH,SACC,cAACI,EAAA,EAAD,CACC3F,WAAS,EACT8F,OAAO,QACPC,MAAOpI,EAAE,kBACT9D,KAAK,WACLmM,aAAa,mBACb/F,QAAQ,WACRoC,SAAU,SAACjC,GAAD,OAAO+D,EAAY/D,EAAEkC,OAAOlK,iBAM3C,cAACmH,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAAShC,gBAAgB,GAAD,OAAKlG,GAAkBmI,WAAY,MAAOC,cAAe,MAAOO,OAAQ,WAA5K,SACC,cAAC/F,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACtFoE,GA/LNR,EAASmC,OAAOxH,OAAS,GAAKuF,EAAMiC,OAAOxH,OAAS,GAAKyF,EAAS+B,OAAOxH,OAAS,IACpF4F,EAAc,4CAgCF,WAEb,GAAGL,EAAMiC,OAAOxH,OAAS,GAAKyF,EAAS+B,OAAOxH,OAAS,EAEtD/D,EAAWN,EAAKE,EAAOE,GAEvBxC,EAAU,IAEVF,GAAY,GAEZ2M,IAuJMyB,IAJF,SAKIvI,EAAE,qBAEP,cAAC4B,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,MAAOO,OAAQ,WAAtI,SACC,cAACK,EAAA,EAAD,CAAalG,QAAQ,OAAOtD,MAAM,UAAlC,SACEyJ,OAAOC,KAAK3P,EAAK4P,MAAMnL,MAAMoL,KAAI,SAACvN,GAAD,OACjC,cAAC+G,EAAA,EAAD,CAECF,MAAO,CAAC2G,SAAU,QAClBtG,QAAS,kBAAMxJ,EAAK+P,eAAezN,IAHpC,SAKE2E,EAAE,QAAU3E,IAJRA,aAWd,OACC,sBAAK6G,MAAO,CAACa,SAAU,WAAYiE,IAAK,EAAGC,KAAM,EAAGC,MAAO,QAASC,OAAQ,OAAQzB,gBAAiB,UAhPlF,qGAgPkF,kCAAiE0B,eAAgB,QAASC,iBAAkB,aAAjN,UACEN,EACAQ,M,kBCxQEwB,GAAW,SAACC,GACjB,YAAiBC,GAAVD,GAAiC,MAAVA,GAAoC,kBAAXA,GAGzCE,GA/BQ,SAAjBA,EAAkBC,EAASC,GAGhC,GAFmBL,GAASI,IAAYJ,GAASK,GAEnC,CACb,IAAMC,EAAOZ,OAAOC,KAAKS,GACnBG,EAAOb,OAAOC,KAAKU,GAEzB,GAAGC,EAAKvI,SAAWwI,EAAKxI,OACvB,OAAO,EAER,GAAmB,IAAhBuI,EAAKvI,OACP,OAAO,EAIR,IAFA,IAAIyI,GAAW,EAEf,MAAiBF,EAAjB,eAAsB,CAAlB,IAAMzO,EAAG,KACZ2O,EAAWL,EAAeC,EAAQvO,GAAMwO,EAAQxO,KAAS2O,EAG1D,OAAOA,EAGP,OAAOJ,IAAYC,G,uCCZfI,GAAc,SAAC,GAA4F,IAA3FzN,EAA0F,EAA1FA,SAAU0N,EAAgF,EAAhFA,YAAaC,EAAmE,EAAnEA,MAAOC,EAA4D,EAA5DA,UAAWC,EAAiD,EAAjDA,QAAStM,EAAwC,EAAxCA,OAAQuM,EAAgC,EAAhCA,WAAYrK,EAAoB,EAApBA,eAAoB,EAE3FO,cAAZC,EAFuG,EAEvGA,EAFuG,EAEpGjH,KAEX,OACC,eAAC6J,EAAA,EAAD,CAAetE,MAAOvC,EAAtB,UACC,cAAC+N,GAAA,EAAD,IACA,sBAAK5H,MAAO,CAAC6H,YAAa,OAAQC,aAAc,QAAhD,UACC,eAACpI,EAAA,EAAD,CAAM9G,MAAI,EAAC+G,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,WAAWC,WAAW,SAASG,MAAO,CAACyF,WAAY,MAAOC,cAAe,MAAOO,OAAQ,OAAjI,UACC,cAACvG,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGC,GAAI,EAAGC,MAAO,CAAC+H,UAAW,UAA5C,SACA,cAAC3G,EAAA,EAAD,UAAatD,EAAE,GAAD,OAAIyJ,EAAYS,cAAhB,eAEd,cAACtI,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGC,GAAI,EAAGC,MAAO,CAAC8H,aAAc,OAA/C,SACA,cAAChC,EAAA,EAAD,CACCmC,UAAU,EACV9H,WAAS,EACTC,QAAQ,WACR6F,OAAO,QACPiC,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,MAAOiP,SAIT,cAACW,GAAA,EAAD,IACA,cAACzI,EAAA,EAAD,CAAM9G,MAAI,EAAV,SACA,cAACwI,EAAA,EAAD,CAAYgH,WAAS,MAErB,eAAC1I,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG7D,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAA7D,UACkB,UAAhB0H,EACA,cAAC7H,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIC,GAAI,GAAvB,SACE0H,IAGFA,EAEa,OAAZC,QAAgCX,IAAZW,EACrB,cAAChI,EAAA,EAAD,CAAM9G,MAAI,EAAV,SACC,cAACwI,EAAA,EAAD,CAAYgH,WAAS,MAGtB,cAAC1I,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACyF,WAAY,QAA9C,SACC,qBAAKzF,MAAO,CAACwD,gBAAgB,GAAD,OAAKlG,GAAkBmI,WAAY,MAAOC,cAAe,OAArF,SACA,cAACxF,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASpD,QAAS,WACzFqH,KADD,SAEI5J,EAAE,sBAKQ,OAAf6J,QAAsCZ,IAAfY,EACxB,KAEA,cAACjI,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG7D,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAA7D,SACC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIC,GAAI,EAAGC,MAAO,CAACyF,WAAY,QAA9C,SACC,qBAAKzF,MAAO5E,EAAS,CAACoI,gBAAgB,GAAD,OAAKlG,GAAkBmI,WAAY,MAAOC,cAAe,OAAS,CAAC7B,gBAAiB,UAAW4B,WAAY,MAAOC,cAAe,OAAtK,SACA,cAACxF,EAAA,EAAD,CAAQF,MAAO,CAAClD,MAAO,QAASC,cAAe,QAASoD,WAAS,EAACsD,MAAM,SAASwE,UAAW7M,EAAQiF,QAAS,WAC5GsH,KADD,SAEI7J,EAAE,6BAWbwJ,GAAYe,WAAa,CACxBxO,SAAUyO,KAAUxB,OAAOyB,WAC3BhB,YAAae,KAAUE,OAAOD,WAC9Bf,MAAOc,KAAUG,OAAOF,WACxBd,UAAWa,KAAUI,QAAQH,WAC7Bb,QAASY,KAAUK,KACnBvN,OAAQkN,KAAUM,KAClBjB,WAAYW,KAAUK,KACtBrL,eAAgBgL,KAAUE,QAGZlB,U,8BChFTuB,GAAc,SAAC,GAA2H,IAA1H/J,EAAyH,EAAzHA,MAAO3F,EAAkH,EAAlHA,IAAK2P,EAA6G,EAA7GA,MAAOnP,EAAsG,EAAtGA,SAAUH,EAA4F,EAA5FA,iBAAkBC,EAA0E,EAA1EA,YAAasP,EAA6D,EAA7DA,WAAYC,EAAiD,EAAjDA,YAAatB,EAAoC,EAApCA,QAASuB,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,UAAe,EAE1HrL,cAAZC,EAFsI,EAEtIA,EAFsI,EAEnIjH,KAEX,OACC,cAACsS,GAAA,EAAD,CAAUnJ,MAAO,CAACC,QAAS,OAA3B,SACC,eAACP,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,aAAaC,WAAW,SAA5D,UACA,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACC,cAAChC,EAAA,EAAD,CACC3F,WAAS,EACTrD,MAAuB,IAAhBrD,EAAoB,UAAY,YACvC2G,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,cACTvF,MAAOY,EAAIiQ,KACX5G,SAAU,SAACjC,GAAOwI,EAAWjK,EAAOyB,EAAEkC,OAAOlK,YAQ/C,cAACmH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACC,cAAChC,EAAA,EAAD,CACC3F,WAAS,EACTrD,MAAM,UACNuM,UAAWH,EACX9I,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,eACToK,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,MAAOY,EAAImQ,MACXC,QAAS,SAAChJ,GAAD,OAAOA,EAAEkC,OAAO+G,UACzBhH,SAAU,SAACjC,GAAOyI,EAAYlK,EAAOyB,EAAEkC,OAAOlK,QAC9CkR,WAAY,SAAClJ,GACTzB,IAAUgK,EAAMlK,OAAS,GACd,UAAV2B,EAAE7H,KACJgP,SAIL,cAAChI,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACC,cAAC/G,EAAA,EAAD,CAECf,MAAOrG,EAAW,CAACmD,MAAO,QAAU,CAACA,MAAM,GAAD,OAAKtD,EAAiBC,KAChE4G,QAAS,WACR4I,EAAWnK,IAJb,SAOC,cAAC,KAAD,cASL+J,GAAYR,WAAa,CACxBvJ,MAAOwJ,KAAUG,OAAOF,WACxBpP,IAAKmP,KAAUxB,OAAOyB,WACtBO,MAAOR,KAAUoB,MAAMnB,WACvB5O,SAAU2O,KAAUM,KAAKL,WACzB/O,iBAAkB8O,KAAUqB,QAAQrB,KAAUE,OAAOD,YAAYA,WACjE9O,YAAa6O,KAAUG,OAAOF,WAC9BQ,WAAYT,KAAUK,KAAKJ,WAC3BS,YAAaV,KAAUK,KAAKJ,WAC5Bb,QAASY,KAAUK,KAAKJ,WACxBU,WAAYX,KAAUK,KAAKJ,WAC3BW,UAAWZ,KAAUM,KAAKL,YAGZM,U,mBCuUAe,GArYH,SAAC9R,GACX,IAgQI2P,EAhQEhK,EAAUC,cADK,EAGFG,cAAZC,EAHc,EAGdA,EAHc,KAGXjH,KAEgD8G,qBAAWhG,IAA9DK,EALc,EAKdA,SALc,KAKJC,YALI,EAKSE,UALT,EAKoBE,cACFsF,qBAAWtD,IAA3CE,EANc,EAMdA,IAAKE,EANS,EAMTA,MAAOE,EANE,EAMFA,KANE,KAMIE,WACsE8C,qBAAW3C,IAAvFI,GAPE,EAOdF,WAPc,EAOFE,QAAQE,EAPN,EAOMA,KAAgCD,GAPtC,EAOYG,UAPZ,EAOuBL,cAPvB,EAOsCE,YAAYE,EAPlD,EAOkDA,QAPlD,KAO2DE,YACVkC,qBAAWrE,IAA1Ea,EARc,EAQdA,SAAUX,EARI,EAQJA,iBAAkBG,EARd,EAQcA,SAAUF,EARxB,EAQwBA,YAAaI,EARrC,EAQqCA,SARrC,EAUK9B,mBAAS,GAVd,mBAUdyP,EAVc,KAUPqC,EAVO,OAWa9R,mBAAS,MAXtB,mBAWd+R,EAXc,KAWHC,EAXG,OAYKhS,mBAAS,MAZd,mBAYd+Q,EAZc,KAYPkB,EAZO,OAcajS,oBAAS,GAdtB,mBAcdmR,EAdc,KAcHe,EAdG,KAiBjB3M,EAAiB,sCAAwCnD,EAASV,GAAa,GAAK,QAAUU,EAASV,GAAa,GAAK,SAAWU,EAASV,GAAa,GAAK,SAAWU,EAASV,GAAa,GAAK,QAoDnMiO,EAAU,WACduC,GAAa,GAIb,IAAMC,EAAQ,aAAOpB,GAElBoB,EAAStL,OAAS,GAA6C,KAAxCsL,EAASA,EAAStL,OAAS,GAAG0K,QACtDY,EAASA,EAAStL,OAAS,GAAG0K,MAAQ,KAExCY,EAAS/I,KAAK,CAAEiI,KAAMtL,EAAE,cAAgBoM,EAAStL,OAAS,GAAI0K,MAAO,KAErExO,QAAQC,IAAIiM,GAAe8C,EAAWI,IACtC7O,GAAY2L,GAAe8C,EAAWI,IAEtCF,EAASE,IAGLjB,EAAa,SAACnK,GAIlB,IAAMoL,EAAQ,aAAOpB,GAElBoB,EAAStL,OAAS,GAA6C,KAAxCsL,EAASA,EAAStL,OAAS,GAAG0K,QACtDY,EAASA,EAAStL,OAAS,GAAG0K,MAAQ,KAExCY,EAASC,OAAOrL,EAAO,GAEvBhE,QAAQC,IAAIiM,GAAe8C,EAAWI,IACtC7O,GAAY2L,GAAe8C,EAAWI,IAEtCF,EAASE,GACTL,EAASK,EAASxD,KAAI,SAAAvN,GAAG,OAA4B,IAAxBiR,WAAWjR,EAAImQ,UAAce,QAAO,SAACtI,EAAGuI,GAAO,OAAOvI,EAAIuI,IAAK,GAAK,MAG7FvB,EAAa,SAACjK,EAAOsK,GAIzBtO,QAAQC,IAAIqO,GAEZ,IAAMc,EAAQ,aAAOpB,GAElBhK,IAAUoL,EAAStL,OAAS,GAC1BsL,EAAStL,OAAS,GAA6C,KAAxCsL,EAASA,EAAStL,OAAS,GAAG0K,QACtDY,EAASA,EAAStL,OAAS,GAAG0K,MAAQ,KAE1CY,EAASpL,GAAOsK,KAAOA,EAEvBtO,QAAQC,IAAIiM,GAAe8C,EAAWI,IACtC7O,GAAY2L,GAAe8C,EAAWI,IAEtCF,EAASE,IAGLlB,EAAc,SAAClK,EAAOwK,GAI1B,GAAa,KAAVA,GAAiB,sBAAsBiB,KAAKjB,GAA/C,CAGGkB,MAAMlB,KACPA,EAAQ,GAEV,IAAMY,EAAQ,aAAOpB,GAElBhK,IAAUoL,EAAStL,OAAS,GAC1BsL,EAAStL,OAAS,GAA6C,KAAxCsL,EAASA,EAAStL,OAAS,GAAG0K,QACtDY,EAASA,EAAStL,OAAS,GAAG0K,MAAQ,KAG1CY,EAASpL,GAAOwK,MAAkB,KAAVA,EAAe,IAAMA,EAE7CxO,QAAQC,IAAIiM,GAAe8C,EAAWI,IACtC7O,GAAY2L,GAAe8C,EAAWI,IAEtCL,EAASK,EAASxD,KAAI,SAAAvN,GAAG,OAA4B,IAAxBiR,WAAWjR,EAAImQ,UAAce,QAAO,SAACtI,EAAGuI,GAAO,OAAOvI,EAAIuI,IAAK,GAAK,KACjGN,EAASE,KA+LZ,OA3LChL,qBAAU,WAIR,GAAIlH,EAAJ,CAyEA,IAAI8Q,EAAQ,GAUA,OAATxN,QACiByL,IAAfzL,EAAKX,SAC+CoM,IAAlDzL,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,YAC6CyF,IAAnFzL,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,QAC1EwH,EAAQxN,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,MAAMwH,OAK/FmB,GAAa,GAEbD,EAASlB,GACTiB,EAAa,eAAIjB,IACjBe,EAASf,EAAMpC,KAAI,SAAAvN,GAAG,OAAgB,IAAZA,EAAImQ,SAAae,QAAO,SAACtI,EAAGuI,GAAO,OAAOvI,EAAIuI,IAAK,GAAK,UAxOlF7M,EAAQ0D,KAAK,OA0OZ,CAACrJ,EAAM2S,MAAMC,OAAQpP,IAMtBmM,EADW,OAAVqB,GAAkBA,EAAMlK,QAAU,EACvB,KAGA,cAAC+L,GAAA,EAAD,CAAO3K,MAAO,CAAC4K,UAAW,OAAQC,SAAU,QAA5C,SACM,cAACC,GAAA,EAAD,CAAM9K,MAAO,CAACC,QAAS,WAAvB,SACG6I,EAAMpC,KAAI,SAACvN,EAAK2F,GAAN,OACT,gCACa,IAAVA,EAAc,KAAO,cAACqJ,GAAA,EAAD,IACtB,cAAC,GAAD,CACErJ,MAAOA,EACP3F,IAAKA,EACL2P,MAAOA,EACPnP,SAAUA,EACVH,iBAAkBA,EAClBC,YAAaA,EACbsP,WAAYA,EACZC,YAAaA,EACbtB,QAASA,EACTuB,WAAYA,EACZC,UAAWA,MAbLpK,UA8GhC,aApCA,CAoCC,GAAD,CACEjF,SAAUA,EACV0N,YAAa,QACbC,MAAOA,EACPC,UAAWA,EACXC,QAASA,EACTtM,OAAQA,EACRuM,WAvWe,WACjB,GAAGvM,EAAO,CAER,IAAI,IAAI2P,EAAI,EAAGA,EAAIjC,EAAMlK,OAAQmM,IACT,KAAnBjC,EAAMiC,GAAGzB,QACVR,EAAMiC,GAAGzB,MAAQ,KAGrB,IAAM0B,EAAO,eAAO1P,GAEP,OAAVwN,GAAkBA,EAAMlK,OAAS,EAEnB,OAAZoM,QACoBjE,IAAlBiE,EAAQrQ,SAC+CoM,IAArDiE,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,YAC6CyF,IAAtFiE,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,cACtE0J,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,OAO5E,OAAZ0J,IACM,wBAAPA,EAAU,SAESjE,IAAlBiE,EAAQrQ,KACTqQ,EAAQrQ,GAAQ,SAEsCoM,IAArDiE,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,QAC5C0J,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAQ,SAEoCyF,IAAtFiE,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,QAC7E0J,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,MAAQ,IAEtF0J,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,MAAMwH,MAAQA,EAC1FkC,EAAQrQ,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,MAAMkG,MAAQA,GAG5FjM,EAAQyP,GACRjB,EAAa,eAAIjB,IACjBzN,GAAW,KA+TXiC,eAAgBA,K,oBCzYhB2N,GAAgB,SAAC,GAA4I,IAA3InM,EAA0I,EAA1IA,MAAOoM,EAAmI,EAAnIA,QAASpC,EAA0H,EAA1HA,MAAOnP,EAAmH,EAAnHA,SAAUH,EAAyG,EAAzGA,iBAAkBC,EAAuF,EAAvFA,YAAauP,EAA0E,EAA1EA,YAAamC,EAA6D,EAA7DA,WAAYjC,EAAiD,EAAjDA,UAAWtE,EAAsC,EAAtCA,MAAOwG,EAA+B,EAA/BA,eAAgBC,EAAe,EAAfA,UAAe,EAE7IxN,cAAZC,EAFyJ,EAEzJA,EAFyJ,EAEtJjH,KAEX,OACC,cAACsS,GAAA,EAAD,CAAUnJ,MAAO,CAACC,QAAS,OAA3B,SACC,eAACP,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,aAAaC,WAAW,SAC3DG,MAAOoL,EADR,UAGC,eAAC1L,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGH,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAApE,UACC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,OAAQC,UAAW,OAA3D,SAcA,cAAC3G,EAAA,EAAD,CAICpB,MAAOqL,EAJR,SAMGvM,EAAQ,MAGX,cAACY,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,OAAQC,UAAW,OAA3D,SAcA,cAAC3G,EAAA,EAAD,CAICpB,MAAOqL,EAJR,SAMEH,SAIH,cAACxL,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACC,cAAChC,EAAA,EAAD,CACC3F,WAAS,EAETrD,MAAM,UACNmL,UAAWkD,EACX9B,UAAWH,EACX9I,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,gBACToK,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,WAA0DwO,IAAnD+B,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MAAsB,EAAIwH,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MACnHkB,SAAU,SAACjC,GAAOyI,EAAYlK,EAAOyB,EAAEkC,OAAOlK,QAC9CkR,WAAY,SAAClJ,SAOf,cAACb,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACC,cAAC/G,EAAA,EAAD,CACCf,MAAOrG,EAAW,CAACmD,MAAO,QAAU,CAACA,MAAM,GAAD,OAAKtD,EAAiBC,KAChE4G,QAAS,WAERuE,EAAM9F,EAAQ,IAJhB,SAOC,cAAC,KAAD,cASNmM,GAAc5C,WAAa,CAC1BvJ,MAAOwJ,KAAUG,OAAOF,WACxB2C,QAAS5C,KAAUE,OAAOD,WAC1BO,MAAOR,KAAUoB,MAAMnB,WACvB5O,SAAU2O,KAAUM,KAAKL,WACzB/O,iBAAkB8O,KAAUqB,QAAQrB,KAAUE,OAAOD,YAAYA,WACjE9O,YAAa6O,KAAUG,OAAOF,WAC9BS,YAAaV,KAAUK,KAAKJ,WAC5B4C,WAAY7C,KAAUM,KAAKL,WAC3BW,UAAWZ,KAAUM,KAAKL,WAC1B3D,MAAO0D,KAAUK,KAAKJ,WACtB6C,eAAgB9C,KAAUE,OAAOD,WACjC8C,UAAW/C,KAAUE,OAAOD,YAGd0C,UCoZAK,GAjfD,SAACxT,GAAW,IA6MpB2P,EA7MmB,EACJ5J,cAAZC,EADgB,EAChBA,EAEDL,GAHiB,EACb5G,KAEM6G,eAHO,EAKmCC,qBAAWhG,GAA9DK,EALgB,EAKhBA,SALgB,KAKNC,YALM,EAKOE,UALP,EAKkBE,cACFsF,qBAAWtD,IAAtCI,GANW,EAMhBF,IANgB,EAMXE,OAAOE,EANI,EAMJA,KAAME,EANF,EAMEA,WANF,EAOwE8C,qBAAW3C,GAA/EM,GAPJ,EAOhBJ,WAPgB,EAOJE,OAPI,EAOIE,MAPJ,KAOUE,UAPV,EAOqBL,cAPrB,EAOoCE,WAPpC,EAOgDE,QAPhD,EAOyDE,YACEkC,qBAAWrE,IAAtFa,EARgB,EAQhBA,SAAUX,EARM,EAQNA,iBAAkBG,EARZ,EAQYA,SAAUS,EARtB,EAQsBA,WAAYX,EARlC,EAQkCA,YAAaI,EAR/C,EAQ+CA,SAEhEwE,EAAOC,YAAczE,EAAS0E,YAAYC,GAAG,OAV5B,EAYGzG,mBAAS,GAZZ,mBAYhByP,EAZgB,KAYTqC,EAZS,OAaG9R,mBAAS,MAbZ,mBAahB+Q,EAbgB,KAaTkB,EAbS,OAeWjS,oBAAS,GAfpB,mBAehBmR,EAfgB,aAgBanR,oBAAS,IAhBtB,mBAgBhBoT,EAhBgB,KAyBlBvG,GAzBkB,KAmBsCzK,EAASV,GAAa,GAAeU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAMvL,SAACc,GACdM,EAAWN,EAAKE,EAAOE,GACvB8C,EAAQ0D,KAAK,QAAU5G,EAAM,IAAME,EAAQ,IAAME,KAkD3CqO,EAAc,SAAClK,EAAOwK,KAkI5B,GAzGApK,qBAAU,WAIR,GAAIlH,EAAJ,CAuEA,IAAI8Q,EAAQ,GAMZ,GAAY,OAATxN,QACiByL,IAAfzL,EAAKX,SAC+CoM,IAAlDzL,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MACvC,IAAI,IAAI,EAAR,IAAeiF,OAAOC,KAAKlL,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,OAAnE,eAA0E,CAAtE,IAAI/G,EAAG,KACTuO,EAAMvO,GAAOe,EAAKX,GAAMF,EAAM4G,WAAWC,SAAS,EAAG,MAAM/G,EAAI8G,WAAWC,SAAS,EAAG,MAAMkG,MAMtGwC,EAASlB,GAIT,IAFA,IAAIhL,EAAI,EAEA,EAAR,IAAeyI,OAAOC,KAAKsC,GAA3B,gBAAI,IAAIpQ,EAAG,KACToF,GAA8B,IAAzBsM,WAAWtB,EAAMpQ,IAExBmR,EAAS/L,EAAI,UAlLbL,EAAQ0D,KAAK,OAoLZ,CAACrJ,EAAM2S,MAAMC,OAAQpP,IAKX,OAAVwN,GAAkBA,EAAMlK,QAAU,EACnC6I,EAAY,UAGZ,GAAGpJ,EAAK,CAEN,IAAIkN,EAAS7P,EAAUK,WAAW,EAAGtB,EAAOE,GACxC6Q,EAAWC,MAAMC,MAAM,KAAMD,MAAM/P,EAAUI,YAAYrB,EAAME,GAAQ4Q,IAE3E9D,EAAY,cAAC/H,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAf,SACE,cAAC6K,GAAA,EAAD,CAAOgB,UAAW,EAAG3L,MAAOrG,EAAW,CAACiR,UAAW,OAAQC,SAAU,OAAQ5K,QAAS,UAAW4D,gBAAiB,WAAa,CAAC+G,UAAW,OAAQC,SAAU,OAAQ5K,QAAS,WAA9K,SACE,sBAAKD,MAAO,CAACkD,QAAS,OAAQ0I,oBAAqB,qCAAsCC,QAAS,OAAlG,UACGnQ,EAAUC,SAAS+K,KAAI,SAACvN,EAAK2F,GAAN,OACtB,cAACY,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,SAASC,WAAW,SAAmBG,MAAO,CAAC8L,aAAc,OAAjG,SACE,cAACnB,GAAA,EAAD,CACE3K,MAAiB,IAAVlB,EACJnF,EAAW,CAACkK,gBAAiB,yBAA0BkE,UAAW,SAAU9H,QAAS,UAAW+E,MAAO,OAAQQ,SAAU,SAAW,CAAC3B,gBAAiB,yBAA0BkE,UAAW,SAAU9H,QAAS,UAAWnD,MAAO1C,EAAY4K,MAAO,OAAQQ,SAAU,SACvP,IAAV1G,EACAnF,EAAW,CAACkK,gBAAiB,uBAAwBkE,UAAW,SAAU9H,QAAS,UAAW+E,MAAO,OAAQQ,SAAU,SAAW,CAAC3B,gBAAiB,yBAA0BkE,UAAW,SAAU9H,QAAS,UAAWnD,MAAOtD,EAAiB,GAAIwL,MAAO,OAAQQ,SAAU,SAC3Q,CAAEuC,UAAW,SAAU9H,QAAS,UAAW+E,MAAO,OAAQQ,SAAU,SAL9E,SASGrM,KAViEA,MAcvEqS,EAAS9E,KAAI,SAACvN,EAAK2F,GAAN,OACR,cAACY,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAA3E,SACGf,EAAQ,EAAIyM,GAAU,EAAI,KACzB,cAACZ,GAAA,EAAD,CAAO3K,MACqD,IAA1DtE,EAAUK,WAAW+C,EAAQ,EAAIyM,EAAQ9Q,EAAOE,GAC7ChB,EAAW,CAACkK,gBAAiB,yBAA0B5D,QAAS,MAAOuF,SAAU,SAAW,CAAC3B,gBAAiB,yBAA0B5D,QAAS,MAAOuF,SAAU,SACtG,IAA1D9J,EAAUK,WAAW+C,EAAQ,EAAIyM,EAAQ9Q,EAAOE,GAChDhB,EAAW,CAACkK,gBAAiB,uBAAwB5D,QAAS,MAAOuF,SAAU,SAAW,CAAC3B,gBAAiB,yBAA0B5D,QAAS,MAAOuF,SAAU,SAC/J,CAACvF,QAAS,MAAOuF,SAAU,SALnC,SAMG1G,EAAQ,EAAIyM,GAAU,EAAI,KACzB,eAAC7L,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAA3E,UACE,eAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIH,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,gBAAgBC,WAAW,SAASG,MAAO,CAACC,QAAS,YAAtG,UACE,cAACP,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAf,SACI,cAACsB,EAAA,EAAD,CAIEpB,MAAOrG,EAAW,GAAgE,IAA1D+B,EAAUK,WAAW+C,EAAQ,EAAIyM,EAAQ9Q,EAAOE,GAAc,CAACmC,MAAO1C,GAClC,IAA1DsB,EAAUK,WAAW+C,EAAQ,EAAIyM,EAAQ9Q,EAAOE,GAAc,CAACmC,MAAOtD,EAAiB,IAAM,GALjG,SAQIsF,EAAQ,EAAIyM,MAGpB,cAAC7L,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC+H,UAAW,OAArC,SACE,cAAChH,EAAA,EAAD,CACEf,MAAOrG,EAAW,CAACmD,MAAO,QAAU,CAACA,MAAM,GAAD,OAAKtD,EAAiBC,KAChEsS,KAAK,QACL1L,QAAS,WAEPuE,EAAM9F,EAAQ,EAAIyM,IALtB,SAQI,cAAC,KAAD,WAIR,cAAC7L,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIE,MAAO,CAACC,QAAS,YAApC,SACE,cAAC6F,EAAA,EAAD,CACE3F,WAAS,EACT8H,UAAWkD,EACX9B,UAAWH,EACX9I,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,gBACToK,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,WAAmEwO,IAA5D+B,GAAOhK,EAAQ,EAAIyM,GAAQlK,WAAWC,SAAS,EAAG,MAAsB,EAAIwH,GAAOhK,EAAQ,EAAIyM,GAAQlK,WAAWC,SAAS,EAAG,MACrIkB,SAAU,SAACjC,GAA0BA,EAAEkC,OAAOlK,OAC9CkR,WAAY,SAAClJ,eA/C8DzB,kBAiEjH2I,EAAY,cAAC/H,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAf,SACE,cAAC6K,GAAA,EAAD,CAAO3K,MAAO,CAAC4K,UAAW,OAAQC,SAAU,QAA5C,SACI,cAACC,GAAA,EAAD,CAAM9K,MAAO,CAACC,QAAS,WAAvB,SACGwL,MAAMC,MAAM,KAAMD,MAAM/P,EAAUI,YAAYrB,EAAME,KAAQ+L,KAAI,SAACvN,EAAK2F,GAAN,OAC/D,gCACa,IAAVA,EAAc,KAAO,cAACqJ,GAAA,EAAD,IACtB,cAAC,GAAD,CACErJ,MAAOA,EACPoM,QAASxP,EAAUC,SAASD,EAAUK,WAAW+C,EAAQ,EAAGrE,EAAOE,IACnEmO,MAAOA,EACPnP,SAAUA,EACVH,iBAAkBA,EAClBC,YAAaA,EACbuP,YAAaA,EACbmC,WAAYA,EACZjC,UAAWA,EACXtE,MAAOA,EACPwG,eACmD,IAAjD1P,EAAUK,WAAW+C,EAAQ,EAAGrE,EAAOE,GACpChB,EAAW,CAACkK,gBAAiB,0BAA4B,CAACA,gBAAiB,0BACxB,IAAjDnI,EAAUK,WAAW+C,EAAQ,EAAGrE,EAAOE,GACvChB,EAAW,CAACkK,gBAAiB,wBAA0B,CAACA,gBAAiB,0BACxE,GAERwH,UACE1R,EAAW,GAAuD,IAAjD+B,EAAUK,WAAW+C,EAAQ,EAAGrE,EAAOE,GAAc,CAACmC,MAAO1C,GAC3B,IAAjDsB,EAAUK,WAAW+C,EAAQ,EAAGrE,EAAOE,GAAc,CAACmC,MAAOtD,EAAiB,IAAM,OAtBlFsF,YA6IrC,OAyCG,aAxCA,CAwCC,GAAD,CACEjF,SAAUA,EACV0N,YAAa,UACbC,MAAOA,EACPC,UAAWA,EACXC,QAAS,QC3fTsE,GAAe,SAAC,GAAiH,IAAhHlN,EAA+G,EAA/GA,MAAOrE,EAAwG,EAAxGA,MAAOqO,EAAiG,EAAjGA,MAAOnP,EAA0F,EAA1FA,SAAUH,EAAgF,EAAhFA,iBAAkBC,EAA8D,EAA9DA,YAAauP,EAAiD,EAAjDA,YAAamC,EAAoC,EAApCA,WAAYjC,EAAwB,EAAxBA,UAAW+C,EAAa,EAAbA,QAAa,EAEjHpO,cAAZC,EAF6H,EAE7HA,EAF6H,EAE1HjH,KAEX,OACC,cAACsS,GAAA,EAAD,CAAUnJ,MAAO,CAACC,QAAS,OAA3B,SACC,eAACP,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,aAAaC,WAAW,SAA5D,UAEC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC6H,YAAa,OAAQE,UAAW,SAA1D,SAcC,cAAC3G,EAAA,EAAD,UAAa3G,MAGd,cAACiF,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACA,cAAChC,EAAA,EAAD,CACC3F,WAAS,EACTrD,MAAuB,IAAhBrD,EAAoB,UAAY,YACvCwO,UAAWkD,EACX9B,UAAWH,EACX9I,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,gBACToK,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,WAA0DwO,IAAnD+B,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MAAsB,EAAIwH,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MACnHkB,SAAU,SAACjC,GAAOyI,EAAYlK,EAAOyB,EAAEkC,OAAOlK,QAC9CkR,WAAY,SAAClJ,SAOd,cAACb,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC8H,aAAc,QAAxC,SACA,cAAC/G,EAAA,EAAD,CACCf,MAAOrG,EAAW,CAACmD,MAAO,QAAU,CAACA,MAAM,GAAD,OAAKtD,EAAiBC,KAChE4G,QAAS,WAER4L,EAAQnN,EAAQ,IAJlB,SAOC,cAAC,KAAD,cASLkN,GAAa3D,WAAa,CACzBvJ,MAAOwJ,KAAUG,OAAOF,WACxB9N,MAAO6N,KAAUE,OAAOD,WACxBO,MAAOR,KAAUoB,MAAMnB,WACvB5O,SAAU2O,KAAUM,KAAKL,WACzB/O,iBAAkB8O,KAAUqB,QAAQrB,KAAUE,OAAOD,YAAYA,WACjE9O,YAAa6O,KAAUG,OAAOF,WAC9BS,YAAaV,KAAUK,KAAKJ,WAC5B4C,WAAY7C,KAAUM,KAAKL,WAC3BW,UAAWZ,KAAUM,KAAKL,WAC1B0D,QAAS3D,KAAUK,KAAKJ,YAGVyD,UCwWAE,GAlaF,SAACpU,GAAW,IAsNnB2P,EAtNkB,EACH5J,cAAZC,EADe,EACfA,EAEDL,GAHgB,EACZ5G,KAEM6G,eAHM,EAKoCC,qBAAWhG,GAA9DK,EALe,EAKfA,SALe,KAKLC,YALK,EAKQE,UALR,EAKmBE,cACFsF,qBAAWtD,IAA/BM,GANG,EAMfJ,IANe,EAMVE,MANU,EAMHE,MAAME,EANH,EAMGA,WANH,EAOyE8C,qBAAW3C,GAA/EM,GAPL,EAOfJ,WAPe,EAOHE,OAPG,EAOKE,MAPL,KAOWE,UAPX,EAOsBL,cAPtB,EAOqCE,WAPrC,EAOiDE,QAPjD,EAO0DE,YACVkC,qBAAWrE,IAA1Ea,EARe,EAQfA,SAAUX,EARK,EAQLA,iBAAkBG,EARb,EAQaA,SAAUF,EARvB,EAQuBA,YAAaI,EARpC,EAQoCA,SAEpDwE,EAAOC,YAAczE,EAAS0E,YAAYC,GAAG,OAV7B,EAYIzG,mBAAS,GAZb,mBAYfyP,EAZe,KAYRqC,EAZQ,OAaI9R,mBAAS,MAbb,mBAaf+Q,EAbe,KAaRkB,EAbQ,OAeYjS,oBAAS,GAfrB,mBAefmR,EAfe,aAgBcnR,oBAAS,IAhBvB,mBAgBfoT,EAhBe,KAyBhBc,GAzBgB,KAmBuC9R,EAASV,GAAa,GAAeU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAMpL,SAACgB,GACjBI,GAAY,EAAGJ,EAAOE,GACtB8C,EAAQ0D,KAAK,UAAW1G,EAAO,IAAKE,KAkD9BqO,EAAc,SAAClK,EAAOwK,KAiS7B,OAxQCpK,qBAAU,WAIJlH,GApFJyF,EAAQ0D,KAAK,KA2Jb,IAAI2H,EAAQ,GAMZ,GAAY,OAATxN,QACiByL,IAAfzL,EAAKX,SACYoM,IAAfzL,EAAKX,GACJ,IAAI,IAAI,EAAR,IAAiB4L,OAAOC,KAAKlL,EAAKX,IAAlC,eAAyC,CAArC,IAAIF,EAAK,KAEXqO,EAAMrO,EAAM6G,SAAS,EAAG,MAAQ,EAEhC,IAAI,IAAI,EAAR,IAAeiF,OAAOC,KAAKlL,EAAKX,GAAMF,IAAtC,eAA8C,CAA1C,IAAIF,EAAG,KACTuO,EAAMrO,EAAM6G,SAAS,EAAG,OAAoD,IAA3C8I,WAAW9O,EAAKX,GAAMF,GAAOF,GAAKiN,OAGrEsB,EAAMrO,EAAM6G,SAAS,EAAG,OAAS,IAM3CxG,QAAQC,IAAI+N,GAEZkB,EAASlB,GAIT,IAFA,IAAIhL,EAAI,EAEA,EAAR,IAAeyI,OAAOC,KAAKsC,GAA3B,gBAAI,IAAIpQ,EAAG,KACToF,GAA8B,IAAzBsM,WAAWtB,EAAMpQ,IAExBmR,EAAS/L,EAAG,OAEX,CAAChG,EAAM2S,MAAMC,OAAQpP,IAMtBmM,EADW,OAAVqB,GAAkBA,EAAMlK,QAAU,EACvB,KAGTP,EAEW,cAACqB,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAf,SACE,cAAC6K,GAAA,EAAD,CAAOgB,UAAW,EAAG3L,MAAOrG,EAAW,CAACiR,UAAW,OAAQC,SAAU,OAAQ5K,QAAS,UAAW4D,gBAAiB,WAAa,CAAC+G,UAAW,OAAQC,SAAU,OAAQ5K,QAAS,WAA9K,SACE,qBAAKD,MAAO,CAACkD,QAAS,OAAQ0I,oBAAqB,sBAAuBC,QAAS,OAAnF,SACGJ,MAAMC,MAAM,KAAMD,MAAM,KAAK/E,KAAI,SAACvN,EAAK2F,GAAN,OAC5B,cAACY,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAA3E,SACE,cAAC8K,GAAA,EAAD,CAAO3K,MAAO,CAACC,QAAS,MAAOuF,SAAU,SAAzC,SACI,eAAC9F,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAA3E,UACE,eAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIH,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,gBAAgBC,WAAW,SAASG,MAAO,CAACC,QAAS,YAAtG,UACE,cAACP,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAf,SACI,cAACsB,EAAA,EAAD,UACG1F,EAAUE,OAAQkD,OAGzB,cAACY,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC+H,UAAW,OAArC,SACE,cAAChH,EAAA,EAAD,CACEf,MAAOrG,EAAW,CAACmD,MAAO,QAAU,CAACA,MAAM,GAAD,OAAKtD,EAAiBC,KAChEsS,KAAK,QACL1L,QAAS,WAEP4L,EAAQnN,EAAQ,IALpB,SAQI,cAAC,KAAD,WAIR,cAACY,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIE,MAAO,CAACC,QAAS,YAApC,SACE,cAAC6F,EAAA,EAAD,CACE3F,WAAS,EACT8H,UAAWkD,EACX9B,UAAWH,EACX9I,QAAQ,WACR6F,OAAO,QACPC,MAAOpI,EAAE,gBACToK,WAAY,CAAElI,MAAO,CAAC+H,UAAW,QACjCxP,WAA0DwO,IAAnD+B,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MAAsB,EAAIwH,GAAOhK,EAAQ,GAAGuC,WAAWC,SAAS,EAAG,MACnHkB,SAAU,SAACjC,GAA0BA,EAAEkC,OAAOlK,OAC9CkR,WAAY,SAAClJ,eAjCgEzB,YAiDrG,cAACY,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAf,SACE,cAAC6K,GAAA,EAAD,CAAO3K,MAAO,CAAC4K,UAAW,OAAQC,SAAU,QAA5C,SACI,cAACC,GAAA,EAAD,CAAM9K,MAAO,CAACC,QAAS,WAAvB,SACGwL,MAAMC,MAAM,KAAMD,MAAM,KAAK/E,KAAI,SAACvN,EAAK2F,GAAN,OAChC,gCACa,IAAVA,EAAc,KAAO,cAACqJ,GAAA,EAAD,IACtB,cAAC,GAAD,CACErJ,MAAOA,EACPrE,MAAOiB,EAAUE,OAAOkD,GACxBgK,MAAOA,EACPnP,SAAUA,EACVH,iBAAkBA,EAClBC,YAAaA,EACbuP,YAAaA,EACbmC,WAAYA,EACZjC,UAAWA,EACX+C,QAASA,MAZHnN,YAgIlC,aAxCA,CAwCC,GAAD,CACEjF,SAAUA,EACV0N,YAAa,SACbC,MAAOA,EACPC,UAAWA,EACXC,QAAS,Q,8BCpTAyE,GAvGC,SAACrU,GAAW,IAAD,EACL+F,cAAZC,EADiB,EACjBA,EAEFL,GAHmB,EACd5G,KAEK6G,eAHS,EAKiCC,qBAAWhG,GAA9DK,EALkB,EAKlBA,SALkB,KAKRC,YALQ,EAKKE,UALL,EAKgBE,cAEsDsF,qBAAW3C,IAPjF,KAOlBE,WAPkB,EAONE,OAPM,EAOEE,KAPF,EAOQE,UAPR,EAOmBL,cAPnB,EAOkCE,WAPlC,EAO8CE,QAP9C,EAOuDE,YACmBkC,qBAAWrE,IAAvGa,EARkB,EAQlBA,SAAUX,EARQ,EAQRA,iBAAkBC,EARV,EAQUA,YAAaC,EARvB,EAQuBA,eAAgBC,EARvC,EAQuCA,SAAUC,EARjD,EAQiDA,YAAaC,EAR9D,EAQ8DA,SAR9D,EAUW9B,oBAAS,GAVpB,mBAUlBqU,EAVkB,KAUNC,EAVM,KAmBnBC,GANuDnS,EAASV,GAAa,GAAeU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAAgBU,EAASV,GAAa,GAM7K,WAExBG,GAAaD,KAGN4S,EAAc,WAClBF,GAAc,IAYZG,EAAe,eAACnN,EAAA,EAAD,CAAQC,KAAM8M,EAAY7M,QAASgN,EAAnC,UACb,cAAC/M,EAAA,EAAD,2BAGA,cAACC,EAAA,EAAD,CAAeO,MAAO,CAACkD,QAAS,QAAhC,SACE1J,EAAiBkN,KAAI,SAACnO,EAAOuG,GAAR,OACrB,cAAC6L,GAAA,EAAD,CAAmBtK,QAAS,YAXlB,SAACvB,GAEjBpF,EAAeoF,GAS0B2N,CAAU3N,GAAQyN,KAAgBvM,MAAO,CAACgF,MAAO,OAAQC,OAAQ,OAAQpB,gBAAiBtL,EAAO0N,OAAQ,SAAhInH,WAcrB,OATCI,qBAAU,WAEJlH,GAlCJyF,EAAQ0D,KAAK,OAuCZ,IAGH,eAACT,EAAA,EAAD,CAAetE,MAAOvC,EAAtB,UACC,cAAC+N,GAAA,EAAD,IACC4E,EACD,8BACC,cAAC9M,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG7D,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAA7D,SACC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAf,SACA,cAAC6K,GAAA,EAAD,CAAOgB,UAAW,EAAG3L,MAAOrG,EAAW,CAACiR,UAAW,OAAQC,SAAU,OAAQhH,gBAAiB,WAAa,CAAC+G,UAAW,OAAQC,SAAU,QAAzI,SACE,eAACC,GAAA,EAAD,WACC,cAAC3B,GAAA,EAAD,CAAU9I,QAASiM,EAAnB,SACC,eAAC5M,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,aAAaC,WAAW,SAA5D,UACC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIE,MAAO,CAAC6H,YAAa,QAAxC,SACC,cAACzG,EAAA,EAAD,UAAatD,EAAE,mBAEhB,cAAC4B,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC+H,UAAW,OAArC,SACC,cAAC2E,GAAA,EAAD,CACCC,QAAShT,EACT6I,SAAU8J,EACVxP,MAAM,mBAKV,cAACqL,GAAA,EAAD,IACA,cAACgB,GAAA,EAAD,CAAU9I,QArDQ,WACtBgM,GAAc,IAoDV,SACC,eAAC3M,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAGmD,QAAQ,aAAaC,WAAW,SAA5D,UACC,cAACH,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,GAAIE,MAAO,CAAC6H,YAAa,QAAxC,SACC,cAACzG,EAAA,EAAD,UAAatD,EAAE,oBAEhB,cAAC4B,EAAA,EAAD,CAAM9G,MAAI,EAACkH,GAAI,EAAGE,MAAO,CAAC+H,UAAW,OAArC,SACA,cAAChH,EAAA,EAAD,CAAYf,MAAO,CAAClD,MAAM,GAAD,OAAKtD,EAAiBC,KAA/C,SACC,cAAC,KAAD,aAKH,cAAC0O,GAAA,EAAD,mB,kBC1COyE,OArDf,WAEE,IAAMnP,EAAUoP,eAFH,EAIMhP,cAAZC,EAJM,EAINA,EAAGjH,EAJG,EAIHA,KAUV,OAJAqI,qBAAU,WACRrG,OAAOiU,iBAAiB,YAAY,SAACvM,GAJrC9C,EAAQsP,GAAG,QAKX,IAGE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,eAAC,KAAD,CAAetP,QAASA,EAASuP,SAAUC,sCAA3C,UAGE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,OAAQ,SAACtV,GAAD,OAAW,cAAC,GAAD,eAAWA,OACpD,cAAC,IAAD,CAAOqV,KAAK,cAAcC,OAAQ,SAACtV,GAAD,OAAW,cAAC,GAAD,eAAUA,OACvD,cAAC,IAAD,CAAOqV,KAAK,sBAAsBC,OAAQ,SAACtV,GAAD,OAAW,cAAC,GAAD,eAAWA,OAChE,cAAC,IAAD,CAAOqV,KAAK,yBAAyBC,OAAQ,SAACtV,GAAD,OAAW,cAAC,GAAD,eAASA,OACjE,cAAC,IAAD,CAAOqV,KAAK,WAAWC,OAAQ,SAACtV,GAAD,OAAW,cAAC,GAAD,eAAaA,UAEzD,cAAC4H,EAAA,EAAD,CAAMC,WAAS,EAAClD,QAAS,EAAG6I,UAAU,SAAS1F,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACuF,UAAW,OAAvG,SACE,cAAC7F,EAAA,EAAD,CAAMC,WAAS,EAAC/G,MAAI,EAACgH,QAAQ,SAASC,WAAW,SAASG,MAAO,CAACwF,SAAU,QAASC,WAAY,MAAOC,cAAe,MAAOO,OAAQ,WAAtI,SACE,cAACK,EAAA,EAAD,CAAalG,QAAQ,OAAOtD,MAAM,UAAlC,SACGyJ,OAAOC,KAAK3P,EAAK4P,MAAMnL,MAAMoL,KAAI,SAACvN,GAAD,OAChC,cAAC+G,EAAA,EAAD,CAEEF,MAAO,CAAC2G,SAAU,QAClBtG,QAAS,kBAAMxJ,EAAK+P,eAAezN,IAHrC,SAKG2E,EAAE,QAAU3E,IAJRA,wBCjDXkU,QACW,cAA7BxU,OAAOyU,SAASC,UAEe,UAA7B1U,OAAOyU,SAASC,UAEhB1U,OAAOyU,SAASC,SAAS9C,MACvB,2DCVN+C,IAASJ,OACP,cAAC,IAAMK,SAAP,UACE,cAAC,GAAD,MAEFzL,SAAS0L,eAAe,SDuHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAlI,GACLjL,QAAQiL,MAAMA,EAAMmI,c","file":"static/js/main.e7e4f1df.chunk.js","sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\n// the translations\r\n// (tip move them in a JSON file and import them)\r\nconst resources = {\r\n  en: {\r\n    translation : {\r\n      \"test\" : \"test 1\",\r\n      \"lang\" : {\r\n        \"en\" : \"English\",\r\n        \"zh\" : \"中文\",\r\n        \"in\" : \"bahasa Indonesia\",\r\n      },\r\n      \"login\" : {\r\n        \"Login\" : \"Login\",\r\n        \"Register\" : \"Register\",\r\n        \"Confirm\" : \"Confirm\",\r\n        \"Email\" : \"Email\",\r\n        \"User Name\" : \"User Name\",\r\n        \"Password\" : \"Password\"\r\n      },\r\n      \"daily\": {\r\n        \"total\": 'Daily Total: ',\r\n        \"add\": 'Add Item',\r\n        \"save\": \"Save\",\r\n        \"item\": \"Item\",\r\n        \"price\": \"Price\",\r\n        \"new\": \"New Item \"\r\n      },\r\n      \"monthly\": {\r\n        'total': 'Monthly Total: '\r\n      },\r\n      \"annual\": {\r\n        'total': 'Annual Total: '\r\n      },\r\n      \"others\": {\r\n        'total': 'Total',\r\n        'dark': 'Dark Mode',\r\n        'color': 'Color Theme'\r\n      },\r\n      \"appBar\": {\r\n        'Day' : 'Day',\r\n        'Month' : 'Month',\r\n        'Year' : 'Year',\r\n        'Setting' : 'Setting',\r\n        'Logout' : 'Logout',\r\n        'change' : 'Changes have been detected. Please save changes first.',\r\n        'overwrite' : 'Are you sure to overwrite all Expenditure records?',\r\n        'record' : 'Record'\r\n      }\r\n    }\r\n  },\r\n  zh: {\r\n    translation : {\r\n      \"test\" : \"測試 1\",\r\n      \"lang\" : {\r\n        \"en\" : \"English\",\r\n        \"zh\" : \"中文\",\r\n        \"in\" : \"bahasa Indonesia\",\r\n      },\r\n      \"login\" : {\r\n        \"Login\" : \"登入\",\r\n        \"Register\" : \"注冊\",\r\n        \"Confirm\" : \"確認\",\r\n        \"Email\" : \"電郵\",\r\n        \"User Name\" : \"用戶名稱\",\r\n        \"Password\" : \"密碼\"\r\n      },\r\n      \"daily\": {\r\n        \"total\": '每日總計: ',\r\n        \"add\": '新增項目',\r\n        \"save\": \"保存\",\r\n        \"item\": \"項目\",\r\n        \"price\": \"價格\",\r\n        \"new\": \"新項目 \"\r\n      },\r\n      \"monthly\": {\r\n        'total': '每月總計: '\r\n      },\r\n      \"annual\": {\r\n        'total': '年度總計: '\r\n      },\r\n      \"others\": {\r\n        'total': '總計',\r\n        'dark': '夜晚模式',\r\n        'color': '顏色主題'\r\n      },\r\n      \"appBar\": {\r\n        'Day' : '日期模式',\r\n        'Month' : '月份模式',\r\n        'Year' : '年份模式',\r\n        'Setting' : '設定',\r\n        'Logout' : '登出',\r\n        'change' : '已檢測到更改，請先保存更改。',\r\n        'overwrite' : '您確定要覆蓋所有支出記錄嗎？',\r\n        'record' : '記錄'\r\n      }\r\n    }\r\n  },\r\n  // in: {\r\n  //   translation : {\r\n  //     \"test\" : \"uji 1\",\r\n  //     \"lang\" : {\r\n  //       \"en\" : \"English\",\r\n  //       \"zh\" : \"中文\",\r\n  //       \"in\" : \"bahasa Indonesia\",\r\n  //     },\r\n  //     \"login\" : {\r\n  //       \"Login\" : \"Gabung\",\r\n  //       \"Register\" : \"Daftar\",\r\n  //       \"Confirm\" : \"Konfirmasi\",\r\n  //       \"Email\" : \"Email\",\r\n  //       \"User Name\" : \"Nama pengguna\",\r\n  //       \"Password\" : \"Password\"\r\n  //     },\r\n  //     \"appBar\": {\r\n  //       'Day' : 'Hari',\r\n  //       'Month' : 'Bulan',\r\n  //       'Year' : 'Tahun',\r\n  //       'Setting' : 'Pengaturan',\r\n  //       'Logout' : 'Keluar'\r\n  //     }\r\n  //   }\r\n  // }\r\n};\r\n\r\ni18n\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    lng: \"zh\",\r\n    supportedLngs: ['en' ,'zh'],\r\n    load: 'languageOnly',\r\n\r\n    keySeparator: '.', // we do not use keys in form messages.welcome\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\n  export default i18n;","import React, {createContext, useState} from 'react';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthProvider = (props) => {\r\n\r\n\tconst [loggedin, setLoggedIn] = useState(false);\r\n\r\n\tconst [user_id, setUserId] = useState('');\r\n\tconst [loginToken, setLoginToken] = useState('');\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default AuthProvider;","import React, { useState, useEffect } from \"react\";\r\n\r\nconst useLocalStorage = (key, defaultVal) => {\r\n\r\n\tconst [localStorage, setLocalStorage] = useState(\r\n\t\t() => {\r\n\t\t\tconst item = window.localStorage.getItem(key)\r\n\t\t\treturn item ? JSON.parse(item) : defaultVal;\r\n\t\t}\r\n\t)\r\n\r\n\tconst updateLocalStorage = (val) => {\r\n\t\tsetLocalStorage(val)\r\n\t\twindow.localStorage.setItem(key, JSON.stringify(val));\r\n\t}\r\n\r\n\treturn [localStorage, updateLocalStorage]\r\n}\r\n\r\nexport default useLocalStorage;","import React, {createContext, useEffect, useState} from 'react';\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nimport useLocalStorage from '../utils/useLocalStorage.js'\r\n\r\nexport const StyleContext = createContext();\r\n\r\nconst StyleProvider = (props) => {\r\n\r\n\tconst colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF0066', '#E30052', '#C6003D', '#AA0029']]\r\n\tconst appBarTitleColor = ['#3f50b5', '#f50057']\r\n\tconst colorError = \"#f44336\"\r\n\r\n\t// const [pickedStyle, setPickedStyle] = useState(0)\r\n\t// const [darkMode, setDarkMode] = useState(false)\r\n\r\n\tconst [pickedStyle, setPickedStyle] = useLocalStorage('pickedStyle', 0)\r\n\tconst [darkMode, setDarkMode] = useLocalStorage('darkMode', false)\r\n\r\n\tconst muiTheme = createMuiTheme({\r\n\t\tpalette: {\r\n\t\t  type: darkMode ? 'dark' : 'light',\r\n\t\t  primary: {\r\n\t\t\t  main: appBarTitleColor[pickedStyle]\r\n\t\t  },\r\n\t\t},\r\n\t})\r\n\r\n\t// const [muiTheme, setMuiTheme] = useState(createMuiTheme({\r\n\t// \tpalette: {\r\n\t// \t  type: 'light',\r\n\t// \t  primary: {\r\n\t// \t\t  main: appBarTitleColor[0]\r\n\t// \t  },\r\n\t// \t},\r\n\t// }));\r\n\r\n\t// useEffect(() => {\r\n\t// \tconsole.log(darkMode)\r\n\t// \tconsole.log(pickedStyle)\r\n\t// \tsetMuiTheme(createMuiTheme({\r\n\t// \t\tpalette: {\r\n\t// \t\t  type: darkMode ? 'dark' : 'light',\r\n\t// \t\t  primary: {\r\n\t// \t\t\t  main: appBarTitleColor[pickedStyle]\r\n\t// \t\t  },\r\n\t// \t\t},\r\n\t// \t}));\r\n\r\n\t// }, [darkMode, pickedStyle])\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<StyleContext.Provider value={{\r\n\t\t\tcolorSet,\r\n\t\t\tappBarTitleColor,\r\n\t\t\tcolorError,\r\n\t\t\tpickedStyle,\r\n\t\t\tsetPickedStyle,\r\n\t\t\tdarkMode,\r\n\t\t\tsetDarkMode,\r\n\t\t\tmuiTheme\r\n\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</StyleContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default StyleProvider;","import React, {createContext, useState} from 'react';\r\n\r\nexport const DateContext = createContext();\r\n\r\nconst DateProvider = (props) => {\r\n\r\n\tconst [day, setDay] = useState(-1);\r\n\tconst [month, setMonth] = useState(-1);\r\n\tconst [year, setYear] = useState(-1);\r\n\r\n\tconst changeDate = (day, month, year) => {\r\n\t\tsetDay(day)\r\n\t\tsetMonth(month)\r\n\t\tsetYear(year)\r\n\t\tconsole.log(day+'/'+month+'/'+year)\r\n\t}\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<DateContext.Provider value={{day,\r\n\t\t\tmonth,\r\n\t\t\tyear,\r\n\t\t\tchangeDate: (day, month, year) => { changeDate(day, month, year) }}\r\n\t\t}>\r\n\t\t\t{props.children}\r\n\t\t</DateContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default DateProvider;","import React, {createContext, useState} from 'react';\r\nimport useLocalStorage from '../utils/useLocalStorage.js'\r\n\r\nexport const DataStoreContext = createContext();\r\n\r\nconst DataStoreProvider = (props) => {\r\n\r\n\tconst [lastUpdate, setLastUpdate] = useState(null);\r\n\tconst [edited, makeChange] = useState(false);\r\n\r\n\tconst [data, setData] = useLocalStorage('data', null);\r\n\tconst [data_copy, setDataCopy] = useState(null);\r\n\r\n\treturn (\r\n\t\t// <AuthContext.Provider value={{loggedin, user_id, loginToken, setLoggedIn, setUserId, setLoginToken}}>\r\n\t\t<DataStoreContext.Provider value={{\r\n\t\t\tlastUpdate, edited, data, data_copy,\r\n\t\t\tsetLastUpdate, makeChange, setData, setDataCopy\r\n\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</DataStoreContext.Provider>\r\n\t);\r\n}\r\n \r\nexport default DataStoreProvider;","\r\nconst DateUtils = {\r\n\tweekdays : ['Sun', 'Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat'],\r\n\tmonths : ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n\t\r\n\tisLeap : (year) => {\r\n\t\tif (year % 400 === 0)\r\n\t\t\treturn 1\r\n\t\tif (year % 100 === 0)\r\n\t\t\treturn 0\r\n\t\tif (year % 4 === 0)\r\n\t\t\treturn 1\r\n\t\telse\r\n\t\t\treturn 0\r\n\t},\r\n\t\r\n\tdaysInMonth : (month, year) => {\r\n\t\treturn (month === 2) ? (28 + DateUtils.isLeap(year)) : 31 - (month - 1) % 7 % 2;\r\n\t},\r\n\t\r\n\t// https://stackoverflow.com/questions/17964170/get-the-weekday-from-a-date-object-or-date-string-using-javascript\r\n\tgetWeekDay : (day, month, year) => {\r\n\t\tvar dow = new Date(year + '-' + month + '-' + day).getDay();\r\n\t\t// console.log(dow);\r\n\t\treturn dow;\r\n\t}\r\n\r\n}\r\n\r\nexport default DateUtils;","import React, { useEffect, useState, useContext, useRef } from \"react\";\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport DateUtils from './DateUtils.js'\r\n\r\nimport { makeStyles, createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport DownlaodIcon from '@material-ui/icons/GetApp';\r\nimport UploadIcon from '@material-ui/icons/Publish';\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport LeftIcon from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport RightIcon from \"@material-ui/icons/KeyboardArrowRight\";\r\n\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// import { renderToString } from \"react-dom/server\";\r\n// import jsPDF from \"jspdf\";\r\n// import 'jspdf-autotable'\r\n\r\n// import PDFGenerator from '../utils/PDFGenerator.js'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  saveButton: {\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  },\r\n  boxContainer: {\r\n    color: 'white',textTransform: 'none',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.appBar + 1,\r\n    color: '#fff',\r\n  },\r\n  frontdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n}));\r\n\r\nconst CalenAppBar = (props) => {\r\n\r\n  const fileUploadRef = useRef();\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n\r\n  const {colorSet, appBarTitleColor, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const classes = useStyles(muiTheme);\r\n\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const [openWarning, setOpenWarning] = useState(false);\r\n  const [openWarnOverWrite, setOpenWarnOverWrite] = useState(false);\r\n\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n\r\n  // const [day, setDay] = useState(new Date().getDate());\r\n  // const [month, setMonth] = useState(new Date().getMonth() + 1);\r\n  // const [year, setYear] = useState(new Date().getFullYear());\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [currentMenuElement, setCurrentMenuElement] = useState(0);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  const menuElements = [t('appBar.Day'), t('appBar.Month'), t('appBar.Year'), t('appBar.Setting'), t('appBar.Logout'), '']\r\n\r\n  var menubgImgStyle;\r\n\r\n  if(smUp){\r\n    menubgImgStyle = 'radial-gradient(circle at ' + (currentMenuElement + 0.5) / menuElements.length * 100 + '% 50%, ' + colorSet[pickedStyle][0] + ', ' + colorSet[pickedStyle][1] + ', ' + colorSet[pickedStyle][2] + ', ' + colorSet[pickedStyle][3] + ' 20%)'\r\n  }\r\n  else{\r\n    menubgImgStyle = 'radial-gradient(circle at 50% ' + (currentMenuElement + 0.5) / (menuElements.length - 1) * 100 + '%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)'\r\n  }\r\n\r\n  // const isLeap = (year) => {\r\n  //   if (year % 400 === 0)\r\n  //       return 1\r\n  //   if (year % 100 === 0)\r\n  //       return 0\r\n  //   if (year % 4 === 0)\r\n  //       return 1\r\n  //   else\r\n  //       return 0\r\n  // }\r\n\r\n  const toPast = () => {\r\n\r\n    if(edited){\r\n      setOpenWarning(true);\r\n      return;\r\n    }\r\n\r\n    if(month < 0){\r\n      if(year > new Date().getFullYear() - 5){\r\n        changeDate(day, month, year - 1)\r\n        history.push('/year/' + (year - 1));\r\n      }\r\n\r\n    }\r\n    else{\r\n      if(day < 0){\r\n        if(month > 1){\r\n          changeDate(day, month - 1, year)\r\n          history.push('/month/' +(month - 1)+'/'+year);\r\n        }\r\n        else{\r\n          if(year > new Date().getFullYear() - 5){\r\n            changeDate(day, 12, year - 1)\r\n            history.push('/month/' +12+'/'+(year - 1));\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        if(day > 1){\r\n          changeDate(day - 1, month, year)\r\n          history.push('/day/' + (day - 1)+'/'+month+'/'+year);\r\n        }\r\n        else{\r\n          if(month > 1){\r\n            changeDate(31, month - 1, year)\r\n            history.push('/day/' + 31+'/'+(month - 1)+'/'+year);\r\n          }\r\n          else{\r\n            if(year > new Date().getFullYear() - 5){\r\n              changeDate(31, 12, year - 1)\r\n              history.push('/day/' + 31+'/'+12+'/'+(year - 1));\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const toFuture = () => {\r\n\r\n    if(edited){\r\n      setOpenWarning(true);\r\n      return;\r\n    }\r\n\r\n    // console.log(smUp)\r\n\r\n    if(month < 0){\r\n      if(year < new Date().getFullYear() + 5){\r\n        changeDate(day, month, year + 1)\r\n        history.push('/year/' + (year + 1));\r\n      }\r\n\r\n    }\r\n    else{\r\n      if(day < 0){\r\n        if(month < 12){\r\n          changeDate(day, month + 1, year)\r\n          history.push('/month/' +(month + 1)+'/'+year);\r\n        }\r\n        else{\r\n          if(year < new Date().getFullYear() + 5){\r\n            changeDate(day, 1, year + 1)\r\n            history.push('/month/' +1+'/'+(year + 1));\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        // var daysInMonth = (month === 2) ? (28 + isLeap(year)) : 31 - (month - 1) % 7 % 2;\r\n        if(day < DateUtils.daysInMonth(month, year)){\r\n        // if(day < daysInMonth){\r\n          changeDate(day + 1, month, year)\r\n          history.push('/day/' + (day + 1)+'/'+month+'/'+year);\r\n        }\r\n        else{\r\n          if(month < 12){\r\n            changeDate(day, month + 1, year)\r\n            history.push('/day/' +1+'/'+(month + 1)+'/'+year);\r\n          }\r\n          else{\r\n            if(year < new Date().getFullYear() + 5){\r\n              changeDate(day, month, year + 1)\r\n              history.push('/day/' +1+'/'+1+'/'+(year + 1));\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  const setMenuItem = (index, action) => {\r\n    if(currentMenuElement === index)\r\n      return;\r\n    setCurrentMenuElement(index)\r\n    action()\r\n  }\r\n\r\n  const exportResult = () => {\r\n\r\n    if(edited){\r\n      setOpenWarning(true);\r\n      return;\r\n    }    \r\n\r\n    console.log(data)\r\n\r\n    var fileName = t('appBar.record')\r\n      + ' ' + (new Date().getFullYear())\r\n      + '/' + (new Date().getMonth() + 1).toString().padStart(2, \"0\")\r\n      + '/' + (new Date().getDate()).toString().padStart(2, \"0\")\r\n      + '.json'\r\n\r\n\r\n    const blob = new Blob([JSON.stringify(data)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    // Create a new anchor element\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = fileName || 'download';\r\n    a.click();\r\n    a.remove();\r\n\r\n  }\r\n\r\n  const overWriteData = (e) => {\r\n    if(!e.target.files)\r\n      return;\r\n\r\n    const fileReader = new FileReader();\r\n    fileReader.readAsText(e.target.files[0], \"UTF-8\");\r\n    fileReader.onload = e => {\r\n      let d = JSON.parse(e.target.result);\r\n      setData(d)\r\n    };    \r\n    \r\n    e.target.value = null\r\n  }\r\n\r\n  const closeWarning = () => {\r\n    setOpenWarning(false)\r\n  }\r\n\r\n  const closeWarnOverWrite = () => {\r\n    setOpenWarnOverWrite(false)\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    setOpenMenu(false)\r\n    setMenuItem(month < 0 ? 2 : (day < 0 ? 1 : 0) , () => {})\r\n\r\n  }, [day, month, year])\r\n\r\n  var warnOnChangeDialog = <Dialog open={openWarning} onClose={closeWarning}>\r\n                            <DialogTitle>\r\n                              {t('appBar.change')}\r\n                            </DialogTitle>\r\n                            <DialogContent>\r\n                              <Grid container spacing={0} justify=\"center\" alignItems=\"center\">\r\n                                <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                  <Button color='primary' fullWidth style={{textTransform: 'none'}} variant=\"outlined\" onClick={closeWarning}>Ok</Button>\r\n                                </Grid>\r\n                              </Grid>\r\n                            </DialogContent>\r\n                          </Dialog>\r\n\r\n  var warnOverWriteDialog = <Dialog open={openWarnOverWrite} onClose={closeWarnOverWrite}>\r\n                              <DialogTitle>\r\n                                {t('appBar.overwrite')}\r\n                              </DialogTitle>\r\n                              <DialogContent>\r\n                                <Grid container spacing={0} justify=\"center\" alignItems=\"center\">\r\n                                  <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                    <Button color='primary' fullWidth style={{textTransform: 'none'}} variant=\"contained\" onClick={(e) => {fileUploadRef.current.click();closeWarnOverWrite()}}>Yes</Button>\r\n                                  </Grid>\r\n                                  <Grid item container spacing={0} justify=\"center\" alignItems=\"center\" xs={12} sm={3} style={{padding: '5px 30px'}}>\r\n                                    <Button color='primary' fullWidth style={{textTransform: 'none'}} variant=\"outlined\" onClick={closeWarnOverWrite}>Cancel</Button>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </DialogContent>\r\n                            </Dialog>\r\n\r\n  var showDateBar;\r\n\r\n  var showBar;\r\n\r\n  if(loggedin){\r\n    showBar = <ThemeProvider theme={muiTheme}>\r\n                {warnOnChangeDialog}\r\n                {warnOverWriteDialog}\r\n                <div className={classes.root}>\r\n                  <AppBar className={classes.frontdrop} position=\"relative\" color='primary'>\r\n                  {/* <AppBar className={classes.frontdrop} position=\"relative\" style={{backgroundColor: `${appBarTitleColor[pickedStyle]}`}}> */}\r\n                    <Toolbar>\r\n                      <IconButton\r\n                        edge=\"start\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={(e) => setOpenMenu(!openMenu)}\r\n                      >\r\n                        <MenuIcon/>\r\n                      </IconButton>\r\n                      <Grid container spacing={1} justify=\"center\" alignItems=\"center\">\r\n                        <IconButton color=\"inherit\" onClick={toPast}>\r\n                          <LeftIcon />\r\n                        </IconButton>\r\n\r\n                        <Typography variant=\"h6\">\r\n                          {day > 0 && month > 0\r\n                            ? day.toString().padStart(2, \"0\") +\r\n                              \"/\" +\r\n                              month.toString().padStart(2, \"0\") +\r\n                              \"/\" +\r\n                              year\r\n                            : month > 0\r\n                            ? month.toString().padStart(2, \"0\") + \"/\" + year\r\n                            : year}\r\n                        </Typography>\r\n\r\n                        <IconButton color=\"inherit\" onClick={toFuture}>\r\n                          <RightIcon />\r\n                        </IconButton>\r\n                      </Grid>\r\n                      <IconButton\r\n                        edge=\"end\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={(e) => exportResult()}\r\n                      >\r\n                        <DownlaodIcon />\r\n                      </IconButton>\r\n                      <IconButton\r\n                        edge=\"end\"\r\n                        color=\"inherit\"\r\n                        aria-label=\"menu\"\r\n                        onClick={(e) => setOpenWarnOverWrite(true)}\r\n                      >\r\n                        <input\r\n                          ref={fileUploadRef}\r\n                          type=\"file\"\r\n                          accept=\"application/json\"\r\n                          onChange={(e) => overWriteData(e)}                          \r\n                          style={{display: 'none'}}\r\n                        />                        \r\n                        <UploadIcon />\r\n                      </IconButton>\r\n                    </Toolbar>\r\n                  </AppBar>\r\n                  <Collapse in={openMenu} timeout=\"auto\" unmountOnExit>\r\n                    <Grid container spacing={0} justify=\"center\" alignItems=\"center\" flex={1}>\r\n                      <Grid container spacing={0} justify=\"center\" alignItems=\"center\" flex={1} style={{marginLeft: '5px', marginRight: '5px', backgroundImage: `${menubgImgStyle}`}}>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(0 , () => {\r\n                                changeDate(day === -1 ? 1 : day, month === -1 ? 1 : month, year)\r\n                                history.push('/day/'+ (day === -1 ? 1 : day) +'/'+ (month === -1 ? 1 : month) +'/'+ year);\r\n                              })               \r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[0]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(1, () => {\r\n                                changeDate(-1, month === -1 ? 1 : month, year)\r\n                                history.push('/month/'+ (month === -1 ? 1 : month) +'/'+ year);   \r\n                              })             \r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[1]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(2, () => {\r\n                                changeDate(-1, -1, year)\r\n                                history.push('/year/' + year);  \r\n                              })\r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[2]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                            <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setMenuItem(3, () => {\r\n                                history.push('/setting')\r\n                              })\r\n                              setOpenMenu(!openMenu)\r\n                            }}>{menuElements[3]}</Button>\r\n                        </Grid>\r\n                        {/* <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n                              if(edited){\r\n                                setOpenWarning(true);\r\n                                return;\r\n                              }\r\n                              \r\n                              setOpenMenu(!openMenu)\r\n                              setMenuItem(4, () => {\r\n                                // props.logout()\r\n                                setUserId('');\r\n                                setLoginToken('');\r\n                                // setData(null)\r\n                                setLoggedIn(false);\r\n                                history.push('/')\r\n                              })\r\n                            }}>{menuElements[4]}</Button>\r\n                        </Grid>\r\n                        <Grid className={classes.frontdrop} item xs={12} sm={12/menuElements.length}>\r\n                          <Typography> </Typography>\r\n                        </Grid> */}\r\n                      </Grid>                \r\n                    </Grid>                \r\n                  </Collapse>\r\n                  <Backdrop className={classes.backdrop} open={openMenu} onClick={(e) => setOpenMenu(false)} />\r\n                </div>\r\n              </ThemeProvider>\r\n  }\r\n  else\r\n    showBar = null\r\n\r\n\r\n  return (\r\n    <>\r\n      {showBar}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CalenAppBar;","import React, { useEffect, useState, useContext }  from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nimport LoginIcon from '@material-ui/icons/AccountBox';\r\nimport RegIcon from '@material-ui/icons/Create';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// import link from '../utils/restful'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    ...theme.typography.button,\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nfunction Login(props) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n\tconst {day, month, year, changeDate} = useContext(DateContext);\r\n\tconst {colorSet, pickedStyle} = useContext(StyleContext);\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\tconst [username, setUsername] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [errorLogin, setErrorLogin] = useState('')\r\n\r\n\t// const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n\r\n\tvar loginImgStyle = 'linear-gradient(rgba(0,41,132,0.4), rgba(0,61,173,0.65), rgba(0,82,214,0.7), rgba(0,102,255,0.9))';\r\n\tvar menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[0][0] + ' 5%, ' + colorSet[0][1] + ' 15%, ' + colorSet[0][2] + ' 25%, ' + colorSet[0][3] + ' 50%)';\r\n\r\n\tconst [isRegister, setIsRegister] = useState(false);\r\n\r\n\tvar menubgImgStyle2 = 'radial-gradient(circle at ' + (isRegister ? 1.5 : 0.5) / 2 * 100 + '% 50%, ' + colorSet[0][0] + ', ' + colorSet[0][1] + ', ' + colorSet[0][2] + ', ' + colorSet[0][3] + ' 20%)'\r\n\t\r\n\tconst history = useHistory();\r\n\r\n\tconst toDay = () => {\r\n\t\tchangeDate(new Date().getDate(), new Date().getMonth() + 1, new Date().getFullYear())\r\n\t\thistory.push('/day/' + (new Date().getDate()) + '/' + (new Date().getMonth() + 1) + '/' + (new Date().getFullYear()));\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\r\n\t\t// console.log(Object.keys(i18n.store.data))\r\n\r\n\t\t// if(loggedin){\r\n\t\t// \tconsole.log(changeDate);\r\n\t\t\t// changeDate(new Date().getDate(), new Date().getMonth() + 1, new Date().getFullYear())\r\n\t\t\tsetLoggedIn(true)\r\n\t\t\ttoDay();\r\n\t\t// }\r\n\t}, [])\r\n\r\n\tconst register = () => {\r\n\t\tif(username.trim().length < 1 || email.trim().length < 1 || password.trim().length < 1){\r\n\t\t\tsetErrorLogin('User Name/Email/password cannot be empty')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\tuser_name: username,\r\n\t\t\temail: email,\r\n\t\t\tpassword: password\r\n\t\t}\r\n\r\n\t\t// Promise.resolve(fetch(link + 'api/register',{\r\n\t\t// \tmethod: 'POST',\r\n\t\t// \tbody: JSON.stringify(data),\r\n\t\t// \theaders: {\r\n\t\t// \t\t'Content-Type' : 'application/json'\r\n\t\t// \t}\r\n\t\t// })).then((res) => {\r\n\t\t// \tif(res.ok){\r\n\t\t// \t\tsetIsRegister(false);\r\n\t\t// \t}\r\n\t\t// \telse{\r\n\t\t// \t\tconsole.log('404')\r\n\t\t// \t\tsetErrorLogin('Email is already registered. Please try another one')\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// }).catch((err) => {\r\n\t\t// \tconsole.log(err)\r\n\t\t// \tsetErrorLogin('Server error. Please try again later')\r\n\t\t// \treturn;\r\n\t\t// })\r\n\t}\r\n\r\n\tconst login = () => {\r\n\r\n\t\tif(email.trim().length < 1 || password.trim().length < 1){\r\n\t\t\t// local login\r\n\t\t\tchangeDate(day, month, year);\r\n\t\t\t\t\t\r\n\t\t\tsetUserId('');\r\n\t\t\t// setLoginToken(jsonData.token);\r\n\t\t\tsetLoggedIn(true)\r\n\t\t\t// props.login();\r\n\t\t\ttoDay();\r\n\r\n\t\t\t// setErrorLogin('Email/password cannot be empty')\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar data = {\r\n\t\t\temail: email,\r\n\t\t\tpassword: password\r\n\t\t}\r\n\r\n\t\t// Promise.resolve(fetch(link + 'api/login',{\r\n\t\t// \tmethod: 'POST',\r\n\t\t// \tbody: JSON.stringify(data),\r\n\t\t// \theaders: {\r\n\t\t// \t\t'Content-Type' : 'application/json'\r\n\t\t// \t}\r\n\t\t// })).then((res) => {\r\n\t\t// \tif(res.ok){\r\n\t\t// \t\tPromise.resolve(res.json()).then((jsonData) => {\r\n\t\t// \t\t\tchangeDate(day, month, year);\r\n\t\t\t\t\t\r\n\t\t// \t\t\tsetUserId(jsonData.user_id);\r\n\t\t// \t\t\tsetLoginToken(jsonData.token);\r\n\t\t// \t\t\tsetLoggedIn(true)\r\n\t\t// \t\t\t// props.login();\r\n\t\t// \t\t\ttoDay();\r\n\t\t// \t\t}).catch((err) => {\r\n\t\t// \t\t\tconsole.log(err)\r\n\t\t// \t\t\tsetErrorLogin('Server error. Please try again later')\r\n\t\t// \t\t\treturn;\r\n\t\t// \t\t})\r\n\t\t// \t}\r\n\t\t// \telse{\r\n\t\t// \t\tconsole.log('404')\r\n\t\t// \t\tsetErrorLogin('Email/password is invalid')\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// }).catch((err) => {\r\n\t\t// \tconsole.log(err)\r\n\t\t// \tsetErrorLogin('Server error. Please try again later')\r\n\t\t// \treturn;\r\n\t\t// })\r\n\r\n\t\t// props.changeDate(day, month, year)\r\n\t\t// props.login();\r\n\t\t// toDay();\r\n\t}\r\n\r\n\tvar logo = <div style={{position: 'absolute', top: 0, left: 0, width: '100vw', height: '40vh', backgroundImage: 'url(' + 'img/logo.png' +')', backgroundSize: 'contain', backgroundRepeat: 'no-repeat', backgroundPosition: 'center'}} />\r\n\r\n\t// https://stackoverflow.com/questions/55647969/how-to-get-one-elements-to-slide-in-while-the-other-slides-out-using-react-and\r\n\tvar showLogin = <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{marginTop: '45vh'}}>\r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" flex={1} style={{maxWidth: '300px', backgroundImage: `${menubgImgStyle2}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Grid container item xs={6} justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetIsRegister(false)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstartIcon={<LoginIcon/>}\r\n\t\t\t\t\t\t\t\t>{t('login.Login')}</Button>\r\n\t\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t\t<Grid container item xs={6} justify=\"center\" alignItems=\"center\" >\r\n\t\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetIsRegister(true)\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstartIcon={<RegIcon/>}\r\n\t\t\t\t\t\t\t\t>{t('login.Register')}</Button>\r\n\t\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t</Grid>         \r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t{isRegister ?\r\n\t\t\t\t\t\t\t<Fade in={isRegister} mountOnEnter unmountOnExit>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.User Name\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Email\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Password\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Fade>\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{isRegister ? null\r\n\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t<Fade in={!isRegister} mountOnEnter unmountOnExit>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\terror={errorLogin !== ''}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={errorLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Email\")}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setErrorLogin('')}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={t(\"login.Password\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Fade>\r\n\t\t\t\t\t\t}   \r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\tif(isRegister)\r\n\t\t\t\t\t\t\t\t\tregister();\r\n\t\t\t\t\t\t\t\telse\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlogin();\r\n\t\t\t\t\t\t\t}}>{t('login.Confirm')}</Button>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t\t<Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\r\n\t\t\t\t\t\t\t<ButtonGroup variant=\"text\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t{Object.keys(i18n.store.data).map((val) => (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tkey={val}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{fontSize: '12px'}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => i18n.changeLanguage(val)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{t('lang.' + val)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t</Grid>                  \r\n\t\t\t\t\t</Grid>\r\n\r\n\treturn (\r\n\t\t<div style={{position: 'absolute', top: 0, left: 0, width: '100vw', height: '40vh', backgroundImage: `${loginImgStyle}` + ', url(' + 'img/usd-2874026_1280.jpg' +')', backgroundSize: 'cover', backgroundRepeat: 'no-repeat'}} >\r\n\t\t\t{logo}\r\n\t\t\t{showLogin}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;","const deepComparison = (objectA, objectB) => {\r\n\tconst areObjects = isObject(objectA) && isObject(objectB)\r\n\r\n\tif(areObjects){\r\n\t\tconst keyA = Object.keys(objectA);\r\n\t\tconst keyB = Object.keys(objectB);\r\n\t\r\n\t\tif(keyA.length !== keyB.length)\r\n\t\t\treturn false;\r\n\r\n\t\tif(keyA.length === 0)\r\n\t\t\treturn true;\r\n\r\n\t\tvar allVaild = true;\r\n\r\n\t\tfor(const key of keyA){\r\n\t\t\tallVaild = deepComparison(objectA[key], objectB[key]) && allVaild;\r\n\t\t}\r\n\r\n\t\treturn allVaild;\r\n\t}\r\n\telse{\r\n\t\treturn objectA === objectB;\r\n\t}\r\n\t\r\n}\r\n\r\nconst isObject = (object) => {\r\n\treturn object != undefined && object != null && typeof object === 'object';\r\n}\r\n\r\nexport default deepComparison;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport { Divider, Grid, TextField, Button } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst OuterLayout = ({muiTheme, viewVariant, total, showItems, addItem, edited, saveChange, menubgImgStyle}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n\t\t\t\t<Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n\t\t\t\t\t<Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n\t\t\t\t\t<Typography>{t(`${viewVariant.toLowerCase()}.total`)}</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\t\tvalue={total}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Divider/>\r\n\t\t\t\t<Grid item>\r\n\t\t\t\t<Typography paragraph/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t{viewVariant === 'Daily' ?\r\n\t\t\t\t\t\t<Grid item xs={12} sm={10}>          \r\n\t\t\t\t\t\t\t{showItems}\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tshowItems\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{(addItem === null || addItem === undefined) ?\r\n\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t<Typography paragraph/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n\t\t\t\t\t\t\t<div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n\t\t\t\t\t\t\t\taddItem()\r\n\t\t\t\t\t\t\t}}>{t('daily.add')}</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>     \r\n\t\t\t\t\t}         \r\n\t\t\t\t</Grid>     \r\n\t\t\t\t{(saveChange === null || saveChange === undefined) ?\r\n\t\t\t\t\tnull\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t\t<Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n\t\t\t\t\t\t\t<div style={edited ? {backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'} : {backgroundColor: '#AAAAAA', paddingTop: '4px', paddingBottom: '4px'}}>\r\n\t\t\t\t\t\t\t<Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" disabled={!edited} onClick={() => {\r\n\t\t\t\t\t\t\t\tsaveChange()\r\n\t\t\t\t\t\t\t}}>{t('daily.save')}</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>     \r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t} \r\n\t\t\t</div>\r\n\t\t\t</ThemeProvider>\r\n\t);\r\n\r\n}\r\n\r\nOuterLayout.protoTypes = {\r\n\tmuiTheme: PropTypes.object.isRequired,\r\n\tviewVariant: PropTypes.string.isRequired,\r\n\ttotal: PropTypes.number.isRequired,\r\n\tshowItems: PropTypes.element.isRequired,\r\n\taddItem: PropTypes.func,\r\n\tedited: PropTypes.bool,\r\n\tsaveChange: PropTypes.func,\r\n\tmenubgImgStyle: PropTypes.string,\r\n}\r\n\r\nexport default OuterLayout;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\n\r\nconst DayListItem = ({index, val, items, darkMode, appBarTitleColor, pickedStyle, renameItem, repriceItem, addItem, removeItem, passfoucs}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t<Grid item xs={6} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('daily.item')}\r\n\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t// }}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('daily.price')}\r\n\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\tvalue={val.price}\r\n\t\t\t\t\tonFocus={(e) => e.target.select()}\r\n\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\tif(index === items.length - 1)\r\n\t\t\t\t\t\t\tif(e.key === 'Enter')\r\n\t\t\t\t\t\t\t\taddItem();\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</Grid>\r\n\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\t// color=\"primary\"\r\n\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tremoveItem(index);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<RemoveIcon/>\r\n\t\t\t\t</IconButton>                            \r\n\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nDayListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tval: PropTypes.object.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trenameItem: PropTypes.func.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\taddItem: PropTypes.func.isRequired,\r\n\tremoveItem: PropTypes.func.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default DayListItem;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport deepComparison from '../utils/deepComparison.js'\r\n\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport DayListItem from '../utils/DayListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\n// import link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Day = (props) => {\r\n  const history = useHistory();\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [itemsInit, setItemsInit] = useState(null);\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  \r\n  const saveChange = () => {\r\n    if(edited){\r\n\r\n      for(var i = 0; i < items.length; i++){\r\n        if(items[i].price === '')\r\n          items[i].price = '0'\r\n      }\r\n\r\n      const newData = {...data};\r\n\r\n      if(items === null || items.length < 1){\r\n\r\n        if(newData !== null){\r\n          if(newData[year] !== undefined){\r\n            if(newData[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n              if(newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] !== undefined)\r\n                delete newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")];\r\n            }\r\n          }\r\n        }\r\n\r\n      }\r\n      else{\r\n        if(newData === null)\r\n          newData = {}\r\n        \r\n        if(newData[year] === undefined)\r\n          newData[year] = {}\r\n        \r\n        if(newData[year][month.toString().padStart(2, \"0\")] === undefined)\r\n          newData[year][month.toString().padStart(2, \"0\")] = {}\r\n        \r\n        if(newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] === undefined)\r\n          newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] = {}\r\n\r\n        newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items = items;\r\n        newData[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].total = total;\r\n      }\r\n\r\n      setData(newData);\r\n      setItemsInit({...items});\r\n      makeChange(false)\r\n    }\r\n  }\r\n\r\n  const addItem = () => {\r\n    setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n      newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems.push({ name: t('daily.new') + (newItems.length + 1), price: '' });\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n      newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems.splice(index, 1);\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n    setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    console.log(name)\r\n\r\n    const newItems = [...items];\r\n\r\n    if(index !== newItems.length - 1)\r\n      if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n        newItems[newItems.length - 1].price = '0';\r\n\r\n    newItems[index].name = name;\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    if(price !== '' && !/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n      return\r\n\r\n    if(isNaN(price))\r\n      price = 0\r\n\r\n    const newItems = [...items];\r\n\r\n    if(index !== newItems.length - 1)\r\n      if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n        newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].price = Number(price);\r\n    newItems[index].price = price === '' ? '0' : price;\r\n\r\n    console.log(deepComparison(itemsInit, newItems));\r\n    makeChange(!deepComparison(itemsInit, newItems))\r\n\r\n    setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n      return;\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    // test data\r\n\r\n    var items = [\r\n      // { name: 'test1', price: 50 },\r\n      // { name: 'test2', price: 20 },\r\n      // { name: 'test21', price: 40 },\r\n      // { name: 'test25', price: 22 },\r\n      // { name: 'test12', price: 27 },\r\n      // { name: 'test112', price: 20 },\r\n      // { name: 'test n', price: 15 }\r\n    ]\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n          if(data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")] !== undefined)\r\n            items = data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].items;\r\n        }\r\n      }\r\n    }\r\n\r\n    setPassFoucs(false);\r\n\r\n    setItems(items);\r\n    setItemsInit({...items});\r\n    setTotal(items.map(val => val.price * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n\r\n  }, [props.match.params, data])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    showItems = <Paper style={{maxHeight: '47vh', overflow: 'auto'}}>\r\n                      <List style={{padding: '5px 8px'}}>\r\n                        {items.map((val, index) => \r\n                          <div key={index}>\r\n                            {index === 0 ? null : <Divider/>}\r\n                            <DayListItem\r\n                              index={index}\r\n                              val={val}\r\n                              items={items}\r\n                              darkMode={darkMode}\r\n                              appBarTitleColor={appBarTitleColor}\r\n                              pickedStyle={pickedStyle}\r\n                              renameItem={renameItem}\r\n                              repriceItem={repriceItem}\r\n                              addItem={addItem}\r\n                              removeItem={removeItem}\r\n                              passfoucs={passfoucs}\r\n                              />\r\n                            {/* <ListItem style={{padding: '3px'}}>\r\n                              <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n                                <Grid item xs={6} style={{paddingRight: '15px'}}>\r\n                                  <TextField\r\n                                    fullWidth\r\n                                    color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n                                    color='primary'\r\n                                    variant='outlined'\r\n                                    margin='dense'\r\n                                    label='item'\r\n                                    value={val.name}\r\n                                    onChange={(e) => {renameItem(index, e.target.value)}}\r\n                                    // onKeyPress={(e) => {\r\n                                    //   if(index === items.length - 1)\r\n                                    //     if(e.key === 'Enter')\r\n                                    //       changeFocus();\r\n                                    // }}\r\n                                  />\r\n                                </Grid>\r\n                                <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n                                  <TextField\r\n                                    fullWidth\r\n                                    color='primary'\r\n                                    autoFocus={passfoucs}\r\n                                    variant='outlined'\r\n                                    margin='dense'\r\n                                    label='price'\r\n                                    inputProps={{ style: {textAlign: 'end'} }}\r\n                                    value={val.price}\r\n                                    onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                    onKeyPress={(e) => {\r\n                                      if(index === items.length - 1)\r\n                                        if(e.key === 'Enter')\r\n                                          addItem();\r\n                                    }}\r\n                                  />\r\n                                </Grid>\r\n                                <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n                                  <IconButton\r\n                                    // color=\"primary\"\r\n                                    style={{color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                    onClick={() => {\r\n                                      removeItem(index);\r\n                                    }}\r\n                                    >\r\n                                    <RemoveIcon/>\r\n                                  </IconButton>                            \r\n                                </Grid>\r\n                              </Grid>\r\n                            </ListItem> */}\r\n                          </div>\r\n                        )}\r\n                      </List>\r\n                    </Paper>\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Daily total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       <Grid item xs={12} sm={10}>          \r\n    //         {showItems}\r\n    //       </Grid>     \r\n    //       <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               addItem()\r\n    //           }}>Add item</Button>\r\n    //         </div>\r\n    //       </Grid>     \r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Daily'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={addItem}\r\n      edited={edited}\r\n      saveChange={saveChange}\r\n      menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Day;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst MonthListItem = ({index, weekday, items, darkMode, appBarTitleColor, pickedStyle, repriceItem, enableEdit, passfoucs, toDay, containerStyle, textStyle}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\t\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\"\r\n\t\t\t\tstyle={containerStyle}\r\n\t\t\t>\r\n\t\t\t\t<Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t<Grid item xs={6} style={{paddingRight: '50px', textAlign: 'end'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel='item'\r\n\t\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t// color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n\t\t\t\t\t\t//   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n\t\t\t\t\t\t// )}\r\n\t\t\t\t\t\tstyle={textStyle}                                        \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{(index + 1)}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs={6} style={{paddingRight: '30px', textAlign: 'end'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel='item'\r\n\t\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t// color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n\t\t\t\t\t\t//   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n\t\t\t\t\t\t// )}\r\n\t\t\t\t\t\tstyle={textStyle}        \r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{weekday}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t// color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tdisabled={!enableEdit}\r\n\t\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\tlabel={t('others.total')}\r\n\t\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\t\tvalue={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n\t\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t\t\t// if(index === items.length - 1)\r\n\t\t\t\t\t\t\t//   if(e.key === 'Enter')\r\n\t\t\t\t\t\t\t//     addItem();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t// removeItem(index);\r\n\t\t\t\t\t\t\ttoDay(index + 1)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<GotoIcon/>\r\n\t\t\t\t\t</IconButton>                            \r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nMonthListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tweekday: PropTypes.string.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\tenableEdit: PropTypes.bool.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired,\r\n\ttoDay: PropTypes.func.isRequired,\r\n\tcontainerStyle: PropTypes.string.isRequired,\r\n\ttextStyle: PropTypes.string.isRequired\r\n}\r\n\r\nexport default MonthListItem;","\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport DateUtils from '../utils/DateUtils.js'\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport MonthListItem from '../utils/MonthListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\n// import link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Month = (props) => {\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n  \r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, colorError, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n\tconst toDay = (day) => {\r\n\t\tchangeDate(day, month, year)\r\n\t\thistory.push('/day/' + day + '/' + month + '/' + year);\r\n\t}\r\n\r\n  const addItem = () => {\r\n    // setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.push({ name: 'New Item' + (newItems.length + 1), price: '' });\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.splice(index, 1);\r\n\r\n    // setItems(newItems);\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    // console.log(name)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].name = name;\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // if(isNaN(price)){\r\n    //   price = 0\r\n    //   return;\r\n    // }\r\n\r\n    // if(!/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n    //   return;\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // // newItems[index].price = Number(price);\r\n    // newItems[index].price = price === '' ? '0' : price;\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    // setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n      return;\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    var items = {\r\n      // '05': 100,\r\n      // '15': 50,\r\n      // '25': 12,\r\n    }\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year][month.toString().padStart(2, \"0\")] !== undefined){\r\n            for(var day of Object.keys(data[year][month.toString().padStart(2, \"0\")])){\r\n              items[day] = data[year][month.toString().padStart(2, \"0\")][day.toString().padStart(2, \"0\")].total;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    setItems(items)\r\n\r\n    var t = 0;\r\n\r\n    for(var key of Object.keys(items))\r\n      t += parseFloat(items[key]) * 100;\r\n\r\n    setTotal(t / 100)\r\n\r\n  }, [props.match.params, data])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    if(smUp){\r\n\r\n      var offset = DateUtils.getWeekDay(1, month, year);\r\n      var offseted = Array.apply(null, Array(DateUtils.daysInMonth(month,year) + offset));\r\n\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper elevation={0} style={darkMode ? {maxHeight: '60vh', overflow: 'auto', padding: '5px 5px', backgroundColor: '#303030'} : {maxHeight: '60vh', overflow: 'auto', padding: '5px 5px'}}>\r\n                      <div style={{display: 'grid', gridTemplateColumns: 'auto auto auto auto auto auto auto', gridGap: '2px'}}>\r\n                        {DateUtils.weekdays.map((val, index) => (\r\n                          <Grid container spacing={0} justify=\"center\" alignItems=\"center\" key={val} style={{marginBottom: '5px'}}>\r\n                            <Paper\r\n                              style={index === 0 ?\r\n                                (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)', textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)', textAlign: 'center', padding: '5px 5px', color: colorError, width: '100%', maxWidth: '150px'})\r\n                                  : (index === 6 ?\r\n                                    (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)', textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)', textAlign: 'center', padding: '5px 5px', color: appBarTitleColor[0], width: '100%', maxWidth: '150px'})\r\n                                    : { textAlign: 'center', padding: '5px 5px', width: '100%', maxWidth: '150px'}\r\n                                  )\r\n                              }\r\n                            >\r\n                              {val}\r\n                            </Paper>\r\n                          </Grid>\r\n                        ))}\r\n                        {offseted.map((val, index) => \r\n                              <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" key={index}>\r\n                                {index + 1 - offset <= 0 ? null :\r\n                                  <Paper style={\r\n                                    DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ?\r\n                                      (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)', padding: '3px', maxWidth: '150px'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)', padding: '3px', maxWidth: '150px'})\r\n                                      : (DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ?\r\n                                        (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)', padding: '3px', maxWidth: '150px'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)', padding: '3px', maxWidth: '150px'})\r\n                                        : {padding: '3px', maxWidth: '150px'})}>\r\n                                    {index + 1 - offset <= 0 ? null :\r\n                                      <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                                        <Grid item xs={12} container spacing={0} justify=\"space-between\" alignItems=\"center\" style={{padding: '0px 10px'}}>\r\n                                          <Grid item xs={6}>\r\n                                              <Typography\r\n                                                // color={DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ? \"error\" : (\r\n                                                // DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ? \"primary\" : \"inherit\"\r\n                                                // )}\r\n                                                style={darkMode ? {} : (DateUtils.getWeekDay(index + 1 - offset, month, year) === 0 ? {color: colorError} : (\r\n                                                  DateUtils.getWeekDay(index + 1 - offset, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n                                                ))}\r\n                                                >\r\n                                                {(index + 1 - offset)}\r\n                                              </Typography>\r\n                                          </Grid>\r\n                                          <Grid item xs={6} style={{textAlign: 'end'}}>\r\n                                            <IconButton\r\n                                              style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                              size=\"small\"\r\n                                              onClick={() => {\r\n                                                // removeItem(index);\r\n                                                toDay(index + 1 - offset)\r\n                                              }}\r\n                                              >\r\n                                                <GotoIcon/>\r\n                                            </IconButton>                            \r\n                                          </Grid>\r\n                                        </Grid>\r\n                                        <Grid item xs={12} style={{padding: '0px 10px'}}>\r\n                                          <TextField\r\n                                            fullWidth\r\n                                            disabled={!enableEdit}\r\n                                            autoFocus={passfoucs}\r\n                                            variant='outlined'\r\n                                            margin='dense'\r\n                                            label={t('others.total')}\r\n                                            inputProps={{ style: {textAlign: 'end'} }}\r\n                                            value={items[(index + 1 - offset).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1 - offset).toString().padStart(2, \"0\")]}\r\n                                            onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                            onKeyPress={(e) => {\r\n                                              // if(index === items.length - 1)\r\n                                              //   if(e.key === 'Enter')\r\n                                              //     addItem();\r\n                                            }}\r\n                                          />\r\n                                        </Grid>\r\n                                      </Grid>\r\n                                    }\r\n                                  </Paper>\r\n                                }\r\n                              </Grid>\r\n                            )}\r\n                        </div>\r\n                      </Paper>\r\n                    </Grid>\r\n    }\r\n    else{\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper style={{maxHeight: '60vh', overflow: 'auto'}}>\r\n                        <List style={{padding: '5px 8px'}}>\r\n                          {Array.apply(null, Array(DateUtils.daysInMonth(month,year))).map((val, index) => \r\n                            <div key={index}>\r\n                              {index === 0 ? null : <Divider/>}\r\n                              <MonthListItem\r\n                                index={index}\r\n                                weekday={DateUtils.weekdays[DateUtils.getWeekDay(index + 1, month, year)]}\r\n                                items={items}\r\n                                darkMode={darkMode}\r\n                                appBarTitleColor={appBarTitleColor}\r\n                                pickedStyle={pickedStyle}\r\n                                repriceItem={repriceItem}\r\n                                enableEdit={enableEdit}\r\n                                passfoucs={passfoucs}\r\n                                toDay={toDay}\r\n                                containerStyle={\r\n                                  DateUtils.getWeekDay(index + 1, month, year) === 0 ?\r\n                                    (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)'})\r\n                                    : (DateUtils.getWeekDay(index + 1, month, year) === 6 ?\r\n                                      (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)'})\r\n                                      : {})\r\n                                }\r\n                                textStyle={\r\n                                  darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n                                    DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n                                  ))\r\n                                }\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </List>\r\n                      </Paper>\r\n                    </Grid>\r\n                    \r\n      // showItems = <Grid item xs={12}>\r\n      //               <Paper style={{maxHeight: '60vh', overflow: 'auto'}}>\r\n      //                   <List style={{padding: '5px 8px'}}>\r\n      //                     {Array.apply(null, Array(DateUtils.daysInMonth(month,year))).map((val, index) => \r\n      //                       <div key={index}>\r\n      //                         {index === 0 ? null : <Divider/>}\r\n      //                         <ListItem style={{padding: '3px'}}>\r\n      //                         <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\"\r\n      //                           style={\r\n      //                             DateUtils.getWeekDay(index + 1, month, year) === 0 ?\r\n      //                               (darkMode ? {backgroundColor: 'rgba(244, 67, 54, 0.7)'} : {backgroundColor: 'rgba(244, 67, 54, 0.2)'})\r\n      //                               : (DateUtils.getWeekDay(index + 1, month, year) === 6 ?\r\n      //                                 (darkMode ? {backgroundColor: 'rgba(63, 81, 181, 1)'} : {backgroundColor: 'rgba(63, 81, 181, 0.2)'})\r\n      //                                 : {})}\r\n      //                           >\r\n      //                           <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\">\r\n      //                             <Grid item xs={6} style={{paddingRight: '50px', textAlign: 'end'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography\r\n      //                                 // color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n      //                                 //   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n      //                                 // )}\r\n      //                                 style={darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n      //                                   DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n      //                                 ))}                                        \r\n      //                                 >\r\n      //                                 {(index + 1)}\r\n      //                               </Typography>\r\n      //                             </Grid>\r\n      //                             <Grid item xs={6} style={{paddingRight: '30px', textAlign: 'end'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography\r\n      //                                 // color={DateUtils.getWeekDay(index + 1, month, year) === 0 ? \"error\" : (\r\n      //                                 //   DateUtils.getWeekDay(index + 1, month, year) === 6 ? \"primary\" : \"inherit\"\r\n      //                                 // )}\r\n      //                                 style={darkMode ? {} : (DateUtils.getWeekDay(index + 1, month, year) === 0 ? {color: colorError} : (\r\n      //                                   DateUtils.getWeekDay(index + 1, month, year) === 6 ? {color: appBarTitleColor[0]} : {}\r\n      //                                 ))}        \r\n      //                                 >\r\n      //                                 {DateUtils.weekdays[DateUtils.getWeekDay(index + 1, month, year)]}\r\n      //                               </Typography>\r\n      //                             </Grid>\r\n      //                           </Grid>\r\n      //                           <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n      //                             <TextField\r\n      //                               fullWidth\r\n      //                               // color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n      //                               color='primary'\r\n      //                               disabled={!enableEdit}\r\n      //                               autoFocus={passfoucs}\r\n      //                               variant='outlined'\r\n      //                               margin='dense'\r\n      //                               label='total'\r\n      //                               inputProps={{ style: {textAlign: 'end'} }}\r\n      //                               value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n      //                               onChange={(e) => {repriceItem(index, e.target.value)}}\r\n      //                               onKeyPress={(e) => {\r\n      //                                 // if(index === items.length - 1)\r\n      //                                 //   if(e.key === 'Enter')\r\n      //                                 //     addItem();\r\n      //                               }}\r\n      //                             />\r\n      //                           </Grid>\r\n      //                           <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n      //                             <IconButton\r\n      //                               style={{color: `${appBarTitleColor[pickedStyle]}`}}\r\n      //                               onClick={() => {\r\n      //                                 // removeItem(index);\r\n      //                               }}\r\n      //                               >\r\n      //                                 <GotoIcon/>\r\n      //                             </IconButton>                            \r\n      //                           </Grid>\r\n      //                         </Grid>\r\n      //                         </ListItem>\r\n      //                       </div>\r\n      //                     )}\r\n      //                   </List>\r\n      //                 </Paper>\r\n      //               </Grid>\r\n    }\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Monthly total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       {/* <Grid item xs={12} sm={8}>           */}\r\n    //         {showItems}\r\n    //       {/* </Grid>      */}\r\n    //       {/* <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               // addItem()\r\n    //               setEnableEdit(true)\r\n    //           }}>Edit (Replace daily item information)</Button>\r\n    //         </div>\r\n    //       </Grid>      */}\r\n    //       <Grid item>\r\n    //         <Typography paragraph/>\r\n    //       </Grid>\r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Monthly'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={null}\r\n      // menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Month;","import React, { useState, useEffect, useContext } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst YearListItem = ({index, month, items, darkMode, appBarTitleColor, pickedStyle, repriceItem, enableEdit, passfoucs, toMonth}) => {\r\n\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n\treturn (\r\n\t\t<ListItem style={{padding: '3px'}}>\r\n\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t{/* <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\"> */}\r\n\t\t\t\t<Grid item xs={6} style={{paddingLeft: '30px', textAlign: 'start'}}>\r\n\t\t\t\t\t{/* <TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel='item'\r\n\t\t\t\t\tvalue={val.name}\r\n\t\t\t\t\tonChange={(e) => {renameItem(index, e.target.value)}}\r\n\t\t\t\t\t// onKeyPress={(e) => {\r\n\t\t\t\t\t//   if(index === items.length - 1)\r\n\t\t\t\t\t//     if(e.key === 'Enter')\r\n\t\t\t\t\t//       changeFocus();\r\n\t\t\t\t\t// }}\r\n\t\t\t\t\t/> */}\r\n\t\t\t\t\t<Typography>{month}</Typography>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t\t<Grid item xs={4} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tfullWidth\r\n\t\t\t\t\tcolor={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n\t\t\t\t\tdisabled={!enableEdit}\r\n\t\t\t\t\tautoFocus={passfoucs}\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\tlabel={t('others.total')}\r\n\t\t\t\t\tinputProps={{ style: {textAlign: 'end'} }}\r\n\t\t\t\t\tvalue={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n\t\t\t\t\tonChange={(e) => {repriceItem(index, e.target.value)}}\r\n\t\t\t\t\tonKeyPress={(e) => {\r\n\t\t\t\t\t// if(index === items.length - 1)\r\n\t\t\t\t\t//   if(e.key === 'Enter')\r\n\t\t\t\t\t//     addItem();\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xs={2} style={{paddingRight: '15px'}}>\r\n\t\t\t\t<IconButton\r\n\t\t\t\t\tstyle={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t// removeItem(index);\r\n\t\t\t\t\t\ttoMonth(index + 1);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t<GotoIcon/>\r\n\t\t\t\t</IconButton>                            \r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</ListItem>\r\n\t);\r\n\r\n}\r\n\r\nYearListItem.protoTypes = {\r\n\tindex: PropTypes.number.isRequired,\r\n\tmonth: PropTypes.string.isRequired,\r\n\titems: PropTypes.array.isRequired,\r\n\tdarkMode: PropTypes.bool.isRequired,\r\n\tappBarTitleColor: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\r\n\tpickedStyle: PropTypes.number.isRequired,\r\n\trepriceItem: PropTypes.func.isRequired,\r\n\tenableEdit: PropTypes.bool.isRequired,\r\n\tpassfoucs: PropTypes.bool.isRequired,\r\n\ttoMonth: PropTypes.func.isRequired\r\n}\r\n\r\nexport default YearListItem;","\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport GotoIcon from '@material-ui/icons/Visibility';\r\n\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport DateUtils from '../utils/DateUtils.js'\r\nimport OuterLayout from '../utils/OuterLayout.js'\r\nimport YearListItem from '../utils/YearListItem.js'\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\n// import link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Year = (props) => {\r\n\tconst { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n  const {day, month, year, changeDate} = useContext(DateContext);\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, darkMode, pickedStyle, muiTheme} = useContext(StyleContext);\r\n\r\n  const smUp = useMediaQuery(muiTheme.breakpoints.up('sm'));\r\n\r\n  const [total, setTotal] = useState(0)\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [passfoucs, setPassFoucs] = useState(false);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  const toMonth = (month) => {\r\n\t\tchangeDate(-1, month, year)\r\n\t\thistory.push('/month/'+ month +'/'+ year);\r\n\t}\r\n\r\n  const addItem = () => {\r\n    // setPassFoucs(true);\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.push({ name: 'New Item' + (newItems.length + 1), price: '' });\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const removeItem = (index) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //   newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems.splice(index, 1);\r\n\r\n    // setItems(newItems);\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n  }\r\n\r\n  const renameItem = (index, name) => {\r\n    \r\n    // makeChange(true)\r\n\r\n    // console.log(name)\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // newItems[index].name = name;\r\n\r\n    // setItems(newItems);\r\n  }\r\n\r\n  const repriceItem = (index, price) => {\r\n\r\n    // makeChange(true)\r\n\r\n    // if(isNaN(price)){\r\n    //   price = 0\r\n    //   return;\r\n    // }\r\n\r\n    // if(!/^\\d+(?:\\.\\d{0,2})?$/.test(price))\r\n    //   return;\r\n\r\n    // const newItems = [...items];\r\n\r\n    // if(index !== newItems.length - 1)\r\n    //   if(newItems.length > 0 && newItems[newItems.length - 1].price === '')\r\n    //     newItems[newItems.length - 1].price = '0';\r\n\r\n    // // newItems[index].price = Number(price);\r\n    // newItems[index].price = price === '' ? '0' : price;\r\n    // setTotal(newItems.map(val => parseFloat(val.price) * 100).reduce((a, b) => {return a + b} , 0) / 100)\r\n    // setItems(newItems);\r\n    // setTotal(total + Number(price))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    // console.log('testChange')\r\n\r\n    if(!loggedin){\r\n      toHome();\r\n\r\n    }\r\n\r\n    // makeChange(false)\r\n\r\n    // console.log(props.loggedin);\r\n    // console.log(props.user_id);\r\n    // console.log(props.loginToken);\r\n    // console.log(props.data);\r\n\r\n    // if(!props.loggedin){\r\n    //   toHome();\r\n    // }\r\n\r\n    // if(props.data === null){\r\n    //   Promise.resolve(fetch(link + 'api/data/' + props.user_id,{\r\n    //     method: 'GET',\r\n    //     headers: {\r\n    //       'Authorization' : props.loginToken\r\n    //     }\r\n    //   })).then((res) => {\r\n    //     if(res.ok){\r\n    //       Promise.resolve(res.json()).then((jsonData) => {\r\n    //         console.log(jsonData);\r\n\r\n    //         if(jsonData.result.years.includes(props.match.params.year)){\r\n    //           Promise.resolve(fetch(link + 'api/data/' + props.user_id + '?year=' + props.match.params.year,{\r\n    //             method: 'GET',\r\n    //             headers: {\r\n    //               'Authorization' : props.loginToken\r\n    //             }\r\n    //           })).then((res) => {\r\n    //             if(res.ok){\r\n    //               Promise.resolve(res.json()).then((jsonData) => {\r\n    //                 console.log(jsonData);\r\n    //                 props.addData(props.match.params.year, jsonData);\r\n    //               }).catch((err) => {\r\n    //                 console.log(err)\r\n    //                 return;\r\n    //               })\r\n    //             }\r\n    //             else{\r\n    //               console.log('404')\r\n    //               return;\r\n    //             }\r\n    //           }).catch((err) => {\r\n    //             console.log(err)\r\n    //             return;\r\n    //           })\r\n    //         }\r\n    //         else{\r\n    //           props.addData(props.match.params.year, null);\r\n    //         }\r\n\r\n    //       }).catch((err) => {\r\n    //         console.log(err)\r\n    //         return;\r\n    //       })\r\n    //     }\r\n    //     else{\r\n    //       console.log('404')\r\n    //       return;\r\n    //     }\r\n    //   }).catch((err) => {\r\n    //     console.log(err)\r\n    //     return;\r\n    //   })\r\n    // }\r\n\r\n    var items = {\r\n      // '01': 100.4,\r\n      // '07': 500.5,\r\n      // '11': 1240,\r\n    }\r\n\r\n    if(data !== null){\r\n      if(data[year] !== undefined){\r\n        if(data[year] !== undefined){\r\n            for(var month of Object.keys(data[year])){\r\n\r\n              items[month.padStart(2, \"0\")] = 0;\r\n\r\n              for(var day of Object.keys(data[year][month])){\r\n                items[month.padStart(2, \"0\")] += parseFloat(data[year][month][day].total) * 100;\r\n              }\r\n\r\n              items[month.padStart(2, \"0\")] /= 100;\r\n            }\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(items)\r\n\r\n    setItems(items)\r\n\r\n    var t = 0;\r\n\r\n    for(var key of Object.keys(items))\r\n      t += parseFloat(items[key]) * 100;\r\n\r\n    setTotal(t/ 100)\r\n\r\n  }, [props.match.params, data])\r\n\r\n\r\n  var showItems;\r\n\r\n  if(items === null || items.length <= 0){\r\n    showItems = null\r\n  }\r\n  else{\r\n    if(smUp){\r\n\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper elevation={0} style={darkMode ? {maxHeight: '60vh', overflow: 'auto', padding: '5px 5px', backgroundColor: '#303030'} : {maxHeight: '60vh', overflow: 'auto', padding: '5px 5px'}}>\r\n                      <div style={{display: 'grid', gridTemplateColumns: 'auto auto auto auto', gridGap: '2px'}}>\r\n                        {Array.apply(null, Array(12)).map((val, index) => \r\n                              <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" key={index}>\r\n                                <Paper style={{padding: '3px', maxWidth: '150px'}}>\r\n                                    <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\">\r\n                                      <Grid item xs={12} container spacing={0} justify=\"space-between\" alignItems=\"center\" style={{padding: '0px 10px'}}>\r\n                                        <Grid item xs={6}>\r\n                                            <Typography>\r\n                                              {DateUtils.months[(index)]}\r\n                                            </Typography>\r\n                                        </Grid>\r\n                                        <Grid item xs={6} style={{textAlign: 'end'}}>\r\n                                          <IconButton\r\n                                            style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n                                            size=\"small\"\r\n                                            onClick={() => {\r\n                                              // removeItem(index);\r\n                                              toMonth(index + 1)\r\n                                            }}\r\n                                            >\r\n                                              <GotoIcon/>\r\n                                          </IconButton>                            \r\n                                        </Grid>\r\n                                      </Grid>\r\n                                      <Grid item xs={12} style={{padding: '0px 10px'}}>\r\n                                        <TextField\r\n                                          fullWidth\r\n                                          disabled={!enableEdit}\r\n                                          autoFocus={passfoucs}\r\n                                          variant='outlined'\r\n                                          margin='dense'\r\n                                          label={t('others.total')}\r\n                                          inputProps={{ style: {textAlign: 'end'} }}\r\n                                          value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n                                          onChange={(e) => {repriceItem(index, e.target.value)}}\r\n                                          onKeyPress={(e) => {\r\n                                            // if(index === items.length - 1)\r\n                                            //   if(e.key === 'Enter')\r\n                                            //     addItem();\r\n                                          }}\r\n                                        />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Paper>\r\n                              </Grid>\r\n                            )}\r\n                        </div>\r\n                      </Paper>\r\n                    </Grid>\r\n    }\r\n    else{\r\n      showItems = <Grid item xs={12}>\r\n                    <Paper style={{maxHeight: '60vh', overflow: 'auto'}}>\r\n                        <List style={{padding: '5px 8px'}}>\r\n                          {Array.apply(null, Array(12)).map((val, index) => \r\n                            <div key={index}>\r\n                              {index === 0 ? null : <Divider/>}\r\n                              <YearListItem\r\n                                index={index}\r\n                                month={DateUtils.months[index]}\r\n                                items={items}\r\n                                darkMode={darkMode}\r\n                                appBarTitleColor={appBarTitleColor}\r\n                                pickedStyle={pickedStyle}\r\n                                repriceItem={repriceItem}\r\n                                enableEdit={enableEdit}\r\n                                passfoucs={passfoucs}\r\n                                toMonth={toMonth}\r\n                              />\r\n                            </div>\r\n                          )}\r\n                        </List>\r\n                      </Paper>\r\n                    </Grid>\r\n                    \r\n      // showItems = <Grid item xs={12}>\r\n      //               <Paper style={{maxHeight: '60vh', overflow: 'auto'}}>\r\n      //                   <List style={{padding: '5px 8px'}}>\r\n      //                     {Array.apply(null, Array(12)).map((val, index) => \r\n      //                       <div key={index}>\r\n      //                         {index === 0 ? null : <Divider/>}\r\n      //                         <ListItem style={{padding: '3px'}}>\r\n      //                         <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n      //                           {/* <Grid item xs={6} container spacing={0} justify=\"center\" alignItems=\"center\"> */}\r\n      //                             <Grid item xs={6} style={{paddingLeft: '30px', textAlign: 'start'}}>\r\n      //                               {/* <TextField\r\n      //                                 fullWidth\r\n      //                                 variant='outlined'\r\n      //                                 margin='dense'\r\n      //                                 label='item'\r\n      //                                 value={val.name}\r\n      //                                 onChange={(e) => {renameItem(index, e.target.value)}}\r\n      //                                 // onKeyPress={(e) => {\r\n      //                                 //   if(index === items.length - 1)\r\n      //                                 //     if(e.key === 'Enter')\r\n      //                                 //       changeFocus();\r\n      //                                 // }}\r\n      //                               /> */}\r\n      //                               <Typography>{DateUtils.months[(index)]}</Typography>\r\n      //                             </Grid>\r\n      //                           {/* </Grid> */}\r\n      //                           <Grid item xs={4} style={{paddingRight: '15px'}}>\r\n      //                             <TextField\r\n      //                               fullWidth\r\n      //                               color={pickedStyle === 0 ? 'primary' : 'secondary'}\r\n      //                               disabled={!enableEdit}\r\n      //                               autoFocus={passfoucs}\r\n      //                               variant='outlined'\r\n      //                               margin='dense'\r\n      //                               label='total'\r\n      //                               inputProps={{ style: {textAlign: 'end'} }}\r\n      //                               value={items[(index + 1).toString().padStart(2, \"0\")] === undefined ? 0 : items[(index + 1).toString().padStart(2, \"0\")]}\r\n      //                               onChange={(e) => {repriceItem(index, e.target.value)}}\r\n      //                               onKeyPress={(e) => {\r\n      //                                 // if(index === items.length - 1)\r\n      //                                 //   if(e.key === 'Enter')\r\n      //                                 //     addItem();\r\n      //                               }}\r\n      //                             />\r\n      //                           </Grid>\r\n      //                           <Grid item xs={2} style={{paddingRight: '15px'}}>\r\n      //                             <IconButton\r\n      //                               style={darkMode ? {color: '#fff'} : {color: `${appBarTitleColor[pickedStyle]}`}}\r\n      //                               onClick={() => {\r\n      //                                 // removeItem(index);\r\n      //                               }}\r\n      //                               >\r\n      //                                 <GotoIcon/>\r\n      //                             </IconButton>                            \r\n      //                           </Grid>\r\n      //                         </Grid>\r\n      //                         </ListItem>\r\n      //                       </div>\r\n      //                     )}\r\n      //                   </List>\r\n      //                 </Paper>\r\n      //               </Grid>\r\n    }\r\n\r\n  }\r\n\r\n\r\n\treturn (\r\n    // <ThemeProvider theme={muiTheme}>\r\n    //   <CssBaseline />\r\n    //   <div style={{paddingLeft: '10px', paddingRight: '10px'}}>\r\n    //       <Grid item container spacing={0} justify=\"flex-end\" alignItems=\"center\" style={{paddingTop: '4px', paddingBottom: '4px', margin: '5px'}}>\r\n    //         <Grid item xs={6} sm={2} style={{textAlign: 'center'}}>\r\n    //           <Typography>Annual total: </Typography>\r\n    //         </Grid>\r\n    //         <Grid item xs={6} sm={3} style={{paddingRight: '2vw'}}>\r\n    //           <TextField\r\n    //             disabled={true}\r\n    //             fullWidth\r\n    //             variant='outlined'\r\n    //             margin='dense'\r\n    //             inputProps={{ style: {textAlign: 'end'} }}\r\n    //             value={total}\r\n    //           />\r\n    //         </Grid>\r\n    //       </Grid>\r\n    //     <Divider/>\r\n    //     <Grid item>\r\n    //       <Typography paragraph/>\r\n    //     </Grid>\r\n    //     <Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n    //       {/* <Grid item xs={12} sm={8}>           */}\r\n    //         {showItems}\r\n    //       {/* </Grid>      */}\r\n    //       {/* <Grid item xs={12} sm={6} style={{paddingTop: '10px'}}>          \r\n    //         <div style={{backgroundImage: `${menubgImgStyle}`, paddingTop: '4px', paddingBottom: '4px'}}>\r\n    //           <Button style={{color: 'white', textTransform: 'none'}} fullWidth align=\"center\" onClick={() => {\r\n    //               // addItem()\r\n    //               setEnableEdit(true)\r\n    //           }}>Edit (Replace monthly information)</Button>\r\n    //         </div>\r\n    //       </Grid> */}\r\n    //       <Grid item>\r\n    //         <Typography paragraph/>\r\n    //       </Grid>     \r\n    //     </Grid>     \r\n    //   </div>\r\n    // </ThemeProvider>\r\n    <OuterLayout\r\n      muiTheme={muiTheme}\r\n      viewVariant={'Annual'}\r\n      total={total}\r\n      showItems={showItems}\r\n      addItem={null}\r\n      // menubgImgStyle={menubgImgStyle}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Year;","import React, { useState, useEffect, useContext } from 'react';\r\nimport {AuthContext} from '../context/AuthContext.js'\r\nimport {StyleContext} from '../context/StyleContext.js'\r\nimport {DateContext} from '../context/DateContext.js'\r\nimport {DataStoreContext} from '../context/DataStoreContext.js'\r\n\r\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RemoveIcon from '@material-ui/icons/DeleteForever';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\r\n\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport { DialogActions, DialogContent, DialogTitle } from \"@material-ui/core\";\r\n\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n// https://stackoverflow.com/questions/63150232/react-js-material-ui-how-to-format-textfield-as-an-amount\r\n\r\n// import link from '../utils/restful'\r\nimport { Divider, Grid, TextField, Button, List, ListItem, Paper } from '@material-ui/core';\r\n\r\nconst Setting = (props) => {\r\n  const { t, i18n } = useTranslation();\r\n\r\n  const history = useHistory();\r\n\r\n  const {loggedin, setLoggedIn, setUserId, setLoginToken} = useContext(AuthContext);\r\n\r\n  const {lastUpdate, edited, data, data_copy, setLastUpdate, makeChange, setData, setDataCopy} = useContext(DataStoreContext);\r\n  const {colorSet, appBarTitleColor, pickedStyle, setPickedStyle, darkMode, setDarkMode, muiTheme} = useContext(StyleContext);\r\n\r\n  const [openColors, setOpenColors] = useState(false);\r\n\r\n  // const colorSet = [['#0066FF', '#0052D6', '#003DAD', '#002984'], ['#FF5588', '#FF396C', '#FF1C4F', '#FF0033']]\r\n  var menubgImgStyle = 'radial-gradient(circle at 50% 50%, ' + colorSet[pickedStyle][0] + ' 5%, ' + colorSet[pickedStyle][1] + ' 15%, ' + colorSet[pickedStyle][2] + ' 25%, ' + colorSet[pickedStyle][3] + ' 50%)';\r\n\r\n  const toHome = () => {\r\n    history.push('/');\r\n  }\r\n\r\n  const changeDarkMode = () => {\r\n\t// makeChange(true);\r\n\tsetDarkMode(!darkMode);\r\n  }\r\n\r\n  const closeColors = () => {\r\n    setOpenColors(false)\r\n  }\r\n\r\n  const clickOpenColors = () => {\r\n    setOpenColors(true)\r\n  }\r\n\r\n  const setPicked = (index) => {\r\n\t// makeChange(true);\r\n    setPickedStyle(index)\r\n  }\r\n\r\n  var colorsDialog = <Dialog open={openColors} onClose={closeColors}>\r\n\t\t\t\t\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t\t\t\t\tSelect Theme\r\n\t\t\t\t\t\t\t\t</DialogTitle>\r\n\t\t\t\t\t\t\t\t<DialogContent style={{display: 'flex'}}>\r\n\t\t\t\t\t\t\t\t\t{appBarTitleColor.map((value, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<Paper key={index} onClick={() => {setPicked(index); closeColors()}} style={{width: '50px', height: '50px', backgroundColor: value, margin: '10px'}}/>))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t</Dialog>\r\n\r\n  useEffect(() => {\r\n\r\n    if(!loggedin){\r\n\t\ttoHome();\r\n  \r\n\t  }\r\n\r\n  }, [])\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={muiTheme}>\r\n\t\t\t<CssBaseline />\r\n\t\t\t{colorsDialog}\r\n\t\t\t<div>\r\n\t\t\t\t<Grid container spacing={0} item justify=\"center\" alignItems=\"center\">\r\n\t\t\t\t\t<Grid item xs={12}>          \r\n\t\t\t\t\t<Paper elevation={0} style={darkMode ? {maxHeight: '60vh', overflow: 'auto', backgroundColor: '#303030'} : {maxHeight: '60vh', overflow: 'auto'}}>\r\n\t\t\t\t\t\t\t<List>\r\n\t\t\t\t\t\t\t\t<ListItem onClick={changeDarkMode}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={10} style={{paddingLeft: '15px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>{t('others.dark')}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} style={{textAlign: 'end'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={darkMode}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={changeDarkMode}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>                            \r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t\t<ListItem onClick={clickOpenColors}>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={10} style={{paddingLeft: '15px'}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Typography>{t('others.color')}</Typography>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={2} style={{textAlign: 'end'}}>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton style={{color: `${appBarTitleColor[pickedStyle]}`}}>\r\n\t\t\t\t\t\t\t\t\t\t\t<OpenInNewIcon/>\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>    \r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>    \r\n\t\t\t\t</Grid>     \r\n\t\t\t</div>\r\n\t\t</ThemeProvider>\r\n\t);\r\n}\r\n\r\nexport default Setting;","import React, { useEffect, useState } from 'react';\n// import logo from './logo.svg';\n// import './App.css';\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from \"@material-ui/core/Button\";\n\nimport AuthProvider from './context/AuthContext.js'\nimport StyleProvider from './context/StyleContext.js'\nimport DateProvider from './context/DateContext.js'\nimport DataStoreProvider from './context/DataStoreContext.js'\n\nimport { useTranslation } from 'react-i18next';\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\n\nimport CalenAppBar from './utils/AppBar.js';\n\nimport Login from './routes/login.js';\nimport Day from './routes/day.js';\nimport Month from './routes/month.js';\nimport Year from './routes/year.js';\nimport Setting from './routes/setting.js';\n\nimport {Route, Switch, BrowserRouter} from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nfunction App() {\n\n  const history = createBrowserHistory();\n\n\tconst { t, i18n } = useTranslation();\n\n  const preventDefault = (e) => {\n    history.go(1)\n  }\n\n  useEffect(() => {\n    window.addEventListener('popstate', (e) => preventDefault(e));\n  },[])\n\n  return(\n      <AuthProvider>\n        <DateProvider>\n          <DataStoreProvider>\n            <StyleProvider>\n              <BrowserRouter history={history} basename={process.env.PUBLIC_URL}>\n                {/* {showLogin} */}\n                {/* {showCalenAppBar} */}\n                <CalenAppBar/>\n                <Switch>\n                  <Route exact path='/' render={(props) => <Login {...props} />} />\n                  <Route path='/year/:year' render={(props) => <Year {...props} />} />\n                  <Route path='/month/:month/:year' render={(props) => <Month {...props} />}/>\n                  <Route path='/day/:day/:month/:year' render={(props) => <Day {...props} />}/>\n                  <Route path='/setting' render={(props) => <Setting {...props} />} />\n                </Switch>\n                <Grid container spacing={0} direction=\"column\" justify=\"center\" alignItems=\"center\" style={{marginTop: '1vh'}}>\n                  <Grid container item justify=\"center\" alignItems=\"center\" style={{maxWidth: '300px', paddingTop: '4px', paddingBottom: '4px', margin: '5px 0px'}}>\n                    <ButtonGroup variant=\"text\" color=\"primary\">\n                      {Object.keys(i18n.store.data).map((val) => (\n                        <Button\n                          key={val}\n                          style={{fontSize: '12px'}}\n                          onClick={() => i18n.changeLanguage(val)}\n                        >\n                          {t('lang.' + val)}\n                        </Button>\n                      ))}\n                    </ButtonGroup>\n                  </Grid>\n                </Grid>\n              </BrowserRouter>\n            </StyleProvider>\n          </DataStoreProvider>\n        </DateProvider>\n      </AuthProvider>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport './i18next.js'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.Fragment>\n    <App />\n  </React.Fragment>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}